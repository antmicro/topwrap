{% if desc_comms %}
// Interface definition for:
//
//  name: {{ intf.id.name }}
//  vendor: {{ intf.id.vendor }}
//  library: {{ intf.id.library }}
//
// Automatically generated by Topwrap at {{ gen_date() }}

{% endif %}
interface {{ intf.id.name|sv_var }}{% if package_name %} import {{ package_name }}::*; (){% endif %};
{% for sig in intf.signals %}
  {{ serialize_type(sig.type)|indent }} {{ sig.name|sv_var }};
{% endfor %}

{% for mode, modeports in modports.items() %}
  modport {{ mode.value }}(
{%- for dir, sigs in modeports.items() %}

    {% if dir.name == "IN" %}input {% elif dir.name == "OUT" %}output {% else %}inout {% endif %}
    {{- sigs|map(attribute="name")|map("sv_var")|join(", ") }}{% if not loop.last %},{% endif %}
{% endfor +%}
  );

{% endfor %}
endinterface

