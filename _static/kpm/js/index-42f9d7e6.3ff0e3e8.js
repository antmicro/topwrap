"use strict";(self.webpackChunkpipeline_manager=self.webpackChunkpipeline_manager||[]).push([[601],{3972:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(20641),o=n(90033);const i=(0,a.pM)({props:{top:{type:Number,default:0},left:{type:Number,default:0},text:{type:String,required:!0}},setup:e=>({styles:(0,a.EW)((()=>{const t={};return t.top=`${e.top}px`,t.left=`${e.left}px`,t}))})}),r=(0,n(66262).A)(i,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",{class:"__tooltip",style:(0,o.Tr)(e.styles)},(0,o.v_)(e.text),5)}]])},13414:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(20641);const o={id:"app"},i={},r=(0,n(66262).A)(i,[["render",function(e,t){const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(n)])}]])},15995:(e,t,n)=>{n.d(t,{w5:()=>S,tQ:()=>W,XC:()=>j,Kv:()=>Y,Am:()=>R,IM:()=>C,nh:()=>K,Tq:()=>m,s$:()=>ce});var a=n(20641),o=n(90033);const i={class:"create-menu"},r={key:0,class:"option-label"};var s=n(50953),l=n(3455),u=n(93149),d=n(31897),c=n(878),p=n(96422);const v=(0,a.pM)({props:{modelValue:{type:Boolean,default:!1},saveConfiguration:{required:!0,type:Object}},setup(e,{emit:t}){const n=(t,n)=>[(0,a.EW)((()=>{if(void 0===e.saveConfiguration[n])return;const a=new c.A(t,e.saveConfiguration[n]);return a.events.setValue.subscribe(this,(t=>{e.saveConfiguration[n]=t})),a.setDefaultComponent(),a})),n],o=(0,s.lW)(e,"saveConfiguration"),i=(e,t)=>{const n=()=>{const t=new l.A(e);return t.componentName="InputInterface",t.setComponent((0,s.IG)(u.default)),t},i=(0,a.EW)((()=>void 0!==o.value[t])),r=(0,s.KR)(i.value?n():void 0);return(0,a.wB)(i,((e,t)=>{t!==e&&(r.value=e?n():void 0)})),[r,t]},r=n("Make graph read only","readonly"),v=n("Disable HUD","hideHud"),h=n("Preserve current view location","position"),m=n("Save graph","graph"),f=n("Minify","minify"),g=i("Graph name","graphName"),y=i("File name","saveName"),b=[(0,a.EW)((()=>new d.A("Save",(()=>{e.saveConfiguration.saveCallback(),e.modelValue&&t("update:modelValue",!1)})))),void 0];return{options:(0,a.EW)((()=>[r,v,h,m,f,g,y,b].filter((([e,t])=>void 0!==e.value)).map((([e,t])=>[e.value,t])))),getOptionName:p.BW}}});var h=n(66262);const m=(0,h.A)(v,[["render",function(e,t,n,s,l,u){return(0,a.uX)(),(0,a.CE)("div",i,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(([t,n])=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"option"},[e.getOptionName(t.componentName)?((0,a.uX)(),(0,a.CE)("div",r,(0,o.v_)(t.name),1)):(0,a.Q3)("",!0),((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{intf:t,modelValue:e.saveConfiguration[n],"onUpdate:modelValue":t=>e.saveConfiguration[n]=t,class:(0,o.C4)({"__name-option":e.getOptionName(t.componentName)})},null,8,["intf","modelValue","onUpdate:modelValue","class"]))])))),128))])}]]);var f=n(53751);const g={class:"popup-menu"},y={class:"__header"},b={class:"__header-title"};var w=n(1691);const k=(0,a.pM)({props:{modelValue:{type:Boolean,default:!1},title:{type:String}},components:{Cross:w.A},setup:(e,{emit:t})=>({close:()=>{e.modelValue&&t("update:modelValue",!1)}})}),C=(0,h.A)(k,[["render",function(e,t,n,i,r,s){const l=(0,a.g2)("Cross");return(0,a.uX)(),(0,a.CE)("div",g,[(0,a.bo)((0,a.Lk)("div",y,[(0,a.Lk)("div",b,(0,o.v_)(e.title),1),(0,a.bF)(l,{tabindex:"-1",class:"__close",onClick:e.close},null,8,["onClick"])],512),[[f.aG,e.title]]),(0,a.RG)(e.$slots,"default")])}]]),E={class:"create-menu"},A={key:0,class:"option-label"};var M=n(21585);const N=(0,a.pM)({props:{modelValue:{type:Boolean,default:!1},exportGraph:{required:!0,type:Object}},setup(e,{emit:t}){const n=(t,n)=>[(0,a.EW)((()=>{if(void 0===e.exportGraph[n])return;const a=new M.A(t,e.exportGraph[n]);return a.events.setValue.subscribe(this,(t=>{e.exportGraph[n]=t})),a.setDefaultComponent(),a})),n],o=n("Width","width"),i=n("Height","height"),r=[(0,a.EW)((()=>{const e=new l.A("File name");return e.componentName="InputInterface",e.setComponent((0,s.IG)(u.default)),e})),"saveName"],c=[(0,a.EW)((()=>new d.A("Export",(()=>{e.exportGraph.exportCallback(),e.modelValue&&t("update:modelValue",!1)})))),void 0];return{options:(0,a.EW)((()=>[o,i,r,c].filter((([e,t])=>void 0!==e.value)).map((([e,t])=>[e.value,t])))),getOptionName:p.BW}}}),S=(0,h.A)(N,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",E,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(([t,n])=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"option"},[e.getOptionName(t.componentName)?((0,a.uX)(),(0,a.CE)("div",A,(0,o.v_)(t.name),1)):(0,a.Q3)("",!0),((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{intf:t,modelValue:e.exportGraph[n],"onUpdate:modelValue":t=>e.exportGraph[n]=t,class:(0,o.C4)({"__name-option":e.getOptionName(t.componentName)})},null,8,["intf","modelValue","onUpdate:modelValue","class"]))])))),128))])}]]),x={class:"create-menu"},I={class:"option-label"};var L=n(63491),_=n(39021),V=n(8328);const P=function(e,t,n){return(0,a.EW)((()=>{const a=new l.A(e,t).setPort(!1);return a.componentName="InputInterface",a.configurationVModel=n,a.setComponent((0,s.IG)(u.default)),a}))},F=(0,a.pM)({setup(){const e={name:"New interface",type:"",direction:(0,s.KR)("inout")},t=P("Interface name",e.name,"name"),n=P("Interface type",e.type,"type"),o=(0,a.EW)((()=>{const t=new L.mk("Interface direction",e.direction.value,["input","output","inout"]).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.direction.value=t})),t.componentName="SelectInterface",t})),i=(0,a.EW)((()=>{const t=new L.aw("Add interface",(()=>{if(""===e.type){const t={name:e.name,direction:e.direction.value};(0,_.J7)(t)}else{const t=e.type.split(","),n={name:e.name,type:1===t.length?e.type:t,direction:e.direction.value};(0,_.J7)(n)}V.x.interfaceMenu=!1}));return t.componentName="ButtonInterface",t}));return{configurationOptions:(0,a.EW)((()=>[t.value,n.value,o.value])),addInterfaceMenu:i,getOptionName:p.BW,newInterface:e}}}),W=(0,h.A)(F,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",x,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configurationOptions,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",I,(0,o.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),"InputInterface"===t.componentName?((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{key:0,intf:t,modelValue:e.newInterface[t.configurationVModel],"onUpdate:modelValue":n=>e.newInterface[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"])):((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{key:1,intf:t,class:"__name-option"},null,8,["intf"]))])))),128)),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.addInterfaceMenu.component),{intf:e.addInterfaceMenu},null,8,["intf"]))])}]]),O={class:"create-menu"},X={class:"option-label"};var T=n(46363),H=n(908);const D=(0,a.pM)({setup(){V.x.configurationMenu.addNode&&(V.c.nodeData={name:"Custom Node",category:"Default category",layer:"",description:""},V.c.properties=[],V.c.interfaces=[],V.c.editedType=void 0,V.c.success=!1);const e=V.c.nodeData,t=()=>{V.x.configurationMenu.visible=!1},n=P("Node name","Custom Node","name"),o=P("Node category","Default","category");V.c.nodeData.description||(V.c.nodeData.description="");const i=(0,a.EW)((()=>{const e=new T.A("Node description","Description").setPort(!1);return e.componentName="TextAreaInterface",e.configurationVModel="description",e.setComponent((0,s.IG)(H.default)),e})),r=(0,a.EW)((()=>{let e;return e=!0===V.x.configurationMenu.addNode?new L.aw("Create",(()=>{const e=(0,_.RM)();V.c.success=0===e.length,t()})):new L.aw("Configure",(()=>{const e=(0,_.$k)();V.c.success=0===e.length,t()})),e.componentName="ButtonInterface",e}));return{configurationOptions:(0,a.EW)((()=>[n.value,o.value,i.value])),create:r,getOptionName:p.BW,newNode:e}}}),R=(0,h.A)(D,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",O,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configurationOptions,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",X,(0,o.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{intf:t,modelValue:e.newNode[t.configurationVModel],"onUpdate:modelValue":n=>e.newNode[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"]))])))),128)),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.create.component),{intf:e.create},null,8,["intf"]))])}]]),$={class:"create-menu"},B={class:"option-label"},G=(0,a.pM)({setup(){const e={name:"New property",type:(0,s.KR)("text"),default:"Default",min:(0,s.KR)(0),max:(0,s.KR)(0)},t=(0,s.KR)(!1),n=P("Property name",e.name,"name"),o=(0,a.EW)((()=>{const n=new L.mk("Property type",e.type.value,["text","number","integer","bool","slider","constant","hex","multiline"]).setPort(!1);return n.events.setValue.subscribe(this,(n=>{n!==e.type.value&&(["text","constant"].includes(n)?e.default=n:["number","integer","slider","hex"].includes(n)?(e.default=(0,s.KR)(0),["slider"].includes(n)?t.value=!0:t.value=!1):["bool"].includes(n)&&(e.default=(0,s.KR)(!0)),e.type.value=n)})),n.componentName="SelectInterface",n})),i=(0,a.EW)((()=>{if(["text","constant"].includes(e.type.value)){const t=new l.A("Default value",e.default).setPort(!1);return t.componentName="InputInterface",t.configurationVModel="default",t.setComponent((0,s.IG)(u.default)),t}if(["number","integer","slider","hex"].includes(e.type.value)){const t=new L.qO("Default value",e.default.value).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.default.value=t})),t.componentName="IntegerInterface",t}const t=new L.b("Default value",e.default.value).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.default.value=t})),t.componentName="CheckboxInterface",t})),r=(0,a.EW)((()=>{const n=new L.aw("Add property",(()=>{const n={name:e.name,type:e.type.value,default:"string"==typeof e.default?e.default:e.default.value,min:t.value?e.min.value:void 0,max:t.value?e.max.value:void 0};(0,_.hm)(n),V.x.propertyMenu=!1}));return n.componentName="ButtonInterface",n})),d=(0,a.EW)((()=>{const e=new L.b("Use min / max",t.value).setPort(!1);return e.events.setValue.subscribe(this,(e=>{t.value=e})),e.componentName="CheckboxInterface",e})),c=(0,a.EW)((()=>{var t;const n=new L.qO("Min",null!==(t=e.min.value)&&void 0!==t?t:0).setPort(!1);return n.events.setValue.subscribe(this,(t=>{e.min.value=t})),n.componentName="IntegerInterface",n})),v=(0,a.EW)((()=>{var t;const n=new L.qO("Max",null!==(t=e.max.value)&&void 0!==t?t:1).setPort(!1);return n.events.setValue.subscribe(this,(t=>{e.max.value=t})),n.componentName="IntegerInterface",n}));return{configurationOptions:(0,a.EW)((()=>{let a=[n.value,o.value,i.value];return["number","integer","slider","hex"].includes(e.type.value)&&(["slider"].includes(e.type.value)||a.push(d.value),t.value&&(a=a.concat([c.value,v.value]))),a})),addPropertyMenu:r,getOptionName:p.BW,newProperty:e}}}),K=(0,h.A)(G,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",$,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configurationOptions,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",B,(0,o.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),"InputInterface"===t.componentName?((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{key:0,intf:t,modelValue:e.newProperty[t.configurationVModel],"onUpdate:modelValue":n=>e.newProperty[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"])):((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{key:1,intf:t,class:"__name-option"},null,8,["intf"]))])))),128)),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.addPropertyMenu.component),{intf:e.addPropertyMenu},null,8,["intf"]))])}]]),Q={class:"create-menu"},U={class:"option-label"},q=(0,a.pM)({setup(){const e=V.c.nodeData,t=P("Node layer","Default layer","layer"),n=(0,a.EW)((()=>{const e=new L.aw("Set layer",(()=>{(0,_.$k)(),V.x.layerMenu=!1}));return e.componentName="ButtonInterface",e}));return{configurationOptions:(0,a.EW)((()=>[t.value])),getOptionName:p.BW,newNodeData:e,setLayer:n}}}),j=(0,h.A)(q,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",Q,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configurationOptions,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",U,(0,o.v_)(e.getOptionName(t.componentName)?`${t.name}:`:""),1),((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.component),{intf:t,modelValue:e.newNodeData[t.configurationVModel],"onUpdate:modelValue":n=>e.newNodeData[t.configurationVModel]=n,class:"__name-option"},null,8,["intf","modelValue","onUpdate:modelValue"]))])))),128)),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.setLayer.component),{intf:e.setLayer},null,8,["intf"]))])}]]),z={class:"create-menu"},J=(0,a.pM)({props:{componentName:{type:String,required:!0},items:{type:Array,required:!0},confirmAction:{type:Function,required:!0},confirmText:{type:String,required:!0}},setup(e){const t=(0,s.KR)([]),n=(0,a.EW)((()=>{const n=(0,s.KR)([]);return e.items.forEach((e=>{const a=new c.A(e.name,!1);a.events.setValue.subscribe(this,(()=>function(e){const n=t.value.indexOf(e);n>=0?t.value.splice(n,1):t.value.push(e)}(e))),n.value.push(a)})),n.value})),o=(0,a.EW)((()=>{const n=new L.aw(e.confirmText,(()=>{e.confirmAction(t.value),V.x[e.componentName]=!1}));return n.componentName="ButtonInterface",n}));return{selectedItems:t,listedOptions:n,confirmButton:o}}}),Y=(0,h.A)(J,[["render",function(e,t,n,o,i,r){return(0,a.uX)(),(0,a.CE)("div",z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.listedOptions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128)),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.confirmButton.component),{intf:e.confirmButton},null,8,["intf"]))])}]]),Z={class:"welcome-container"},ee={class:"subtitle"},te={key:0},ne={class:"drop-text"},ae={class:"footer-links"},oe=["href"],ie={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},re=["d"],se=["points"];var le=n(34580);const ue=[{text:"Documentation",url:"https://antmicro.github.io/kenning-pipeline-manager/introduction.html",icon:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",polyline:"14,2 14,8 20,8"}],de=(0,a.pM)({props:{loadFiles:{type:Function,required:!0}},setup(e){const t=(0,s.KR)(!1),n=(0,a.EW)((()=>le.Ay.getEditorManagerInstance().specificationLoaded.value)),o=(0,a.EW)((()=>({NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_WELCOME_MESSAGE)));return{isDragging:t,specificationLoaded:n,welcomeMessage:o,links:ue,handleDrop:({dataTransfer:{files:n}})=>{t.value=!1,n.length&&e.loadFiles(n)}}}}),ce=(0,h.A)(de,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",Z,[(0,a.Lk)("p",ee,[e.welcomeMessage?((0,a.uX)(),(0,a.CE)("span",te,[(0,a.eW)((0,o.v_)(e.welcomeMessage)+" ",1),t[5]||(t[5]=(0,a.Lk)("br",null,null,-1)),t[6]||(t[6]=(0,a.Lk)("br",null,null,-1))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",{class:(0,o.C4)(["drop-zone",{dragging:e.isDragging}]),onDragover:t[1]||(t[1]=(0,f.D$)((t=>e.isDragging=!0),["prevent"])),onDragleave:t[2]||(t[2]=t=>e.isDragging=!1),onDrop:t[3]||(t[3]=(0,f.D$)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},[t[9]||(t[9]=(0,a.Lk)("svg",{class:"drop-icon",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},[(0,a.Lk)("path",{d:"M12 15V3m0 0l-4 4m4-4l4 4M2 17l.621 2.485A2 2 0 0 0 4.561 21h14.878a2 2 0 0 0\n                        1.94-1.515L22 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),(0,a.Lk)("h3",null,(0,o.v_)(e.specificationLoaded?"Drag & drop graph file or nodes":"Drag & drop specification of nodes"),1),(0,a.Lk)("p",ne,(0,o.v_)(e.specificationLoaded?"Either upload an existing graph in JSON format or start a new graph by drag and dropping nodes specified in the left sidebar":"Load a specification file in JSON format to provide available node types. Optionally upload both specification and graph"),1),t[10]||(t[10]=(0,a.Lk)("div",{class:"or-divider"},[(0,a.Lk)("span",null,"OR")],-1)),(0,a.Lk)("button",{class:"browse-button",onClick:t[0]||(t[0]=t=>e.$refs.fileInput.click())},[((0,a.uX)(),(0,a.Wv)((0,a.$y)("svg"),{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.Lk)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),(0,a.Lk)("polyline",{points:"14,2 14,8 20,8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),_:1,__:[7]})),t[8]||(t[8]=(0,a.eW)(" Browse files "))])],34),(0,a.Lk)("nav",ae,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.links,(({text:e,url:t,icon:n,polyline:i})=>((0,a.uX)(),(0,a.CE)("a",{key:e,href:t,target:"_blank",class:"footer-link"},[((0,a.uX)(),(0,a.CE)("svg",ie,[(0,a.Lk)("path",{d:n,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,re),i?((0,a.uX)(),(0,a.CE)("polyline",{key:0,points:i,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,se)):(0,a.Q3)("",!0)])),(0,a.eW)(" "+(0,o.v_)(e),1)],8,oe)))),128))]),(0,a.Lk)("input",{ref:"fileInput",type:"file",onChange:t[4]||(t[4]=t=>e.loadFiles(t.target.files)),multiple:"",accept:".json"},null,544)])}],["__scopeId","data-v-ad09295c"]])},21370:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(20641);const o={class:"blur-panel"};var i=n(53751);const r=(0,a.pM)({props:{blur:{type:Boolean,default:!0}},setup:e=>({backgroundColor:(0,a.EW)((()=>e.blur?"#{$gray-600}80":null)),backdropFilter:(0,a.EW)((()=>e.blur?"blur(10px)":null)),position:(0,a.EW)((()=>e.blur?"absolute":null))})}),s=()=>{(0,i.$9)((e=>({"09ab25c4":e.backgroundColor,"416482c2":e.backdropFilter,"5e37c91a":e.position})))},l=r.setup;r.setup=l?(e,t)=>(s(),l(e,t)):s;const u=r,d=(0,n(66262).A)(u,[["render",function(e,t,n,i,r,s){return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.RG)(e.$slots,"default")])}]])},29567:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(20641);const o={components:{Arrow:n(22007).A},emits:["click"],data:()=>({isHovered:!1})},i=(0,n(66262).A)(o,[["render",function(e,t,n,o,i,r){const s=(0,a.g2)("Arrow");return(0,a.uX)(),(0,a.CE)("div",{role:"button",class:"return-control export-hidden",onPointerover:t[0]||(t[0]=e=>i.isHovered=!0),onPointerleave:t[1]||(t[1]=e=>i.isHovered=!1),onClick:t[2]||(t[2]=t=>e.$emit("click"))},[(0,a.bF)(s,{rotate:"down",hover:i.isHovered,color:"white",class:"small_svg"},null,8,["hover"])],32)}],["__scopeId","data-v-31c81a72"]])},42231:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(20641),o=n(90033);const i={class:"notification-badge"},r={class:"notification-message"},s={class:"message"};var l=n(1691);const u={components:{ExclamationMark:n(4138).A,Cross:l.A},props:{type:{type:String,required:!0}}};var d=n(66262);const c=(0,d.A)(u,[["render",function(e,t,n,i,r,s){const l=(0,a.g2)("ExclamationMark"),u=(0,a.g2)("Cross");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(n.type)},["info"===n.type?((0,a.uX)(),(0,a.Wv)(l,{key:0})):(0,a.Q3)("",!0),"warning"===n.type?((0,a.uX)(),(0,a.Wv)(l,{key:1,rotate:"flip"})):(0,a.Q3)("",!0),"error"===n.type?((0,a.uX)(),(0,a.Wv)(u,{key:2,color:"white"})):(0,a.Q3)("",!0)],2)}],["__scopeId","data-v-9ef0f814"]]);var p=n(35127);const v={components:{Cross:l.A,NotificationBadge:c},props:{message:{type:String,required:!0},type:{type:String,required:!0},border:{type:String,default:"none"},index:{type:Number,default:0}},data:()=>({notificationStore:p.xv}),methods:{remove(){p.xv.removeOne(this.index)}}},h=(0,d.A)(v,[["render",function(e,t,n,l,u,d){const c=(0,a.g2)("NotificationBadge"),p=(0,a.g2)("Cross");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)([n.border,"notification-container"])},[(0,a.Lk)("div",i,[(0,a.bF)(c,{type:n.type},null,8,["type"])]),(0,a.Lk)("div",r,["info"===n.type?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,o.C4)(n.type)},"Info",2)):(0,a.Q3)("",!0),"warning"===n.type?((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)(n.type)},"Warning",2)):(0,a.Q3)("",!0),"error"===n.type?((0,a.uX)(),(0,a.CE)("span",{key:2,class:(0,o.C4)(n.type)},"Error",2)):(0,a.Q3)("",!0),(0,a.Lk)("span",s,(0,o.v_)(n.message),1)]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>d.remove&&d.remove(...e)),tabindex:"-1"},[(0,a.bF)(p,{color:"white",tabindex:"-1"})])],2)}],["__scopeId","data-v-0512bfcb"]])},60524:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(20641),o=n(53751),i=n(90033),r=n(50953),s=n(63491),l=n(58365);const u=(0,a.pM)({props:{position:{type:Object,required:!0},rightclickCallback:{required:!0,type:Function}},setup(e){const{graph:t}=(0,s.uU)(),{viewModel:n}=(0,s.if)(),o=(0,a.EW)((()=>({cx:(e.position.x+t.value.panning.x)*t.value.scaling+"px",cy:(e.position.y+t.value.panning.y)*t.value.scaling+"px",r:7.5*t.value.scaling+"px"}))),i=(0,l.A)((0,r.KR)(e.position)),u=()=>{i.onPointerUp(),document.removeEventListener("pointermove",i.onPointerMove),document.removeEventListener("pointerup",u)};return{styles:o,startDrag:e=>{n.value.editor.readonly||(i.onPointerDown(e),document.addEventListener("pointermove",i.onPointerMove),document.addEventListener("pointerup",u))}}}}),d=(0,n(66262).A)(u,[["render",function(e,t,n,r,s,l){return(0,a.uX)(),(0,a.CE)("g",{onPointerdown:[t[0]||(t[0]=(0,o.D$)(((...t)=>e.startDrag&&e.startDrag(...t)),["left"])),t[1]||(t[1]=(0,o.D$)(((...t)=>e.rightclickCallback&&e.rightclickCallback(...t)),["right","exact"]))],class:"anchor"},[(0,a.Lk)("circle",{style:(0,i.Tr)(e.styles)},null,4)],32)}]])},72208:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(20641),o=n(53751),i=n(90033);const r={key:0,ref:"root",class:"__spec-editor-section"},s={class:"__spec-editor"},l=["disabled"],u={class:"__validation_errors"},d={key:1,style:{color:"var(--baklava-control-color-primary)"}};var c=n(46670),p=n.n(c),v=n(50953),h=n(34580),m=n(93617),f=n(8328),g=n(39021);const y=(0,a.pM)({props:{node:{required:!0,type:Object},scrollHandle:{required:!1,type:HTMLElement}},setup(e){const t=h.Ay.getEditorManagerInstance(),n=(0,v.lW)(e,"node"),o=(0,v.KR)(null),i=(0,v.KR)(null);let r;const s=e=>void 0!==e?p().stringify(e):"",l=e=>{const t=e.isCategory??!1,a=n.value?.type;return a===(t?e.category?.split("/").slice(-1)[0]:e.name)},u=(0,v.KR)(null);(0,a.wB)([()=>t.specification.unresolvedSpecification.nodes,n],(()=>{const e=t.specification.unresolvedSpecification,n=t.specification.includedSpecification,a=JSON.parse(JSON.stringify(e));h.Ay.mergeObjects(a,n),u.value=a}),{immediate:!0,deep:!0});const d=(0,a.EW)((()=>u.value?.nodes?.find(l))),c=(0,v.KR)(s(d.value));(0,a.wB)(d,(async()=>{c.value=t.modifiedNodeSpecificationRegistry[n.value.id]??s(d.value)}));const y=(e,t)=>{const n=new Map;return e.forEach((e=>{let a=1;n.has(e[t])&&(a=n.get(e[t])+1),n.set(e[t],a)})),Array.from(n.entries()).filter((([e,t])=>t>1)).map((([e])=>e))},b=e=>{if(!e?.interfaces)return;const t=y(e.interfaces,"name");if(t.length>0)throw new Error(`Conflicting interface names: ${t.join(", ")}`)},w=e=>{const n=t.validateNode(e);if(n.length)throw new Error(n)},k=e=>{if(!e?.properties)return;const t=y(e.properties,"name");if(t.length>0)throw new Error(`Conflicting property names: ${t.join(", ")}`)},C=e=>{const n=t.validateNodeStyle(e);if(n.length)throw new Error(n)},E=()=>{const e=[];try{const t=p().parse(c.value.replaceAll("\t","  "));if(JSON.stringify(d.value)===JSON.stringify(t))return[];try{w(t)}catch(t){e.push(t)}try{k(t)}catch(t){e.push(t)}try{b(t)}catch(t){e.push(t)}try{C(t)}catch(t){e.push(t)}}catch(t){e.push(t)}return e},A=(0,v.KR)([]),M=()=>{A.value=E()},N=(0,a.EW)((()=>d.value&&t.baklavaView.settings.editableNodeTypes));M();const S=(0,a.EW)((()=>{try{const e=p().parse(c.value.replaceAll("\t","  "));if(JSON.stringify(d.value)===JSON.stringify(e))return!1;const t=p().parse(c.value.replaceAll("\t","  "));return w(t),k(t),b(t),!0}catch(e){return!1}})),x=()=>{if(!N.value)return;const{scrollHandle:a}=e;let o;e.scrollHandle&&(o=a.scrollTop),i.value.style.height="auto",i.value.style.height=`${i.value.scrollHeight}px`,void 0!==a&&a.scrollTop<o&&(a.scrollTop=o),t.modifiedNodeSpecificationRegistry[n.value.id]=c.value,i.value&&(i.value.removeEventListener("keyup",i.value.liveValidateListener),i.value.liveValidateListener=()=>{clearTimeout(r),r=setTimeout(M,500)},i.value.addEventListener("keyup",i.value.liveValidateListener))},I=()=>(0,a.dY)().then(x);(0,a.wB)(c,I),(0,a.wB)(N,I),I(),(0,a.wB)(d,(async()=>{c.value=t.modifiedNodeSpecificationRegistry[n.value.id]??s(d.value)}));const L=()=>{if(f.x.configurationMenu.addNode)return;n.value.type=f.c.nodeData.name;const e=t.specification.unresolvedSpecification?.nodes?.find(l);d.value=e,c.value=s(e),t.modifiedNodeSpecificationRegistry[n.value.id]=c.value};return(0,a.wB)(f.x,(()=>(0,a.dY)().then(L))),(0,a.sV)((()=>{document.addEventListener("click",M),(0,a.dY)((()=>{x(),setTimeout((()=>{x()}),10)}))})),(0,a.xo)((()=>{document.removeEventListener("click",M)})),{el:i,root:o,handleInput:x,currentSpecification:c,specification:d,validate:E,updateSpecification:async()=>{try{const e=E();if(e.length>0)throw new Error(e);const a=p().parse(c.value.replaceAll("\t","  ")),{style:o}=a;Array.isArray(o)&&o.includes(h.L6)||(a.style=h.Ay.mergeStyles(o,h.L6));const i=n.value.type,r=(0,g.zM)(i);r.forEach((e=>{e.type===e.title?e.title=h.Ay.getNodeName(a):e.highlightedType=h.Ay.getNodeName(a),e.type=h.Ay.getNodeName(a),Object.entries(a).forEach((([t,n])=>{void 0!==n&&"name"!==t&&(e[t]=n)}))}));let s=t.specification.currentSpecification.nodes?.find((e=>h.Ay.getNodeName(e)===i));void 0===s&&(s=t.specification.currentSpecification.nodes?.find(l)),void 0===s&&(s=t.specification.unresolvedSpecification.nodes?.find(l)),void 0===s&&(s=t.specification.unresolvedSpecification.nodes?.find((e=>h.Ay.getNodeName(e)===i)));let u=s.properties??[],d=s.interfaces??[],v=[],f=[];a?.extends?.forEach((e=>{const n=t.baklavaView.editor.parentNodes.get(e);v=[...v,...n?.properties??[]],f=[...f,...n?.interfaces??[]]})),u=u.filter((e=>!v.some((t=>t.name===e.name)))),d=d.filter((e=>!f.some((t=>t.name===e.name))));const y=structuredClone(a.properties??[]),A=structuredClone(a.interfaces??[]),M=u.filter((e=>!y.some((t=>t.name===e.name))))??[],N=d.filter((e=>!A.some((t=>t.name===e.name))))??[],S=y.filter((e=>!u.some((t=>t.name===e.name))))??[],x=A.filter((e=>!d.some((t=>t.name===e.name))))??[],I=(0,g.zM)(i,!0)??[];(0,g.iv)([...r,...I],M,!0),(0,g.Rj)([...r,...I],N,!0),(0,g.iv)([...r,...I],y),(0,g.Rj)([...r,...I],A),(t.specification.currentSpecification.nodes.filter((e=>e.extends?.includes(i)))??[]).forEach((e=>{e.interfaces=e.interfaces?.filter((e=>!N.some((t=>t.name===e.name))))??[],e.properties=e.properties?.filter((e=>!M.some((t=>t.name===e.name))))??[],e.interfaces=[...e.interfaces,...x],e.properties=[...e.properties,...S]}));const L=t._unregisterNodeType(i);if(L.length)return void m.A.terminalLog("error","Error when registering the node",L);const _=t.addNodeToEditorSpecification(a,i);if(void 0!==_.errors&&_.errors.length)throw new Error(_.errors);C(a),b(a),k(a),w(a);const V=h.Ay.validateSpecification(t.specification.unresolvedSpecification);if(V.length)throw new Error(V);c.value=p().stringify(a),t.modifiedNodeSpecificationRegistry[n.value.id]=c.value,m.A.showToast("info","Node validated")}catch(e){const t=Array.isArray(e)?e:[e];m.A.terminalLog("error","Validation failed",t)}},canApplyChanges:S,visible:N,handleTab:async e=>{e.preventDefault(),document.execCommand("insertText",!1,"\t")},formatError:e=>{let t=e&&e.message?e.message:String(e);t=t.replace(/^\s*unresolved_specification\//,"");try{const e=t.match(/\[.*\]/);if(e){const n=JSON.parse(e[0]);Array.isArray(n)&&(t=t.replace(e[0],n.join(", ")))}}catch(e){}return t},cachedValidationResult:A}}}),b=(0,n(66262).A)(y,[["render",function(e,t,n,c,p,v){return e.visible?((0,a.uX)(),(0,a.CE)("div",r,[t[6]||(t[6]=(0,a.Lk)("div",{class:"__title"},"Specification",-1)),(0,a.Lk)("div",s,[(0,a.Lk)("button",{class:"baklava-button __validate-button",disabled:!e.canApplyChanges,onClick:t[0]||(t[0]=(...t)=>e.updateSpecification&&e.updateSpecification(...t))}," Apply ",8,l),(0,a.bo)((0,a.Lk)("textarea",{ref:"el","onUpdate:modelValue":t[1]||(t[1]=t=>e.currentSpecification=t),class:"baklava-input __editor",spellcheck:"false",onInput:t[2]||(t[2]=(...t)=>e.handleInput&&e.handleInput(...t)),onKeydown:t[3]||(t[3]=(0,o.jR)(((...t)=>e.handleTab&&e.handleTab(...t)),["tab"]))},null,544),[[o.Jo,e.currentSpecification]]),(0,a.Lk)("p",u,[e.cachedValidationResult.length>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[t[4]||(t[4]=(0,a.eW)(" Problems:")),t[5]||(t[5]=(0,a.Lk)("br",null,null,-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cachedValidationResult,((t,n)=>((0,a.uX)(),(0,a.CE)("span",{key:n,style:{color:"var(--baklava-control-color-error)"}},(0,i.v_)(e.formatError(t)),1)))),128))],64)):((0,a.uX)(),(0,a.CE)("span",d," The specification is valid. "))])])],512)):(0,a.Q3)("",!0)}],["__scopeId","data-v-e440346e"]])},77114:(e,t,n)=>{n.d(t,{A:()=>je});var a=n(20641),o=n(53751);const i={id:"container"};var r=n(50953),s=n(90033);const l={class:"wrapper"},u={class:"container"},d={class:"dropdown-wrapper"},c={key:0},p={key:1},v=["id","onClick","onPointerover","onPointerleave"],h={key:0},m={key:1},f={key:0},g={key:1},y={key:0},b={key:1},w={class:"external-app-status"},k={key:0,class:"connected"},C={key:1,class:"disconnected"};var E=n(88781),A=n(9459),M=n.n(A),N=n(63491),S=n(12206),x=n(62258),I=n(22007),L=n(59604),_=n(35831),V=n(82304),P=n(59004),F=n(72309),W=n(17504),O=n(13633),X=n(5765);const T=["for"],H=["id"],D=["id","value"],R={props:{text:{type:String,required:!0},id:{type:String},type:{type:String,default:"file"},eventFunction:{type:Function,required:!0}}};var $=n(66262);const B=(0,$.A)(R,[["render",function(e,t,n,o,i,r){return(0,a.uX)(),(0,a.CE)("div",null,["file"===n.type?((0,a.uX)(),(0,a.CE)("label",{key:0,for:n.id},(0,s.v_)(n.text),9,T)):(0,a.Q3)("",!0),"file"===n.type?((0,a.uX)(),(0,a.CE)("input",{key:1,id:n.id,type:"file",onChange:t[0]||(t[0]=(...e)=>n.eventFunction&&n.eventFunction(...e))},null,40,H)):((0,a.uX)(),(0,a.CE)("input",{key:2,id:n.id,type:"button",onClick:t[1]||(t[1]=(...e)=>n.eventFunction&&n.eventFunction(...e)),value:n.text},null,8,D))])}],["__scopeId","data-v-74c292ef"]]);var G=n(51828),K=n(62264),Q=n(34580),U=n(93617),q=n(35127),j=n(881),z=n(323),J=n(8239);const Y={class:"notifications",tabindex:"-1"},Z={class:"info"},ee={class:"panel"};var te=n(1691),ne=n(42231);const ae={components:{Cross:te.A,Notification:ne.A},computed:{notifications:()=>q.xv.notifications,notificationsLength:()=>q.xv.notifications.length},data:()=>({notificationStore:q.xv}),methods:{removeAll(){q.xv.remove()}}},oe=(0,$.A)(ae,[["render",function(e,t,n,o,i,r){const l=(0,a.g2)("Cross"),u=(0,a.g2)("Notification");return(0,a.uX)(),(0,a.CE)("div",Y,[(0,a.Lk)("div",Z,[(0,a.Lk)("span",null,"Notifications ("+(0,s.v_)(i.notificationStore.notifications.length)+")",1),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>this.removeAll&&this.removeAll(...e)),tabindex:"-1"},[(0,a.bF)(l),t[1]||(t[1]=(0,a.eW)(" Clear all "))])]),(0,a.Lk)("div",ee,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.notificationsLength,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e},[(0,a.bF)(u,{type:r.notifications[r.notificationsLength-e].type,message:`${r.notifications[r.notificationsLength-e].message}`,index:r.notificationsLength-e,border:"border"},null,8,["type","message","index"])])))),128))])])])}],["__scopeId","data-v-69eabdd8"]]),ie={class:"settings-panel"},re={class:"panel"},se={class:"option-label"},le={class:"__properties"};var ue=n(96422),de=n(76433),ce=n(878),pe=n(21585),ve=n(31897);const he={props:{viewModel:{required:!0}},setup(e){const t=(0,z.A)(),n=(e,n)=>{t.notifyAboutChange("metadata_on_change",{metadata:{[e]:n}})},o=(0,a.EW)((()=>{const t=new de.A("Connection style",e.viewModel.connectionRenderer.style,[{text:"Curved",value:"curved"},{text:"Orthogonal",value:"orthogonal"},{text:"Alternative orthogonal",value:"alternativeOrthogonal"},{text:"Straight",value:"straight"}]);return t.events.setValue.subscribe(this,(t=>{e.viewModel.connectionRenderer.style=t,n("connectionStyle",t)})),t})),i=(0,a.EW)((()=>{const t=new ce.A("Randomized offset",e.viewModel.connectionRenderer.randomizedOffset);return t.events.setValue.subscribe(this,(t=>{e.viewModel.connectionRenderer.randomizedOffset=t,n("randomizedOffset",t)})),t})),s=(0,a.EW)((()=>{const t=new ce.A("Modify node types",e.viewModel.settings.editableNodeTypes).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.editableNodeTypes=t,n("editableTypes",t)})),t.componentName="CheckboxInterface",t})),l=(0,a.EW)((()=>{const t=new ce.A("Hide anchors",e.viewModel.settings.hideAnchors).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.hideAnchors=t,n("hideAnchors",t)})),t.componentName="CheckboxInterface",t})),u=(0,a.EW)((()=>{const t=new ce.A("Show IDs",e.viewModel.settings.showIds).setPort(!1);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.showIds=t,n("showIds",t)})),t.componentName="CheckboxInterface",t})),d=(0,a.EW)((()=>{const t=new pe.A("Background grid size",e.viewModel.settings.background.gridSize);return t.events.setValue.subscribe(this,(t=>{e.viewModel.settings.background.gridSize=t,n("backgroundSize",t)})),t})),c=(0,a.EW)((()=>{const t=new pe.A("Node movement step",e.viewModel.movementStep);return t.events.setValue.subscribe(this,(t=>{e.viewModel.movementStep=t,n("movementStep",t)})),t})),p=(0,a.EW)((()=>{const{layoutManager:t}=e.viewModel.editor,a=t.getAvailableAlgorithms().map((e=>({text:e,value:e}))),o=new de.A("Autolayout algorithm",t.usedAlgorithm,a);return o.events.setValue.subscribe(this,(e=>{t.useAlgorithm(e),n("layout",e)})),o})),v=(0,a.EW)((()=>new ve.A("Apply autolayout",(()=>{e.viewModel.editor.applyAutolayout()})))),h=(0,a.EW)((()=>new ve.A("Clean editor",(()=>{e.viewModel.editor.deepCleanEditor()})))),m=(0,a.EW)((()=>{const t=(0,r.KR)([]);return e.viewModel.layers.forEach((n=>{const a=new ce.A(n.name,!1);a.events.setValue.subscribe(this,(()=>{e.viewModel.ignoredLayers.has(n.name)?e.viewModel.ignoredLayers.delete(n.name):e.viewModel.ignoredLayers.add(n.name)})),t.value.push(a)})),t.value})),f=(0,a.EW)((()=>{const t=new de.A("Verbosity of notifications",e.viewModel.logLevel,Object.keys(U.E).map((e=>e.toUpperCase())));return t.events.setValue.subscribe(this,(t=>{e.viewModel.logLevel=t})),t})),g=(0,a.EW)((()=>{if(e.viewModel.editor.readonly)return[];const t=[f.value,o.value,p.value,v.value,d.value,h.value,c.value,i.value,l.value,u.value];return e.viewModel.settings.toggleableEditableTypes&&t.push(s.value),t}));return{getOptionName:ue.BW,settingOptions:g,disableLayersOptions:m}}},me=(0,$.A)(he,[["render",function(e,t,n,i,r,l){return(0,a.uX)(),(0,a.CE)("div",ie,[t[1]||(t[1]=(0,a.Lk)("div",{class:"setting-header"},[(0,a.Lk)("span",null,"Settings")],-1)),(0,a.Lk)("div",re,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.settingOptions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id},[(0,a.Lk)("div",se,(0,s.v_)(i.getOptionName(e.componentName)?`${e.name}:`:""),1),((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128)),(0,a.bo)((0,a.Lk)("div",le,[t[0]||(t[0]=(0,a.Lk)("div",{class:"option-label"},"Hide Layers:",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.disableLayersOptions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.component),{intf:e,tabindex:"-1"},null,8,["intf"]))])))),128))],512),[[o.aG,0!==i.disableLayersOptions.length]])])])}]]);var fe=n(15995),ge=n(8328),ye=n(39021),be=n(21370),we=n(75374),ke=n(49641);const Ce=(e,t)=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t,n.click()},Ee={graph:!1,minify:!1,saveName:"specification",saveCallback(){var e,t,n;const a=Q.Ay.getEditorManagerInstance(),o=a.saveSpecification(),i=a.saveDataflow();if(null!==(e=o.graphs)&&void 0!==e||(o.graphs=[]),i.graphs.forEach((e=>{i.graphs.forEach((t=>{const n=t.nodes.find((t=>t.subgraph===e.id));if(void 0!==n){const t=o.nodes.find((e=>e.name===n.name));e.id=t.subgraphId,n.subgraph=t.subgraphId}}))})),i.graphs.forEach((e=>{const t=o.graphs.map((e=>e.id)).indexOf(e.id),[n,a]=-1!==t?[t,1]:[o.graphs.length,0];o.graphs.splice(n,a,e)})),Object.entries(i.metadata).forEach((([e,t])=>{void 0!==t&&(o.metadata[e]=t)})),this.graph&&(o.entryGraph=null!==(t=i.entryGraph)&&void 0!==t?t:i.graphs[0].id),this.minify){const e=Object.fromEntries(o.nodes.map((e=>[Q.Ay.getNodeName(e),e]))),t=t=>e[t],a=null===(n=i.graphs)||void 0===n?void 0:n.map((e=>e.nodes.map(Q.Ay.getNodeName))).flat();if(a.length){const e=[],n=a=>{var o;if(void 0===a)return;const i=Q.Ay.getNodeName(a);e.includes(i)||(e.push(i),null===(o=a.extends)||void 0===o||o.map(t).forEach(n))};a.map(t).forEach(n),o.nodes=e.map(t).filter((e=>void 0!==e)),o.nodes.length||delete o.nodes}}const r=new Blob([JSON.stringify(o,null,this.minify?0:4)],{type:"application/json"});Ce(r,this.saveName),U.A.showToast("info","Specification saved")},reset(){this.graph=!1,this.minify=!1,this.saveName="specification"}},Ae={readonly:!1,hideHud:!1,position:!1,graphName:null,saveName:"save",saveCallback(){const e=new Blob([JSON.stringify(Q.Ay.getEditorManagerInstance().saveDataflow(this.readonly,this.hideHud,this.position,this.graphName),null,4)],{type:"application/json"});Ce(e,this.saveName),U.A.showToast("info","Dataflow saved")},saveCallbackCustomFormat(e){const t=document.createElement("a");let n;"string"==typeof e?(n="application/octet-stream",t.href=`data:${n};base64,${e}`):(n="application/json",t.href=window.URL.createObjectURL(new Blob([JSON.stringify(e)],{type:n}))),t.download=this.saveName,t.click(),U.A.showToast("info",`File saved successfully: ${this.saveName}`)},reset(){var e,t,n;const a=Q.Ay.getEditorManagerInstance().saveDataflow(),o=null!==(n=a.entryGraph?null===(e=a.graphs.find((e=>e.id===a.entryGraph)))||void 0===e?void 0:e.name:null===(t=a.graphs[0])||void 0===t?void 0:t.name)&&void 0!==n?n:null;this.readonly=!1,this.hideHud=!1,this.position=!1,this.graphName=o,this.saveName="save"}},Me={width:1920,height:1080,maxWidth:16384,maxHeight:16384,saveName:"dataflow",exportCallback(){const e=document.querySelector(".inner-editor");this.width<0?U.A.showToast("error","Negative width. The image could not be saved."):this.height<0?U.A.showToast("error","Negative height. The image could not be saved."):(this.width>this.maxWidth&&(U.A.showToast("warning",`Invalid width. The maximum value ${this.maxWidth} was used instead.`),this.width=this.maxWidth),this.height>this.maxHeight&&(U.A.showToast("warning",`Invalid height. The maximum value ${this.maxHeight} was used instead.`),this.height=this.maxHeight),(0,E.$E)(e,{filter:e=>{var t;return!(null===(t=e.classList)||void 0===t?void 0:t.contains("baklava-node-palette"))},imagePlaceholder:ke.L,canvasWidth:this.width,canvasHeight:this.height}).then((e=>{const t=document.createElement("a");t.download=this.saveName,t.href=e,t.dataset.downloadurl=[e,t.download,t.href].join(":"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((e=>{U.A.showToast("error",`Export to PNG failed: ${e}`)})))},reset(){this.width=1920,this.height=1080,this.saveName="save"}};var Ne=n(81086),Se=n(3455),xe=n(41857);const Ie={components:{Logo:x.A,Arrow:I.A,Run:V.A,CassetteStop:X.A,Validate:P.A,Backend:F.A,Bell:W.A,DropdownItem:B,Expand:L.A,Collapse:_.A,Notifications:oe,Magnifier:K.A,Cogwheel:G.A,Settings:me,Cube:O.A,ParentMenu:fe.IM,SaveMenu:fe.Tq,ExportMenu:fe.w5,NodeConfigurationMenu:fe.Am,PropertyConfigurationMenu:fe.nh,InterfaceConfigurationMenu:fe.tQ,Panel:be.A,CustomSidebar:we.A,LayerConfigurationMenu:fe.XC,ListMenu:fe.Kv},computed:{dataflowGraphName(){return this.editorManager.editor.graphName},graphId(){return this.editorManager.baklavaView.displayedGraph.id},editorTitle(){if(void 0===this.graphName)return this.appName;const e=this.graphName.trim();return""===e?this.appName:e},preview(){const e=new URLSearchParams(window.location.search);return!!e.has("preview")&&"true"===e.get("preview")},hideHud(){return this.editorManager.editor.hideHud},readonly(){return this.editorManager.editor.readonly},settingsOpen(){return this.panels.settings.isOpen},notificationsOpen(){return this.panels.notifications.isOpen},paletteOpen(){return this.panels.palette.isOpen},externalAppStatus(){return this.panels.externalAppStatus.isOpen},navbarItems(){const{navbarItems:e}=this.editorManager.baklavaView;return e.forEach((e=>{void 0===Ne.A[e.iconName]?(e.icon=(0,r.IG)(Ne.A.Placeholder),e.iconName=this.editorManager.baklavaView.cache[`./${e.iconName}`]):e.icon=(0,r.IG)(Ne.A[e.iconName])})),e},leftButtonsQuantity(){return this.$refs.leftButtons.children.length},rightButtonsQuantity(){return this.$refs.rightButtons.children.length},isNavBarCompressed(){return this.isMounted&&this.windowWidth<(this.leftButtonsQuantity+this.rightButtonsQuantity)*this.buttonWidth+this.searchbarWidthMultiplcity*this.buttonWidth+.5*this.buttonWidth},mobileClasses(){return{"compressed-mobile":this.isNavBarCompressed}},nodesearchInputStyles(){return{width:this.searchbarWidthMultiplcity*this.buttonWidth+"px"}},leftContainerStyles(){return this.isNavBarCompressed?{"flex-grow":this.leftButtonsQuantity}:{}},rightContainerStyles(){return this.isNavBarCompressed?{"flex-grow":this.rightButtonsQuantity,"justify-content":"right"}:{"justify-content":"right"}},activeNavbarItems(){return this.activeNavbarItemsNames}},watch:{dataflowGraphName(e){this.graphName=e,Ee.reset(),Ae.reset()},graphName(e){this.editorManager.updateSubgraphName(e),Ee.reset(),Ae.reset()},searchEditorNodesQuery(e){const{viewModel:t}=(0,N.if)();t.value.editor.searchQuery=""!==e?e.toLowerCase():void 0},navbarItems(e){this.activeNavbarItemsNames=e.map((e=>e.procedureName))}},data(){const e=Q.Ay.getEditorManagerInstance(),t=e.baklavaView.editor.graphName??"",n={NODE_ENV:"production",VUE_APP_STATIC:"true",VUE_APP_VERBOSE:"false",VUE_APP_GRAPH_DEVELOPMENT_MODE:"false",BASE_URL:""}.VUE_APP_EDITOR_TITLE??"Pipeline Manager",o=new Se.A("Graph name","");o.setDefaultComponent();const i=(0,r.KR)("");return j.A.setHook(this.updateActiveNavbarItems),(0,a.Gt)("hoveredOver",(()=>{})),{appName:n,graphName:t,editorManager:e,editorTitleInterface:o,menuState:ge.x,configurationState:ge.c,removeInterfaces:ye.Fo,removeProperties:ye.GI,externalApplicationManager:(0,z.A)(),externalApp:{available:!1,connected:!1},activeNavbarItemsNames:[],saveConfiguration:Ae,saveGraphConfiguration:Ae,saveSpecificationConfiguration:Ee,exportGraph:Me,saveMenuShow:!1,exportMenuShow:!1,editTitle:!1,notificationStore:q.xv,showSearch:!1,crossIcon:(0,r.IG)(Ne.A.Cross),searchEditorNodesQuery:i,navbarGuard:!1,isMounted:!1,windowWidth:0,buttonWidth:0,searchbarWidthMultiplcity:4,hoverInfo:{isHovered:!1,hoveredPanel:void 0},panels:{notifications:{isOpen:!1,class:".notifications",iconRef:"notifications",showTransform:"-495px, 0px",hideTransform:"0px, 0px"},palette:{isOpen:!this.$isMobile,class:".baklava-node-palette",iconRef:"palette",showTransform:"0px, 0px",hideTransform:"-450px, 0px"},externalAppStatus:{isOpen:!1,class:".external-app-status",iconRef:"backend",showTransform:"-89%, 0px",hideTransform:"-89%, -180px"},settings:{isOpen:!1,class:".settings-panel",iconRef:"settings",showTransform:"-495px, 0px",hideTransform:"0px, 0px"},nodesearch:{isOpen:!1},fullscreen:{isOpen:S.api.isFullscreen}}}},methods:{async loadSpecification(e){const t=Q.Ay.validateSpecification(e);if(Array.isArray(t)&&t.length){U.A.terminalLog("error","Specification is invalid",t);const{version:n}=JSON.parse(e);return this.editorManager.specificationVersion!==n&&U.A.terminalLog("error","Mismatched specification version",`Specification version (${n}) differs from the current version (${this.editorManager.specificationVersion}). It may result in unexpected behaviour. Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`),Promise.resolve()}return this.editorManager.updateEditorSpecification(e).then((({errors:e,warnings:t,info:n})=>{Array.isArray(t)&&t.length&&U.A.terminalLog("warning","Issue when loading specification",t),Array.isArray(e)&&e.length?(U.A.terminalLog("error","Specification is invalid",e),Array.isArray(n)&&n.length&&U.A.terminalLog("error","Mismatched specification version",`${n} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)):Array.isArray(n)&&n.length&&U.A.terminalLog("info","Specification loaded",n)}))},createNewGraphCallback(){(0,xe.nb)(),this.editorManager.editor.deepCleanEditor(!1),(0,xe.wH)()},loadSpecificationCallback(){const e=document.getElementById("load-spec-button").files[0];if(!e)return;this.editorManager.baklavaView.editor.events.setLoad.emit(!0);const t=()=>this.editorManager.baklavaView.editor.events.setLoad.emit(!1),n=new FileReader;n.onload=()=>{this.loadSpecification(n.result).then(t)},n.readAsText(e),document.getElementById("load-spec-button").value=""},togglePanel(e,t=!1){const n=document.querySelector(e.class),a=this.$refs[e.iconRef];e.isOpen=!t&&!e.isOpen;const o=e.isOpen;n&&(n.style.transition=`transform ${o?"0.4":"0.2"}s`,n.style.transform=`translate(${o?e.showTransform:e.hideTransform})`,a.classList.toggle("open",o))},toggleFullscreen(){S.api.isEnabled?S.api.toggle():U.A.showToast("error","Fullscreen is not supported")},clickOutside(e,t){const n=this.$refs[t.iconRef];if(!n)return;const a=e.target;a instanceof Node&&(n.contains(a)||n===a)||this.togglePanel(t,!0)},setEditTitle(){this.readonly||(this.editTitle=!0,this.$nextTick((()=>this.$refs.editorTitleInput._.refs.el.focus())))},async loadDataflow(e){return this.editorManager.loadDataflow(e).then((({errors:e,warnings:t,info:n})=>{if(Array.isArray(t)&&t.length&&U.A.terminalLog("warning","Issue when loading dataflow",t),Array.isArray(e)&&e.length){const t="Dataflow is invalid";U.A.terminalLog("error",t,e),Array.isArray(n)&&n.length&&U.A.terminalLog("error","Mismatched dataflow version",`${n} Please refer to https://antmicro.github.io/kenning-pipeline-manager/changelogs.html to see if that is the case.`)}else Array.isArray(n)&&n.length&&U.A.terminalLog("info","Dataflow loaded",n)}))},loadDataflowCallback(){const e=document.getElementById("load-dataflow-button").files[0];if(!e)return;this.editorManager.baklavaView.editor.events.setLoad.emit(!0);const t=()=>this.editorManager.baklavaView.editor.events.setLoad.emit(!1),n=new FileReader;n.onload=async()=>{let e=null;try{e=M().parse(n.result)}catch(e){return e instanceof SyntaxError?U.A.terminalLog("error","Not a proper JSON file",e.toString()):U.A.terminalLog("error","Unknown error",e.toString()),void t()}await this.externalApplicationManager.notifyAboutChange("graph_on_change",{dataflow:e}),this.loadDataflow(e).then(t)},n.readAsText(e),document.getElementById("load-dataflow-button").value=""},async requestDataflowAction(e){if(!this.externalApp.available)return;if(this.isInProgress(e.procedureName)&&this.isStoppable(e.procedureName))return void await this.externalApplicationManager.requestDataflowStop(e.procedureName);const t=this.activeNavbarItemsNames.includes(e.procedureName);t&&!this.isInProgress(e.procedureName)?await this.externalApplicationManager.requestDataflowAction(e.procedureName,e.requireResponse):t&&U.A.terminalLog("warning",`${e.name} cannot be stopped`)},async requestDataflowExport(e=!0){if(!this.externalApp.available)return;const t=await this.externalApplicationManager.requestDataflowExport();!1!==t&&(this.saveConfiguration={...Ae},this.saveConfiguration.saveName=t.filename??Ae.saveName,e?(this.saveConfiguration.readonly=void 0,this.saveConfiguration.hideHud=void 0,this.saveConfiguration.position=void 0,this.saveConfiguration.saveCallback=()=>{this.saveConfiguration.saveCallbackCustomFormat(t.content),this.saveConfiguration=Ae},this.saveMenuShow=!0):this.saveConfiguration.saveCallbackCustomFormat(t.content))},importDataflow(){if(!this.externalApp.available)return;const e=document.getElementById("request-dataflow-button").files[0];if(!e)return;const t=new FileReader;t.onload=async()=>{await this.externalApplicationManager.importDataflow(t.result)},t.readAsText(e)},exportToSvg(){const e=document.querySelector(".inner-editor");(0,E.YI)(e,{filter:e=>!e.classList?.contains("export-hidden"),imagePlaceholder:ke.L}).then((e=>{const t=document.createElement("a");t.download="dataflow.svg",t.href=e,t.dataset.downloadurl=[e,t.download,t.href].join(":"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((e=>{U.A.showToast("error",`Export to SVG failed: ${e}`)}))},createGraphNodeTypeFromCurrentGraph(){ge.x.configurationMenu.visible=!ge.x.configurationMenu.visible,ge.x.configurationMenu.addNode=!0,ge.x.configurationMenu.placeNode=!1,(0,a.wB)((()=>ge.x.configurationMenu.visible),(async(e,t)=>{if(!0===t&&!1===e){const e=ge.c.nodeData.name;let t=this.editorManager.baklavaView.editor.nodeTypes.get(e),n=new t.type;if(ge.c.success){const a=this.editorManager.baklavaView.displayedGraph.save(),o=this.editorManager.addSubgraphToNode(n,a.nodes,a.connections);Array.isArray(o)&&o.length&&U.A.terminalLog("error","Creating subgraph failed",o);const i=(0,J.$o)([],[],this.appName,this.editorManager.baklavaView.editor);this.editorManager.baklavaView.editor.switchToGraph(i),t=this.editorManager.baklavaView.editor.nodeTypes.get(e),n=new t.type,this.editorManager.baklavaView.displayedGraph.addNode(n),n.position.x=window.innerWidth/2,n.position.y=window.innerHeight/2,this.editorManager.baklavaView.editor.changeTopLevelGraph(this.editorManager.baklavaView.displayedGraph.id)}}}))},onClickNodeSearch(){this.togglePanel(this.panels.nodesearch),this.panels.nodesearch.isOpen&&this.$nextTick((()=>this.$refs.searchbarInput.focus()))},openNavbar(){this.navbarGuard=!0,this.$refs.navbar.classList.add("isHovered")},handleMouseLeave(e){this.$refs.navbar.classList.contains("isHovered")&&(!this.hideHud&&!this.$isMobile||this.editorManager.baklavaView.displayedGraph.sidebar.visible||e.target.closest(".baklava-node-palette")||(this.navbarGuard?this.navbarGuard=!1:(this.togglePanel(this.panels.palette,!0),this.$refs.navbar.classList.remove("isHovered"))))},updateHoverInfo(e,t=!1){(!t||this.activeNavbarItemsNames.includes(e)||this.isInProgress(e))&&(this.hoverInfo.hoveredPanel=e,this.hoverInfo.isHovered=!0)},resetHoverInfo(e){this.hoverInfo.hoveredPanel===e&&(this.hoverInfo.hoveredPanel=void 0,this.hoverInfo.isHovered=!1)},isHovered(e){return this.hoverInfo.hoveredPanel===e&&this.hoverInfo.isHovered},isInProgress:e=>j.A.get(e).inProgress,isStoppable(e){return this.externalApplicationManager.appCapabilities.stoppable_methods?.includes(e)??!0},getNavbarActionTooltip(e){return this.isStoppable(e.procedureName)&&this.isInProgress(e.procedureName)?void 0!==e.stopName?e.stopName:`Stop ${e.name}`:e.name},updateActiveNavbarItems(){const{navbarItems:e}=this;let t=new Set(e.map((e=>e.procedureName)));e.filter((e=>this.isInProgress(e.procedureName))).forEach((e=>{t=new Set((e.allowToRunInParallelWith??[]).filter((e=>t.has(e)))).add(e.procedureName)})),this.activeNavbarItemsNames=Array.from(t)},returnFromSubgraph(){this.editorManager.returnFromSubgraph(),this.resetHoverInfo("subgraphReturn")}},async mounted(){this.isMounted=!0,this.buttonWidth=this.$refs.palette.offsetWidth,this.windowWidth=window.innerWidth,window.addEventListener("resize",(()=>{this.windowWidth=window.innerWidth,this.$refs.palette&&(this.buttonWidth=this.$refs.palette.offsetWidth)})),document.addEventListener("fullscreenchange",(()=>{this.panels.fullscreen.isOpen=!S.api.isFullscreen})),this.externalApplicationManager.registerConnectionHook((()=>{this.externalApp.available=this.externalApplicationManager.isExternalAppAvailable(),this.externalApp.connected=this.externalApplicationManager.isConnected()}))}},Le=(0,$.A)(Ie,[["render",function(e,t,n,i,r,E){const A=(0,a.g2)("SaveMenu"),M=(0,a.g2)("ParentMenu"),N=(0,a.g2)("Panel"),S=(0,a.g2)("ExportMenu"),x=(0,a.g2)("BlurPanel"),I=(0,a.g2)("NodeConfigurationMenu"),L=(0,a.g2)("PropertyConfigurationMenu"),_=(0,a.g2)("InterfaceConfigurationMenu"),V=(0,a.g2)("ListMenu"),P=(0,a.g2)("LayerConfigurationMenu"),F=(0,a.g2)("Logo"),W=(0,a.g2)("DropdownItem"),O=(0,a.g2)("Cube"),X=(0,a.g2)("CassetteStop"),T=(0,a.g2)("Arrow"),H=(0,a.g2)("Magnifier"),D=(0,a.g2)("Expand"),R=(0,a.g2)("Collapse"),$=(0,a.g2)("Cogwheel"),B=(0,a.g2)("Backend"),G=(0,a.g2)("Bell"),K=(0,a.g2)("Notifications"),Q=(0,a.g2)("Settings"),U=(0,a.g2)("CustomSidebar"),q=(0,a.gN)("click-outside");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(o.eB,{name:"fade",onMousedown:t[2]||(t[2]=(0,o.D$)((e=>r.saveMenuShow=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(M,{modelValue:r.saveMenuShow,"onUpdate:modelValue":t[1]||(t[1]=e=>r.saveMenuShow=e),title:"Save configuration"},{default:(0,a.k6)((()=>[(0,a.bF)(A,{saveConfiguration:r.saveConfiguration,modelValue:r.saveMenuShow,"onUpdate:modelValue":t[0]||(t[0]=e=>r.saveMenuShow=e)},null,8,["saveConfiguration","modelValue"])])),_:1},8,["modelValue"]),[[o.aG,r.saveMenuShow]])])),_:1},512),[[o.aG,r.saveMenuShow]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[5]||(t[5]=(0,o.D$)((e=>r.exportMenuShow=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(M,{modelValue:r.exportMenuShow,"onUpdate:modelValue":t[4]||(t[4]=e=>r.exportMenuShow=e),title:"Export graph"},{default:(0,a.k6)((()=>[(0,a.bF)(S,{exportGraph:r.exportGraph,modelValue:r.exportMenuShow,"onUpdate:modelValue":t[3]||(t[3]=e=>r.exportMenuShow=e)},null,8,["exportGraph","modelValue"])])),_:1},8,["modelValue"]),[[o.aG,r.exportMenuShow]])])),_:1},512),[[o.aG,r.exportMenuShow]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[7]||(t[7]=(0,o.D$)((e=>r.menuState.configurationMenu.visible=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.configurationMenu.visible?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.configurationMenu.visible,"onUpdate:modelValue":t[6]||(t[6]=e=>r.menuState.configurationMenu.visible=e),title:"Node configuration"},{default:(0,a.k6)((()=>[(0,a.bF)(I)])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.configurationMenu.visible]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[9]||(t[9]=(0,o.D$)((e=>r.menuState.propertyMenu=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.propertyMenu?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.propertyMenu,"onUpdate:modelValue":t[8]||(t[8]=e=>r.menuState.propertyMenu=e),title:"Add property"},{default:(0,a.k6)((()=>[(0,a.bF)(L)])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.propertyMenu]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[11]||(t[11]=(0,o.D$)((e=>r.menuState.interfaceMenu=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.interfaceMenu?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.interfaceMenu,"onUpdate:modelValue":t[10]||(t[10]=e=>r.menuState.interfaceMenu=e),title:"Add interface"},{default:(0,a.k6)((()=>[(0,a.bF)(_)])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.interfaceMenu]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[13]||(t[13]=(0,o.D$)((e=>r.menuState.propertyListMenu=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.propertyListMenu?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.propertyListMenu,"onUpdate:modelValue":t[12]||(t[12]=e=>r.menuState.propertyListMenu=e),title:"Remove properties"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{componentName:"propertyListMenu",items:r.configurationState.properties,confirmAction:r.removeProperties,confirmText:"Remove properties"},null,8,["items","confirmAction"])])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.propertyListMenu]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[15]||(t[15]=(0,o.D$)((e=>r.menuState.interfaceListMenu=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.interfaceListMenu?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.interfaceListMenu,"onUpdate:modelValue":t[14]||(t[14]=e=>r.menuState.interfaceListMenu=e),title:"Remove interfaces"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{componentName:"interfaceListMenu",items:r.configurationState.interfaces,confirmAction:r.removeInterfaces,confirmText:"Remove interfaces"},null,8,["items","confirmAction"])])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.interfaceListMenu]])])),_:1}),(0,a.bF)(o.eB,{name:"fade",onMousedown:t[17]||(t[17]=(0,o.D$)((e=>r.menuState.layerMenu=!1),["self"]))},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)((()=>[r.menuState.layerMenu?((0,a.uX)(),(0,a.Wv)(M,{key:0,modelValue:r.menuState.layerMenu,"onUpdate:modelValue":t[16]||(t[16]=e=>r.menuState.layerMenu=e),title:"Set node layer"},{default:(0,a.k6)((()=>[(0,a.bF)(P)])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)])),_:1},512),[[o.aG,r.menuState.layerMenu]])])),_:1}),(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bo)((0,a.Lk)("div",{ref:"navbar",class:(0,s.C4)(["wrapper prevent-select",E.hideHud||e.$isMobile?"wrapper-hidden":"wrapper-hud"]),onPointerenter:t[45]||(t[45]=e=>e.target.classList.add("isHovered"))},[(0,a.Lk)("div",u,[(0,a.Lk)("div",{style:(0,s.Tr)(E.leftContainerStyles)},[(0,a.Lk)("div",{ref:"leftButtons",class:(0,s.C4)(["logo",E.mobileClasses]),onPointerover:t[18]||(t[18]=()=>E.updateHoverInfo("logo")),onPointerleave:t[19]||(t[19]=()=>E.resetHoverInfo("logo"))},[(0,a.bF)(F,{hover:E.isHovered("logo")},null,8,["hover"]),(0,a.Lk)("div",d,[this.editorManager.specificationLoaded?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[E.readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(W,{key:0,id:"create-new-graph-button",text:"Create new graph",type:"'button'",eventFunction:E.createNewGraphCallback},null,8,["eventFunction"])),r.externalApp.connected?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[t[46]||(t[46]=(0,a.Lk)("hr",null,null,-1)),(0,a.bF)(W,{text:"Load file",id:"request-dataflow-button",eventFunction:E.importDataflow},null,8,["eventFunction"]),(0,a.bF)(W,{text:"Save file",type:"button",eventFunction:async()=>E.requestDataflowExport(!1)},null,8,["eventFunction"]),(0,a.bF)(W,{text:"Save file as...",type:"button",eventFunction:async()=>E.requestDataflowExport(!0)},null,8,["eventFunction"])],64)):(0,a.Q3)("",!0),t[47]||(t[47]=(0,a.Lk)("hr",null,null,-1))],64)):(0,a.Q3)("",!0),E.hideHud?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(W,{text:"Load specification",id:"load-spec-button",eventFunction:E.loadSpecificationCallback},null,8,["eventFunction"]),this.editorManager.specificationLoaded?((0,a.uX)(),(0,a.Wv)(W,{key:0,text:"Save specification as...",type:"'button'",eventFunction:()=>{r.saveMenuShow=!r.saveMenuShow,r.saveConfiguration=r.saveSpecificationConfiguration}},null,8,["eventFunction"])):(0,a.Q3)("",!0),t[48]||(t[48]=(0,a.Lk)("hr",null,null,-1))],64)),this.editorManager.specificationLoaded?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(W,{type:"'button'",text:"Set graph name",eventFunction:E.setEditTitle},null,8,["eventFunction"]),E.hideHud?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(W,{key:0,id:"load-dataflow-button",text:"Load graph file",eventFunction:E.loadDataflowCallback},null,8,["eventFunction"])),(0,a.bF)(W,{type:"'button'",text:"Save graph file",eventFunction:()=>r.saveGraphConfiguration.saveCallback()},null,8,["eventFunction"]),(0,a.bF)(W,{type:"'button'",text:"Save graph as file as...",eventFunction:()=>{r.saveMenuShow=!r.saveMenuShow,r.saveConfiguration=r.saveGraphConfiguration}},null,8,["eventFunction"]),t[49]||(t[49]=(0,a.Lk)("hr",null,null,-1))],64)):(0,a.Q3)("",!0),(0,a.bF)(W,{type:"'button'",text:"Export graph to PNG",eventFunction:()=>{r.exportMenuShow=!r.exportMenuShow,r.exportGraph=r.exportGraph}},null,8,["eventFunction"]),(0,a.bF)(W,{type:"'button'",text:"Export graph to HTML-based SVG",eventFunction:E.exportToSvg},null,8,["eventFunction"]),this.editorManager.baklavaView.settings.editableNodeTypes?((0,a.uX)(),(0,a.Wv)(W,{key:3,type:"'button'",text:"Create node type from graph",eventFunction:E.createGraphNodeTypeFromCurrentGraph},null,8,["eventFunction"])):(0,a.Q3)("",!0)])],34),E.hideHud||E.readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,ref:"palette",class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onClick:t[20]||(t[20]=()=>E.togglePanel(r.panels.palette)),onPointerover:t[21]||(t[21]=()=>E.updateHoverInfo("palette")),onPointerleave:t[22]||(t[22]=()=>E.resetHoverInfo("palette"))},[(0,a.bF)(O,{hover:E.isHovered("palette"),class:"small_svg"},null,8,["hover"]),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},[E.paletteOpen?((0,a.uX)(),(0,a.CE)("span",c,"Hide node browser")):((0,a.uX)(),(0,a.CE)("span",p,"Show node browser"))],2)],34)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(E.navbarItems,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.name,id:`navbar-button-${e.procedureName}`,class:(0,s.C4)([E.activeNavbarItems.includes(e.procedureName)||E.isInProgress(e.procedureName)?"hoverbox":"box",E.mobileClasses,{"button-in-progress":E.isInProgress(e.procedureName)}]),role:"button",onClick:async()=>E.requestDataflowAction(e),onPointerover:()=>E.updateHoverInfo(e.procedureName,!0),onPointerleave:()=>E.resetHoverInfo(e.procedureName)},[E.isStoppable(e.procedureName)&&E.isInProgress(e.procedureName)?((0,a.uX)(),(0,a.Wv)(X,{key:0,class:"small_svg",hover:E.isHovered(e.procedureName)},null,8,["hover"])):((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.icon),{key:1,class:"small_svg",hover:E.isHovered(e.procedureName),imgURI:e.iconName},null,8,["hover","imgURI"])),t[50]||(t[50]=(0,a.Lk)("div",{class:"progress-bar"},null,-1)),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},[(0,a.Lk)("span",null,(0,s.v_)(E.getNavbarActionTooltip(e)),1)],2)],42,v)))),128)),this.editorManager.editor.isInSubgraph()?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onClick:t[23]||(t[23]=(...e)=>E.returnFromSubgraph&&E.returnFromSubgraph(...e)),onPointerover:t[24]||(t[24]=()=>E.updateHoverInfo("subgraphReturn")),onPointerleave:t[25]||(t[25]=()=>E.resetHoverInfo("subgraphReturn"))},[(0,a.bF)(T,{rotate:"down",hover:E.isHovered("subgraphReturn"),color:"white",class:"small_svg"},null,8,["hover"]),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},t[51]||(t[51]=[(0,a.Lk)("span",null,"Return from subgraph editor",-1)]),2)],34)):(0,a.Q3)("",!0)],4),r.editTitle&&!r.panels.nodesearch.isOpen?(0,a.bo)(((0,a.uX)(),(0,a.Wv)((0,a.$y)(r.editorTitleInterface.component),{key:0,ref:"editorTitleInput",intf:r.editorTitleInterface,class:(0,s.C4)(["editorTitleInput",E.mobileClasses]),modelValue:r.graphName,"onUpdate:modelValue":t[26]||(t[26]=e=>r.graphName=e),onKeyup:t[27]||(t[27]=(0,o.jR)((()=>{r.editTitle=!1}),["enter"]))},null,40,["intf","class","modelValue"])),[[q,()=>{r.editTitle=!1}]]):(0,a.Q3)("",!0),r.editTitle||r.panels.nodesearch.isOpen?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,s.C4)(["editorTitle",E.mobileClasses]),onDblclick:t[28]||(t[28]=(...e)=>E.setEditTitle&&E.setEditTitle(...e))},(0,s.v_)(E.editorTitle),35)),this.editorManager.baklavaView.settings.showIds&&!r.panels.nodesearch.isOpen?((0,a.uX)(),(0,a.CE)("span",{key:2,class:(0,s.C4)(["editorTitle","graphId",E.mobileClasses])}," Graph ID: "+(0,s.v_)(E.graphId),3)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,s.Tr)(E.rightContainerStyles),ref:"rightButtons"},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{ref:"searchbar",class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onPointerover:t[29]||(t[29]=()=>E.updateHoverInfo("search")),onPointerleave:t[30]||(t[30]=()=>{E.resetHoverInfo("search")}),onClick:t[31]||(t[31]=(...e)=>E.onClickNodeSearch&&E.onClickNodeSearch(...e))},[(0,a.bF)(H,{hover:E.isHovered("search"),class:"small_svg"},null,8,["hover"]),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},[r.panels.nodesearch.isOpen?((0,a.uX)(),(0,a.CE)("span",m,"Hide node search bar")):((0,a.uX)(),(0,a.CE)("span",h,"Show node search bar"))],2)],34)),[[q,()=>r.panels.nodesearch.isOpen=""!=r.searchEditorNodesQuery]]),(0,a.bo)((0,a.Lk)("div",{style:(0,s.Tr)(E.nodesearchInputStyles),class:(0,s.C4)(["search-editor-nodes",E.mobileClasses])},[(0,a.bo)((0,a.Lk)("input",{ref:"searchbarInput","onUpdate:modelValue":t[32]||(t[32]=e=>r.searchEditorNodesQuery=e),placeholder:"Search for nodes"},null,512),[[o.Jo,r.searchEditorNodesQuery]])],6),[[o.aG,r.panels.nodesearch.isOpen]]),(0,a.Lk)("div",{ref:"fullscreen",class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onClick:t[33]||(t[33]=(...e)=>E.toggleFullscreen&&E.toggleFullscreen(...e)),onPointerover:t[34]||(t[34]=()=>E.updateHoverInfo("Fullscreen")),onPointerleave:t[35]||(t[35]=()=>E.resetHoverInfo("Fullscreen"))},[r.panels.fullscreen.isOpen?((0,a.uX)(),(0,a.Wv)(R,{key:1,hover:E.isHovered("Fullscreen"),class:"small_svg"},null,8,["hover"])):((0,a.uX)(),(0,a.Wv)(D,{key:0,hover:E.isHovered("Fullscreen"),class:"small_svg"},null,8,["hover"])),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},[r.panels.fullscreen.isOpen?((0,a.uX)(),(0,a.CE)("span",g,"Disable fullscreen")):((0,a.uX)(),(0,a.CE)("span",f,"Enable fullscreen"))],2)],34),(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{ref:"settings",class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onClick:t[36]||(t[36]=()=>E.togglePanel(r.panels.settings)),onPointerover:t[37]||(t[37]=()=>E.updateHoverInfo("settings")),onPointerleave:t[38]||(t[38]=()=>E.resetHoverInfo("settings"))},[(0,a.bF)($,{hover:E.isHovered("settings"),class:"small_svg"},null,8,["hover"]),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},[r.panels.settings.isOpen?((0,a.uX)(),(0,a.CE)("span",b,"Hide settings")):((0,a.uX)(),(0,a.CE)("span",y,"Show settings"))],2)],34)),[[q,()=>r.panels.settings.isOpen=!1]]),r.externalApp.available?((0,a.uX)(),(0,a.CE)("div",{key:0,ref:"backend",class:(0,s.C4)(["hoverbox",E.mobileClasses]),onClick:t[39]||(t[39]=()=>E.togglePanel(r.panels.externalAppStatus)),onPointerover:t[40]||(t[40]=()=>E.updateHoverInfo("externalAppStatus")),onPointerleave:t[41]||(t[41]=()=>E.resetHoverInfo("externalAppStatus"))},[r.externalApp.connected?((0,a.uX)(),(0,a.Wv)(B,{key:0,color:"connected",class:"small_svg",active:E.externalAppStatus,hover:E.isHovered("externalAppStatus")},null,8,["active","hover"])):((0,a.uX)(),(0,a.Wv)(B,{key:1,color:"disconnected",class:"small_svg",active:E.externalAppStatus,hover:E.isHovered("externalAppStatus")},null,8,["active","hover"])),(0,a.Lk)("div",{class:(0,s.C4)(["tooltip",E.mobileClasses])},t[52]||(t[52]=[(0,a.Lk)("span",null,"External App status",-1)]),2),(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",null,[t[53]||(t[53]=(0,a.Lk)("span",null,"Client status:",-1)),r.externalApp.connected?((0,a.uX)(),(0,a.CE)("span",k,"Connected")):((0,a.uX)(),(0,a.CE)("span",C,"Disconnected"))])])),[[q,e=>E.clickOutside(e,r.panels.externalAppStatus)]])],34)):(0,a.Q3)("",!0),E.hideHud?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:1,ref:"notifications",class:(0,s.C4)(["hoverbox",E.mobileClasses]),role:"button",onClick:t[42]||(t[42]=()=>E.togglePanel(r.panels.notifications)),onPointerover:t[43]||(t[43]=()=>E.updateHoverInfo("notifications")),onPointerleave:t[44]||(t[44]=()=>E.resetHoverInfo("notifications"))},[(0,a.bF)(G,{id:"navbar-bell",color:this.notificationStore.notifications.length>0?"green":"gray",hover:E.isHovered("notifications"),class:"small_svg"},null,8,["color","hover"]),E.notificationsOpen?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,s.C4)(["tooltip",E.mobileClasses])},t[54]||(t[54]=[(0,a.Lk)("span",null,"Hide notifications",-1)]),2)):((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,s.C4)(["tooltip",E.mobileClasses])},t[55]||(t[55]=[(0,a.Lk)("span",null,"Show notifications",-1)]),2))],34))],4)]),t[56]||(t[56]=(0,a.Lk)("div",{class:"progress-bar"},null,-1))],34),[[o.aG,!E.preview]]),(0,a.bo)((0,a.bF)(K,null,null,512),[[q,e=>E.clickOutside(e,r.panels.notifications)]]),(0,a.bo)((0,a.bF)(Q,{tabindex:"-1",viewModel:r.editorManager.baklavaView},null,8,["viewModel"]),[[q,e=>E.clickOutside(e,r.panels.settings)]]),(0,a.bF)(U,{onSidebarOpen:E.openNavbar},null,8,["onSidebarOpen"])])),[[q,e=>E.handleMouseLeave(e)]])],64)}],["__scopeId","data-v-7ca5bbfe"]]),_e={class:"container"},Ve={class:"tab"},Pe=["onClick"],Fe={class:"indicator-wrapper"},We={class:"button-wrapper"},Oe={id:"hterm-terminal"};var Xe=n(25672);const Te=(0,a.pM)({props:{terminalInstance:{type:String}},setup(e){let t;const n={"background-color":"#1d1d1d","cursor-color":"white","mouse-right-click-paste":!1,"pass-meta-v":!1,"mouse-paste-button":"no-button","pass-on-drop":!1,"shift-insert-paste":!1},o=(0,a.EW)((()=>q.iP.logs[e.terminalInstance])),i=(0,a.EW)((()=>void 0===o.value?0:o.value.length)),r=[],s=n=>{if(void 0===t)return;const a=q.iP.readOnly[e.terminalInstance]?n.replace(/\n/g,"\r\n"):n;t.io.print(a),r.push(a)};let l=0;const u=()=>{l=0,void 0!==t&&(s("[0m"),t.scrollHome(),t.wipeContents())},d=(0,z.A)();(0,a.sV)((async()=>{await Xe.c.init(),Object.keys(n).forEach((e=>{localStorage.setItem(`/hterm/profiles/default/${e}`,n[e])})),t=new Xe.D.Terminal,t.scrollPort_.contenteditable=!1,t.onTerminalReady=function(){this.io.sendString=t=>{q.iP.isReadOnly(e.terminalInstance)||d.requestTerminalRead(e.terminalInstance,t)},this.onVTKeystroke=t=>{q.iP.isReadOnly(e.terminalInstance)||d.requestTerminalRead(e.terminalInstance,t)},this.io.onTerminalResize=()=>{u(),r.forEach((e=>{t.io.print(e)}))},this.installKeyboard()},t.decorate(document.querySelector("#hterm-terminal")),(0,a.wB)([()=>e.terminalInstance,i],(async([n,o],[i,d])=>{void 0!==n&&q.iP.exists(n)&&(q.iP.readOnly[e.terminalInstance]?(t.scrollPort_.contenteditable=!1,t.setCursorVisible(!1)):(t.scrollPort_.contenteditable=!0,t.setCursorVisible(!0)),await(0,a.dY)(),i===n&&0!==o||(u(),r.length=0),d!==o||i!==n)&&q.iP.logs[n].slice(l).forEach(((e,t)=>{l>0&&n===q.d&&s("\n\n"),s(e),l+=1}))}))}))}}),He=(0,$.A)(Te,[["render",function(e,t,n,o,i,r){return(0,a.uX)(),(0,a.CE)("div",Oe)}],["__scopeId","data-v-246a4a0f"]]);var De=n(95426),Re=n(33007),$e=n(5292);const Be=(0,a.pM)({components:{Arrow:I.A,Indicator:De.A,Bin:Re.A,Terminal:He},setup(){const e=(0,r.KR)(null),t=(0,r.KR)(null),n=(0,r.KR)(void 0),o=(0,r.KR)(!1),i=(0,r.KR)(!0),s=(0,r.KR)(0),l=(0,r.KR)(!1),u=(0,a.EW)((()=>o.value?{height:`${Math.max(s.value,395)}px`}:{height:"unset"})),d=(0,a.EW)((()=>({"pointer-events":o.value?"all":"none"}))),c=(0,r.KR)([]),p=e=>t=>t.name===e,v=(0,r.KR)([]),h=(0,a.EW)((()=>v.value.map((e=>c.value.find(p(e)))))),m=(0,a.EW)((()=>{const e=Object.values(q.iP.logs).map((e=>e.length)),t=Object.keys(q.iP.logs),n=[];for(let a=0;a<t.length;a+=1)n.push({name:t[a],length:e[a]});return n}));(0,a.wB)(m,((e,t)=>{const a=null==t?void 0:t.map((e=>e.name));e.forEach((e=>{if(null==a?void 0:a.includes(e.name)){const a=t.find((t=>t.name===e.name));(null==a?void 0:a.length)!==e.length&&e.name!==n.value&&(c.value.find((t=>t.name===e.name)).hasNewMessage=!0)}else c.value.push({name:e.name,hasNewMessage:0!==e.length}),v.value.push(e.name)})),null==t||t.filter((t=>!e.some(p(t.name)))).forEach((e=>{const t=c.value.findIndex(p(e.name));c.value.splice(t,1);const a=v.value.indexOf(e.name,1);v.value.splice(a,1),n.value===e.name&&g(e.name)}))}),{immediate:!0});const f=e=>{c.value.forEach((t=>{t.name===e&&(t.hasNewMessage=!1)}))},g=(e,i=!0)=>{var r,s;if(void 0!==e||o.value)if(e===n.value||void 0===e)n.value=void 0,o.value=!1;else{const a=null!==(s=null===(r=t.value)||void 0===r?void 0:r.style.height)&&void 0!==s?s:"unset";n.value=e,o.value=!0,f(e),"unset"!==a&&(u.value.height=a)}else n.value=q.d,o.value=!0,f(q.d);void 0===n.value||i&&q.iP.isReadOnly(n.value)||(0,a.dY)().then((()=>{var e;return null===(e=document.getElementById("hterm-terminal"))||void 0===e?void 0:e.focus()}))},y={hide(){q.iP.show=!1,o.value&&g(n.value)},show(e){const t=null!=e?e:q.d;q.iP.show=!0;const a=!o.value,i=n.value&&t!==n.value;(a||i)&&g(null!=t?t:n.value,!1)},view(e){e.names&&(v.value=e.names),void 0!==e.clearButton&&(i.value=e.clearButton)}};return(0,a.sV)((()=>{q.iP.manager=y,e.value.addEventListener("mousedown",(0,$e.q)((e=>{s.value=e})))})),{toggleTerminalPanel:g,clearTerminalOutput:e=>{q.iP.clear(e)},showClearButton:i,displayedTerminals:h,activeTerminal:n,isTerminalPanelOpened:o,resizer:e,terminalWrapper:t,pipelineSpanClasses:e=>({active:o.value&&e===n.value}),terminalWrapperStyles:u,resizerStyles:d,arrowHovered:l,terminalIndicatorColor:e=>e?"green":"gray"}}}),Ge=(0,$.A)(Be,[["render",function(e,t,n,i,r,l){const u=(0,a.g2)("Indicator"),d=(0,a.g2)("Bin"),c=(0,a.g2)("Arrow"),p=(0,a.g2)("Terminal");return(0,a.uX)(),(0,a.CE)("div",{ref:"terminalWrapper",class:"terminal-wrapper",style:(0,s.Tr)(e.terminalWrapperStyles)},[(0,a.Lk)("div",_e,[(0,a.Lk)("div",{ref:"resizer",class:"resizer",style:(0,s.Tr)(e.resizerStyles)},null,4),(0,a.Lk)("div",Ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.displayedTerminals,(t=>((0,a.uX)(),(0,a.CE)("button",{key:t.name,class:(0,s.C4)(["tab-item",e.pipelineSpanClasses(t.name)]),onClick:n=>e.toggleTerminalPanel(t.name)},[(0,a.Lk)("span",{class:(0,s.C4)(e.pipelineSpanClasses(t.name))},(0,s.v_)(t.name),3),(0,a.Lk)("div",Fe,[t.hasNewMessage?((0,a.uX)(),(0,a.Wv)(u,{key:0,color:e.terminalIndicatorColor(t.hasNewMessage)},null,8,["color"])):(0,a.Q3)("",!0)])],10,Pe)))),128))]),(0,a.Lk)("div",We,[e.isTerminalPanelOpened&&e.showClearButton?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=t=>e.clearTerminalOutput(e.activeTerminal))},[(0,a.bF)(d),t[4]||(t[4]=(0,a.Lk)("span",null,"Clear terminal",-1))])):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[1]||(t[1]=()=>{e.arrowHovered=!1,e.toggleTerminalPanel(void 0)}),onMouseenter:t[2]||(t[2]=t=>e.arrowHovered=!0),onMouseleave:t[3]||(t[3]=t=>e.arrowHovered=!1)},[e.isTerminalPanelOpened?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"white",scale:"small",rotate:"left",hover:e.arrowHovered},null,8,["hover"])):((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"white",scale:"small",rotate:"up",hover:e.arrowHovered},null,8,["hover"]))],32)])]),(0,a.bo)((0,a.bF)(p,{terminalInstance:e.activeTerminal},null,8,["terminalInstance"]),[[o.aG,e.isTerminalPanelOpened]])],4)}],["__scopeId","data-v-6404167b"]]),Ke={class:"loading-screen"},Qe={components:{SelfBuildingSquareSpinner:n(39475).F}},Ue=(0,$.A)(Qe,[["render",function(e,t,n,o,i,r){const s=(0,a.g2)("SelfBuildingSquareSpinner");return(0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.bF)(s,{id:"loading-screen-spinner",size:80})])}]]),qe={components:{NavBar:Le,Editor:n(99064).A,TerminalPanel:Ge,LoadingScreen:Ue},setup(){const e=Q.Ay.getEditorManagerInstance(),t=(0,r.KR)(!1),n={};try{(o=Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}())).keys().forEach((e=>n[e]=o(e)))}catch(e){}finally{e.baklavaView.cache=n}var o;const i=(0,a.EW)((()=>e.baklavaView.editor.hideHud));return{editorManager:e,hideHud:i,handleLoad:e=>{t.value=e},loading:t,terminalStore:q.iP}}},je=(0,$.A)(qe,[["render",function(e,t,n,r,s,l){const u=(0,a.g2)("LoadingScreen"),d=(0,a.g2)("NavBar"),c=(0,a.g2)("Editor"),p=(0,a.g2)("TerminalPanel");return(0,a.uX)(),(0,a.CE)("div",null,[r.loading?((0,a.uX)(),(0,a.Wv)(u,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("div",i,[(0,a.bF)(d),(0,a.bF)(c,{class:"inner-editor","view-model":r.editorManager.baklavaView,onSetLoad:r.handleLoad,loading:r.loading},null,8,["view-model","onSetLoad","loading"]),(0,a.bo)((0,a.bF)(p,null,null,512),[[o.aG,!r.loading&&!r.hideHud||r.terminalStore.show]])])])}]])},86585:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(20641),o=n(90033);const i={class:"zoom-control-wrapper"};var r=n(57428),s=n(36560),l=n(89725);const u={components:{Minus:r.A,Plus:s.A,Crosshair:l.A},props:{floating:{type:Boolean,default:!1}},setup:e=>({floatingStatus:(0,a.EW)((()=>({floating:e.floating,normal:!e.floating})))}),emits:["zoomIn","zoomOut","center"],data:()=>({hoverInfo:{isHovered:!1,hoveredPanel:void 0}}),methods:{isHovered(e){return this.hoverInfo.hoveredPanel===e&&this.hoverInfo.isHovered},updateHoverInfo(e){this.hoverInfo.hoveredPanel=e,this.hoverInfo.isHovered=!0},resetHoverInfo(e){this.hoverInfo.hoveredPanel===e&&(this.hoverInfo.hoveredPanel=void 0,this.hoverInfo.isHovered=!1)}}},d=(0,n(66262).A)(u,[["render",function(e,t,n,r,s,l){const u=(0,a.g2)("Crosshair"),d=(0,a.g2)("Plus"),c=(0,a.g2)("Minus");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["zoom-container export-hidden",r.floatingStatus])},[(0,a.Lk)("div",{role:"button",class:"zoom-center",onPointerover:t[0]||(t[0]=()=>l.updateHoverInfo("center")),onPointerleave:t[1]||(t[1]=()=>l.resetHoverInfo("center")),onClick:t[2]||(t[2]=t=>e.$emit("center"))},[(0,a.bF)(u,{hover:l.isHovered("center")},null,8,["hover"])],32),(0,a.Lk)("div",i,[(0,a.Lk)("div",{role:"button",class:"zoom-control",onPointerover:t[3]||(t[3]=()=>l.updateHoverInfo("plus")),onPointerleave:t[4]||(t[4]=()=>l.resetHoverInfo("plus")),onClick:t[5]||(t[5]=t=>e.$emit("zoomIn"))},[(0,a.bF)(d,{hover:l.isHovered("plus")},null,8,["hover"])],32),(0,a.Lk)("div",{role:"button",class:"zoom-control",onPointerover:t[6]||(t[6]=()=>l.updateHoverInfo("minus")),onPointerleave:t[7]||(t[7]=()=>l.resetHoverInfo("minus")),onClick:t[8]||(t[8]=t=>e.$emit("zoomOut"))},[(0,a.bF)(c,{hover:l.isHovered("minus")},null,8,["hover"])],32)])],2)}],["__scopeId","data-v-14fd0c95"]])}}]);
//# sourceMappingURL=index-42f9d7e6.3ff0e3e8.js.map