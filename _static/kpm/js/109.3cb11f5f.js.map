{"version":3,"file":"js/109.3cb11f5f.js","mappings":"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","sources":["webpack://pipeline-manager/./node_modules/webcola/dist/src/d3v3adaptor.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/descent.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/d3adaptor.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/geom.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/batch.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/adaptor.js","webpack://pipeline-manager/./node_modules/webcola/dist/index.js","webpack://pipeline-manager/./node_modules/webcola/dist/src/d3v4adaptor.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.event = d3.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3.behavior.drag()\r\n                    .origin(layout_1.Layout.dragOrigin)\r\n                    .on(\"dragstart.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"dragend.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            this\r\n                .call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event[d3event.type](d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        d3.timer(function () { return _super.prototype.tick.call(_this); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\nfunction d3adaptor() {\r\n    return new D3StyleLayoutAdaptor();\r\n}\r\nexports.d3adaptor = d3adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2M2FkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3YzYWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFNQSxtQ0FBa0Q7QUFHOUM7SUFBMEMsd0NBQU07SUFnQjVDO1FBQUEsWUFDSSxpQkFBTyxTQXVCVjtRQXZDRCxXQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBa0JqRyxJQUFJLFFBQVEsR0FBRyxLQUFJLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUM7UUFDVCxLQUFJLENBQUMsSUFBSSxHQUFHO1lBQ1IsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDUCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtxQkFDeEIsTUFBTSxDQUFDLGVBQU0sQ0FBQyxVQUFVLENBQUM7cUJBQ3pCLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxlQUFNLENBQUMsU0FBUyxDQUFDO3FCQUMzQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsVUFBQSxDQUFDO29CQUNuQixlQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzlCLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDdEIsQ0FBQyxDQUFDO3FCQUNELEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxlQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDaEQ7WUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFHbkMsSUFBSTtpQkFFQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFBOztJQUNMLENBQUM7SUFyQ0Qsc0NBQU8sR0FBUCxVQUFRLENBQVE7UUFDWixJQUFJLE9BQU8sR0FBRyxFQUFFLElBQUksRUFBRSxrQkFBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQU0sT0FBQSxpQkFBTSxJQUFJLFlBQUUsRUFBWixDQUFZLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBZ0NELGlDQUFFLEdBQUYsVUFBRyxTQUE2QixFQUFFLFFBQW9CO1FBQ2xELElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxFQUFFO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN0QzthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsa0JBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUNqRDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCwyQkFBQztBQUFELENBQUMsQUFuREQsQ0FBMEMsZUFBTSxHQW1EL0M7QUFuRFksb0RBQW9CO0FBaUVqQyxTQUFnQixTQUFTO0lBQ3JCLE9BQU8sSUFBSSxvQkFBb0IsRUFBRSxDQUFDO0FBQ3RDLENBQUM7QUFGRCw4QkFFQyJ9","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Locks = (function () {\r\n    function Locks() {\r\n        this.locks = {};\r\n    }\r\n    Locks.prototype.add = function (id, x) {\r\n        this.locks[id] = x;\r\n    };\r\n    Locks.prototype.clear = function () {\r\n        this.locks = {};\r\n    };\r\n    Locks.prototype.isEmpty = function () {\r\n        for (var l in this.locks)\r\n            return false;\r\n        return true;\r\n    };\r\n    Locks.prototype.apply = function (f) {\r\n        for (var l in this.locks) {\r\n            f(Number(l), this.locks[l]);\r\n        }\r\n    };\r\n    return Locks;\r\n}());\r\nexports.Locks = Locks;\r\nvar Descent = (function () {\r\n    function Descent(x, D, G) {\r\n        if (G === void 0) { G = null; }\r\n        this.D = D;\r\n        this.G = G;\r\n        this.threshold = 0.0001;\r\n        this.numGridSnapNodes = 0;\r\n        this.snapGridSize = 100;\r\n        this.snapStrength = 1000;\r\n        this.scaleSnapByMaxH = false;\r\n        this.random = new PseudoRandom();\r\n        this.project = null;\r\n        this.x = x;\r\n        this.k = x.length;\r\n        var n = this.n = x[0].length;\r\n        this.H = new Array(this.k);\r\n        this.g = new Array(this.k);\r\n        this.Hd = new Array(this.k);\r\n        this.a = new Array(this.k);\r\n        this.b = new Array(this.k);\r\n        this.c = new Array(this.k);\r\n        this.d = new Array(this.k);\r\n        this.e = new Array(this.k);\r\n        this.ia = new Array(this.k);\r\n        this.ib = new Array(this.k);\r\n        this.xtmp = new Array(this.k);\r\n        this.locks = new Locks();\r\n        this.minD = Number.MAX_VALUE;\r\n        var i = n, j;\r\n        while (i--) {\r\n            j = n;\r\n            while (--j > i) {\r\n                var d = D[i][j];\r\n                if (d > 0 && d < this.minD) {\r\n                    this.minD = d;\r\n                }\r\n            }\r\n        }\r\n        if (this.minD === Number.MAX_VALUE)\r\n            this.minD = 1;\r\n        i = this.k;\r\n        while (i--) {\r\n            this.g[i] = new Array(n);\r\n            this.H[i] = new Array(n);\r\n            j = n;\r\n            while (j--) {\r\n                this.H[i][j] = new Array(n);\r\n            }\r\n            this.Hd[i] = new Array(n);\r\n            this.a[i] = new Array(n);\r\n            this.b[i] = new Array(n);\r\n            this.c[i] = new Array(n);\r\n            this.d[i] = new Array(n);\r\n            this.e[i] = new Array(n);\r\n            this.ia[i] = new Array(n);\r\n            this.ib[i] = new Array(n);\r\n            this.xtmp[i] = new Array(n);\r\n        }\r\n    }\r\n    Descent.createSquareMatrix = function (n, f) {\r\n        var M = new Array(n);\r\n        for (var i = 0; i < n; ++i) {\r\n            M[i] = new Array(n);\r\n            for (var j = 0; j < n; ++j) {\r\n                M[i][j] = f(i, j);\r\n            }\r\n        }\r\n        return M;\r\n    };\r\n    Descent.prototype.offsetDir = function () {\r\n        var _this = this;\r\n        var u = new Array(this.k);\r\n        var l = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            var x = u[i] = this.random.getNextBetween(0.01, 1) - 0.5;\r\n            l += x * x;\r\n        }\r\n        l = Math.sqrt(l);\r\n        return u.map(function (x) { return x *= _this.minD / l; });\r\n    };\r\n    Descent.prototype.computeDerivatives = function (x) {\r\n        var _this = this;\r\n        var n = this.n;\r\n        if (n < 1)\r\n            return;\r\n        var i;\r\n        var d = new Array(this.k);\r\n        var d2 = new Array(this.k);\r\n        var Huu = new Array(this.k);\r\n        var maxH = 0;\r\n        for (var u = 0; u < n; ++u) {\r\n            for (i = 0; i < this.k; ++i)\r\n                Huu[i] = this.g[i][u] = 0;\r\n            for (var v = 0; v < n; ++v) {\r\n                if (u === v)\r\n                    continue;\r\n                var maxDisplaces = n;\r\n                while (maxDisplaces--) {\r\n                    var sd2 = 0;\r\n                    for (i = 0; i < this.k; ++i) {\r\n                        var dx = d[i] = x[i][u] - x[i][v];\r\n                        sd2 += d2[i] = dx * dx;\r\n                    }\r\n                    if (sd2 > 1e-9)\r\n                        break;\r\n                    var rd = this.offsetDir();\r\n                    for (i = 0; i < this.k; ++i)\r\n                        x[i][v] += rd[i];\r\n                }\r\n                var l = Math.sqrt(sd2);\r\n                var D = this.D[u][v];\r\n                var weight = this.G != null ? this.G[u][v] : 1;\r\n                if (weight > 1 && l > D || !isFinite(D)) {\r\n                    for (i = 0; i < this.k; ++i)\r\n                        this.H[i][u][v] = 0;\r\n                    continue;\r\n                }\r\n                if (weight > 1) {\r\n                    weight = 1;\r\n                }\r\n                var D2 = D * D;\r\n                var gs = 2 * weight * (l - D) / (D2 * l);\r\n                var l3 = l * l * l;\r\n                var hs = 2 * -weight / (D2 * l3);\r\n                if (!isFinite(gs))\r\n                    console.log(gs);\r\n                for (i = 0; i < this.k; ++i) {\r\n                    this.g[i][u] += d[i] * gs;\r\n                    Huu[i] -= this.H[i][u][v] = hs * (l3 + D * (d2[i] - sd2) + l * sd2);\r\n                }\r\n            }\r\n            for (i = 0; i < this.k; ++i)\r\n                maxH = Math.max(maxH, this.H[i][u][u] = Huu[i]);\r\n        }\r\n        var r = this.snapGridSize / 2;\r\n        var g = this.snapGridSize;\r\n        var w = this.snapStrength;\r\n        var k = w / (r * r);\r\n        var numNodes = this.numGridSnapNodes;\r\n        for (var u = 0; u < numNodes; ++u) {\r\n            for (i = 0; i < this.k; ++i) {\r\n                var xiu = this.x[i][u];\r\n                var m = xiu / g;\r\n                var f = m % 1;\r\n                var q = m - f;\r\n                var a = Math.abs(f);\r\n                var dx = (a <= 0.5) ? xiu - q * g :\r\n                    (xiu > 0) ? xiu - (q + 1) * g : xiu - (q - 1) * g;\r\n                if (-r < dx && dx <= r) {\r\n                    if (this.scaleSnapByMaxH) {\r\n                        this.g[i][u] += maxH * k * dx;\r\n                        this.H[i][u][u] += maxH * k;\r\n                    }\r\n                    else {\r\n                        this.g[i][u] += k * dx;\r\n                        this.H[i][u][u] += k;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!this.locks.isEmpty()) {\r\n            this.locks.apply(function (u, p) {\r\n                for (i = 0; i < _this.k; ++i) {\r\n                    _this.H[i][u][u] += maxH;\r\n                    _this.g[i][u] -= maxH * (p[i] - x[i][u]);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Descent.dotProd = function (a, b) {\r\n        var x = 0, i = a.length;\r\n        while (i--)\r\n            x += a[i] * b[i];\r\n        return x;\r\n    };\r\n    Descent.rightMultiply = function (m, v, r) {\r\n        var i = m.length;\r\n        while (i--)\r\n            r[i] = Descent.dotProd(m[i], v);\r\n    };\r\n    Descent.prototype.computeStepSize = function (d) {\r\n        var numerator = 0, denominator = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            numerator += Descent.dotProd(this.g[i], d[i]);\r\n            Descent.rightMultiply(this.H[i], d[i], this.Hd[i]);\r\n            denominator += Descent.dotProd(d[i], this.Hd[i]);\r\n        }\r\n        if (denominator === 0 || !isFinite(denominator))\r\n            return 0;\r\n        return 1 * numerator / denominator;\r\n    };\r\n    Descent.prototype.reduceStress = function () {\r\n        this.computeDerivatives(this.x);\r\n        var alpha = this.computeStepSize(this.g);\r\n        for (var i = 0; i < this.k; ++i) {\r\n            this.takeDescentStep(this.x[i], this.g[i], alpha);\r\n        }\r\n        return this.computeStress();\r\n    };\r\n    Descent.copy = function (a, b) {\r\n        var m = a.length, n = b[0].length;\r\n        for (var i = 0; i < m; ++i) {\r\n            for (var j = 0; j < n; ++j) {\r\n                b[i][j] = a[i][j];\r\n            }\r\n        }\r\n    };\r\n    Descent.prototype.stepAndProject = function (x0, r, d, stepSize) {\r\n        Descent.copy(x0, r);\r\n        this.takeDescentStep(r[0], d[0], stepSize);\r\n        if (this.project)\r\n            this.project[0](x0[0], x0[1], r[0]);\r\n        this.takeDescentStep(r[1], d[1], stepSize);\r\n        if (this.project)\r\n            this.project[1](r[0], x0[1], r[1]);\r\n        for (var i = 2; i < this.k; i++)\r\n            this.takeDescentStep(r[i], d[i], stepSize);\r\n    };\r\n    Descent.mApply = function (m, n, f) {\r\n        var i = m;\r\n        while (i-- > 0) {\r\n            var j = n;\r\n            while (j-- > 0)\r\n                f(i, j);\r\n        }\r\n    };\r\n    Descent.prototype.matrixApply = function (f) {\r\n        Descent.mApply(this.k, this.n, f);\r\n    };\r\n    Descent.prototype.computeNextPosition = function (x0, r) {\r\n        var _this = this;\r\n        this.computeDerivatives(x0);\r\n        var alpha = this.computeStepSize(this.g);\r\n        this.stepAndProject(x0, r, this.g, alpha);\r\n        if (this.project) {\r\n            this.matrixApply(function (i, j) { return _this.e[i][j] = x0[i][j] - r[i][j]; });\r\n            var beta = this.computeStepSize(this.e);\r\n            beta = Math.max(0.2, Math.min(beta, 1));\r\n            this.stepAndProject(x0, r, this.e, beta);\r\n        }\r\n    };\r\n    Descent.prototype.run = function (iterations) {\r\n        var stress = Number.MAX_VALUE, converged = false;\r\n        while (!converged && iterations-- > 0) {\r\n            var s = this.rungeKutta();\r\n            converged = Math.abs(stress / s - 1) < this.threshold;\r\n            stress = s;\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.prototype.rungeKutta = function () {\r\n        var _this = this;\r\n        this.computeNextPosition(this.x, this.a);\r\n        Descent.mid(this.x, this.a, this.ia);\r\n        this.computeNextPosition(this.ia, this.b);\r\n        Descent.mid(this.x, this.b, this.ib);\r\n        this.computeNextPosition(this.ib, this.c);\r\n        this.computeNextPosition(this.c, this.d);\r\n        var disp = 0;\r\n        this.matrixApply(function (i, j) {\r\n            var x = (_this.a[i][j] + 2.0 * _this.b[i][j] + 2.0 * _this.c[i][j] + _this.d[i][j]) / 6.0, d = _this.x[i][j] - x;\r\n            disp += d * d;\r\n            _this.x[i][j] = x;\r\n        });\r\n        return disp;\r\n    };\r\n    Descent.mid = function (a, b, m) {\r\n        Descent.mApply(a.length, a[0].length, function (i, j) {\r\n            return m[i][j] = a[i][j] + (b[i][j] - a[i][j]) / 2.0;\r\n        });\r\n    };\r\n    Descent.prototype.takeDescentStep = function (x, d, stepSize) {\r\n        for (var i = 0; i < this.n; ++i) {\r\n            x[i] = x[i] - stepSize * d[i];\r\n        }\r\n    };\r\n    Descent.prototype.computeStress = function () {\r\n        var stress = 0;\r\n        for (var u = 0, nMinus1 = this.n - 1; u < nMinus1; ++u) {\r\n            for (var v = u + 1, n = this.n; v < n; ++v) {\r\n                var l = 0;\r\n                for (var i = 0; i < this.k; ++i) {\r\n                    var dx = this.x[i][u] - this.x[i][v];\r\n                    l += dx * dx;\r\n                }\r\n                l = Math.sqrt(l);\r\n                var d = this.D[u][v];\r\n                if (!isFinite(d))\r\n                    continue;\r\n                var rl = d - l;\r\n                var d2 = d * d;\r\n                stress += rl * rl / d2;\r\n            }\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.zeroDistance = 1e-10;\r\n    return Descent;\r\n}());\r\nexports.Descent = Descent;\r\nvar PseudoRandom = (function () {\r\n    function PseudoRandom(seed) {\r\n        if (seed === void 0) { seed = 1; }\r\n        this.seed = seed;\r\n        this.a = 214013;\r\n        this.c = 2531011;\r\n        this.m = 2147483648;\r\n        this.range = 32767;\r\n    }\r\n    PseudoRandom.prototype.getNext = function () {\r\n        this.seed = (this.seed * this.a + this.c) % this.m;\r\n        return (this.seed >> 16) / this.range;\r\n    };\r\n    PseudoRandom.prototype.getNextBetween = function (min, max) {\r\n        return min + this.getNext() * (max - min);\r\n    };\r\n    return PseudoRandom;\r\n}());\r\nexports.PseudoRandom = PseudoRandom;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzY2VudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2Rlc2NlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJSTtJQUFBO1FBQ0ksVUFBSyxHQUE2QixFQUFFLENBQUM7SUFvQ3pDLENBQUM7SUE3QkcsbUJBQUcsR0FBSCxVQUFJLEVBQVUsRUFBRSxDQUFXO1FBSXZCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFJRCxxQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUtELHVCQUFPLEdBQVA7UUFDSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUtELHFCQUFLLEdBQUwsVUFBTSxDQUFvQztRQUN0QyxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBQ0wsWUFBQztBQUFELENBQUMsQUFyQ0QsSUFxQ0M7QUFyQ1ksc0JBQUs7QUFpRGxCO0lBNkRJLGlCQUFZLENBQWEsRUFBUyxDQUFhLEVBQVMsQ0FBbUI7UUFBbkIsa0JBQUEsRUFBQSxRQUFtQjtRQUF6QyxNQUFDLEdBQUQsQ0FBQyxDQUFZO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBa0I7UUE1RHBFLGNBQVMsR0FBVyxNQUFNLENBQUM7UUEyQzNCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixpQkFBWSxHQUFXLEdBQUcsQ0FBQztRQUMzQixpQkFBWSxHQUFXLElBQUksQ0FBQztRQUM1QixvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUVoQyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUU3QixZQUFPLEdBQTBELElBQUksQ0FBQztRQVd6RSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2IsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDWixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7aUJBQ2pCO2FBQ0o7U0FDSjtRQUNELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsU0FBUztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1gsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ04sT0FBTyxDQUFDLEVBQUUsRUFBRTtnQkFDUixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQy9CO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRWEsMEJBQWtCLEdBQWhDLFVBQWlDLENBQVMsRUFBRSxDQUFtQztRQUMzRSxJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxF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QUFDO29CQUMxQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2pEO2dCQUNELElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNyQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNqRCxTQUFTO2lCQUNaO2dCQUNELElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFDWixNQUFNLEdBQUcsQ0FBQyxDQUFDO2lCQUNkO2dCQUNELElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZCLElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pELElBQUksRUFBRSxHQUFHLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar d3v3 = require(\"./d3v3adaptor\");\r\nvar d3v4 = require(\"./d3v4adaptor\");\r\n;\r\nfunction d3adaptor(d3Context) {\r\n    if (!d3Context || isD3V3(d3Context)) {\r\n        return new d3v3.D3StyleLayoutAdaptor();\r\n    }\r\n    return new d3v4.D3StyleLayoutAdaptor(d3Context);\r\n}\r\nexports.d3adaptor = d3adaptor;\r\nfunction isD3V3(d3Context) {\r\n    var v3exp = /^3\\./;\r\n    return d3Context.version && d3Context.version.match(v3exp) !== null;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDNhZGFwdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvZDNhZGFwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0NBQXFDO0FBQ3JDLG9DQUFxQztBQUdVLENBQUM7QUE0QmhELFNBQWdCLFNBQVMsQ0FBQyxTQUF3QztJQUM5RCxJQUFJLENBQUMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtRQUNqQyxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7S0FDMUM7SUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFMRCw4QkFLQztBQUVELFNBQVMsTUFBTSxDQUFDLFNBQXVDO0lBQ25ELElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztJQUNyQixPQUFhLFNBQVUsQ0FBQyxPQUFPLElBQVUsU0FBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBQ3RGLENBQUMifQ==","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar Point = (function () {\r\n    function Point() {\r\n    }\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\nvar LineSegment = (function () {\r\n    function LineSegment(x1, y1, x2, y2) {\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n    }\r\n    return LineSegment;\r\n}());\r\nexports.LineSegment = LineSegment;\r\nvar PolyPoint = (function (_super) {\r\n    __extends(PolyPoint, _super);\r\n    function PolyPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return PolyPoint;\r\n}(Point));\r\nexports.PolyPoint = PolyPoint;\r\nfunction isLeft(P0, P1, P2) {\r\n    return (P1.x - P0.x) * (P2.y - P0.y) - (P2.x - P0.x) * (P1.y - P0.y);\r\n}\r\nexports.isLeft = isLeft;\r\nfunction above(p, vi, vj) {\r\n    return isLeft(p, vi, vj) > 0;\r\n}\r\nfunction below(p, vi, vj) {\r\n    return isLeft(p, vi, vj) < 0;\r\n}\r\nfunction ConvexHull(S) {\r\n    var P = S.slice(0).sort(function (a, b) { return a.x !== b.x ? b.x - a.x : b.y - a.y; });\r\n    var n = S.length, i;\r\n    var minmin = 0;\r\n    var xmin = P[0].x;\r\n    for (i = 1; i < n; ++i) {\r\n        if (P[i].x !== xmin)\r\n            break;\r\n    }\r\n    var minmax = i - 1;\r\n    var H = [];\r\n    H.push(P[minmin]);\r\n    if (minmax === n - 1) {\r\n        if (P[minmax].y !== P[minmin].y)\r\n            H.push(P[minmax]);\r\n    }\r\n    else {\r\n        var maxmin, maxmax = n - 1;\r\n        var xmax = P[n - 1].x;\r\n        for (i = n - 2; i >= 0; i--)\r\n            if (P[i].x !== xmax)\r\n                break;\r\n        maxmin = i + 1;\r\n        i = minmax;\r\n        while (++i <= maxmin) {\r\n            if (isLeft(P[minmin], P[maxmin], P[i]) >= 0 && i < maxmin)\r\n                continue;\r\n            while (H.length > 1) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n        if (maxmax != maxmin)\r\n            H.push(P[maxmax]);\r\n        var bot = H.length;\r\n        i = maxmin;\r\n        while (--i >= minmax) {\r\n            if (isLeft(P[maxmax], P[minmax], P[i]) >= 0 && i > minmax)\r\n                continue;\r\n            while (H.length > bot) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n    }\r\n    return H;\r\n}\r\nexports.ConvexHull = ConvexHull;\r\nfunction clockwiseRadialSweep(p, P, f) {\r\n    P.slice(0).sort(function (a, b) { return Math.atan2(a.y - p.y, a.x - p.x) - Math.atan2(b.y - p.y, b.x - p.x); }).forEach(f);\r\n}\r\nexports.clockwiseRadialSweep = clockwiseRadialSweep;\r\nfunction nextPolyPoint(p, ps) {\r\n    if (p.polyIndex === ps.length - 1)\r\n        return ps[0];\r\n    return ps[p.polyIndex + 1];\r\n}\r\nfunction prevPolyPoint(p, ps) {\r\n    if (p.polyIndex === 0)\r\n        return ps[ps.length - 1];\r\n    return ps[p.polyIndex - 1];\r\n}\r\nfunction tangent_PointPolyC(P, V) {\r\n    var Vclosed = V.slice(0);\r\n    Vclosed.push(V[0]);\r\n    return { rtan: Rtangent_PointPolyC(P, Vclosed), ltan: Ltangent_PointPolyC(P, Vclosed) };\r\n}\r\nfunction Rtangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var upA, dnC;\r\n    if (below(P, V[1], V[0]) && !above(P, V[n - 1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (above(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (dnC && !above(P, V[c - 1], V[c]))\r\n            return c;\r\n        upA = above(P, V[a + 1], V[a]);\r\n        if (upA) {\r\n            if (dnC)\r\n                b = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (!dnC)\r\n                a = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction Ltangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var dnA, dnC;\r\n    if (above(P, V[n - 1], V[0]) && !below(P, V[1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (below(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (above(P, V[c - 1], V[c]) && !dnC)\r\n            return c;\r\n        dnA = below(P, V[a + 1], V[a]);\r\n        if (dnA) {\r\n            if (!dnC)\r\n                b = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (dnC)\r\n                a = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction tangent_PolyPolyC(V, W, t1, t2, cmp1, cmp2) {\r\n    var ix1, ix2;\r\n    ix1 = t1(W[0], V);\r\n    ix2 = t2(V[ix1], W);\r\n    var done = false;\r\n    while (!done) {\r\n        done = true;\r\n        while (true) {\r\n            if (ix1 === V.length - 1)\r\n                ix1 = 0;\r\n            if (cmp1(W[ix2], V[ix1], V[ix1 + 1]))\r\n                break;\r\n            ++ix1;\r\n        }\r\n        while (true) {\r\n            if (ix2 === 0)\r\n                ix2 = W.length - 1;\r\n            if (cmp2(V[ix1], W[ix2], W[ix2 - 1]))\r\n                break;\r\n            --ix2;\r\n            done = false;\r\n        }\r\n    }\r\n    return { t1: ix1, t2: ix2 };\r\n}\r\nexports.tangent_PolyPolyC = tangent_PolyPolyC;\r\nfunction LRtangent_PolyPolyC(V, W) {\r\n    var rl = RLtangent_PolyPolyC(W, V);\r\n    return { t1: rl.t2, t2: rl.t1 };\r\n}\r\nexports.LRtangent_PolyPolyC = LRtangent_PolyPolyC;\r\nfunction RLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Ltangent_PointPolyC, above, below);\r\n}\r\nexports.RLtangent_PolyPolyC = RLtangent_PolyPolyC;\r\nfunction LLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Ltangent_PointPolyC, Ltangent_PointPolyC, below, below);\r\n}\r\nexports.LLtangent_PolyPolyC = LLtangent_PolyPolyC;\r\nfunction RRtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Rtangent_PointPolyC, above, above);\r\n}\r\nexports.RRtangent_PolyPolyC = RRtangent_PolyPolyC;\r\nvar BiTangent = (function () {\r\n    function BiTangent(t1, t2) {\r\n        this.t1 = t1;\r\n        this.t2 = t2;\r\n    }\r\n    return BiTangent;\r\n}());\r\nexports.BiTangent = BiTangent;\r\nvar BiTangents = (function () {\r\n    function BiTangents() {\r\n    }\r\n    return BiTangents;\r\n}());\r\nexports.BiTangents = BiTangents;\r\nvar TVGPoint = (function (_super) {\r\n    __extends(TVGPoint, _super);\r\n    function TVGPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return TVGPoint;\r\n}(Point));\r\nexports.TVGPoint = TVGPoint;\r\nvar VisibilityVertex = (function () {\r\n    function VisibilityVertex(id, polyid, polyvertid, p) {\r\n        this.id = id;\r\n        this.polyid = polyid;\r\n        this.polyvertid = polyvertid;\r\n        this.p = p;\r\n        p.vv = this;\r\n    }\r\n    return VisibilityVertex;\r\n}());\r\nexports.VisibilityVertex = VisibilityVertex;\r\nvar VisibilityEdge = (function () {\r\n    function VisibilityEdge(source, target) {\r\n        this.source = source;\r\n        this.target = target;\r\n    }\r\n    VisibilityEdge.prototype.length = function () {\r\n        var dx = this.source.p.x - this.target.p.x;\r\n        var dy = this.source.p.y - this.target.p.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    };\r\n    return VisibilityEdge;\r\n}());\r\nexports.VisibilityEdge = VisibilityEdge;\r\nvar TangentVisibilityGraph = (function () {\r\n    function TangentVisibilityGraph(P, g0) {\r\n        this.P = P;\r\n        this.V = [];\r\n        this.E = [];\r\n        if (!g0) {\r\n            var n = P.length;\r\n            for (var i = 0; i < n; i++) {\r\n                var p = P[i];\r\n                for (var j = 0; j < p.length; ++j) {\r\n                    var pj = p[j], vv = new VisibilityVertex(this.V.length, i, j, pj);\r\n                    this.V.push(vv);\r\n                    if (j > 0)\r\n                        this.E.push(new VisibilityEdge(p[j - 1].vv, vv));\r\n                }\r\n                if (p.length > 1)\r\n                    this.E.push(new VisibilityEdge(p[0].vv, p[p.length - 1].vv));\r\n            }\r\n            for (var i = 0; i < n - 1; i++) {\r\n                var Pi = P[i];\r\n                for (var j = i + 1; j < n; j++) {\r\n                    var Pj = P[j], t = tangents(Pi, Pj);\r\n                    for (var q in t) {\r\n                        var c = t[q], source = Pi[c.t1], target = Pj[c.t2];\r\n                        this.addEdgeIfVisible(source, target, i, j);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.V = g0.V.slice(0);\r\n            this.E = g0.E.slice(0);\r\n        }\r\n    }\r\n    TangentVisibilityGraph.prototype.addEdgeIfVisible = function (u, v, i1, i2) {\r\n        if (!this.intersectsPolys(new LineSegment(u.x, u.y, v.x, v.y), i1, i2)) {\r\n            this.E.push(new VisibilityEdge(u.vv, v.vv));\r\n        }\r\n    };\r\n    TangentVisibilityGraph.prototype.addPoint = function (p, i1) {\r\n        var n = this.P.length;\r\n        this.V.push(new VisibilityVertex(this.V.length, n, 0, p));\r\n        for (var i = 0; i < n; ++i) {\r\n            if (i === i1)\r\n                continue;\r\n            var poly = this.P[i], t = tangent_PointPolyC(p, poly);\r\n            this.addEdgeIfVisible(p, poly[t.ltan], i1, i);\r\n            this.addEdgeIfVisible(p, poly[t.rtan], i1, i);\r\n        }\r\n        return p.vv;\r\n    };\r\n    TangentVisibilityGraph.prototype.intersectsPolys = function (l, i1, i2) {\r\n        for (var i = 0, n = this.P.length; i < n; ++i) {\r\n            if (i != i1 && i != i2 && intersects(l, this.P[i]).length > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return TangentVisibilityGraph;\r\n}());\r\nexports.TangentVisibilityGraph = TangentVisibilityGraph;\r\nfunction intersects(l, P) {\r\n    var ints = [];\r\n    for (var i = 1, n = P.length; i < n; ++i) {\r\n        var int = rectangle_1.Rectangle.lineIntersection(l.x1, l.y1, l.x2, l.y2, P[i - 1].x, P[i - 1].y, P[i].x, P[i].y);\r\n        if (int)\r\n            ints.push(int);\r\n    }\r\n    return ints;\r\n}\r\nfunction tangents(V, W) {\r\n    var m = V.length - 1, n = W.length - 1;\r\n    var bt = new BiTangents();\r\n    for (var i = 0; i < m; ++i) {\r\n        for (var j = 0; j < n; ++j) {\r\n            var v1 = V[i == 0 ? m - 1 : i - 1];\r\n            var v2 = V[i];\r\n            var v3 = V[i + 1];\r\n            var w1 = W[j == 0 ? n - 1 : j - 1];\r\n            var w2 = W[j];\r\n            var w3 = W[j + 1];\r\n            var v1v2w2 = isLeft(v1, v2, w2);\r\n            var v2w1w2 = isLeft(v2, w1, w2);\r\n            var v2w2w3 = isLeft(v2, w2, w3);\r\n            var w1w2v2 = isLeft(w1, w2, v2);\r\n            var w2v1v2 = isLeft(w2, v1, v2);\r\n            var w2v2v3 = isLeft(w2, v2, v3);\r\n            if (v1v2w2 >= 0 && v2w1w2 >= 0 && v2w2w3 < 0\r\n                && w1w2v2 >= 0 && w2v1v2 >= 0 && w2v2v3 < 0) {\r\n                bt.ll = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 <= 0 && v2w2w3 > 0\r\n                && w1w2v2 <= 0 && w2v1v2 <= 0 && w2v2v3 > 0) {\r\n                bt.rr = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 > 0 && v2w2w3 <= 0\r\n                && w1w2v2 >= 0 && w2v1v2 < 0 && w2v2v3 >= 0) {\r\n                bt.rl = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 >= 0 && v2w1w2 < 0 && v2w2w3 >= 0\r\n                && w1w2v2 <= 0 && w2v1v2 > 0 && w2v2v3 <= 0) {\r\n                bt.lr = new BiTangent(i, j);\r\n            }\r\n        }\r\n    }\r\n    return bt;\r\n}\r\nexports.tangents = tangents;\r\nfunction isPointInsidePoly(p, poly) {\r\n    for (var i = 1, n = poly.length; i < n; ++i)\r\n        if (below(poly[i - 1], poly[i], p))\r\n            return false;\r\n    return true;\r\n}\r\nfunction isAnyPInQ(p, q) {\r\n    return !p.every(function (v) { return !isPointInsidePoly(v, q); });\r\n}\r\nfunction polysOverlap(p, q) {\r\n    if (isAnyPInQ(p, q))\r\n        return true;\r\n    if (isAnyPInQ(q, p))\r\n        return true;\r\n    for (var i = 1, n = p.length; i < n; ++i) {\r\n        var v = p[i], u = p[i - 1];\r\n        if (intersects(new LineSegment(u.x, u.y, v.x, v.y), q).length > 0)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nexports.polysOverlap = polysOverlap;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VvbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2dlb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQXFDO0FBQ2pDO0lBQUE7SUFHQSxDQUFDO0lBQUQsWUFBQztBQUFELENBQUMsQUFIRCxJQUdDO0FBSFksc0JBQUs7QUFLbEI7SUFDSSxxQkFBbUIsRUFBVSxFQUFTLEVBQVUsRUFBUyxFQUFVLEVBQVMsRUFBVTtRQUFuRSxPQUFFLEdBQUYsRUFBRSxDQUFRO1FBQVMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxPQUFFLEdBQUYsRUFBRSxDQUFRO0lBQUksQ0FBQztJQUMvRixrQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRlksa0NBQVc7QUFJeEI7SUFBK0IsNkJBQUs7SUFBcEM7O0lBRUEsQ0FBQztJQUFELGdCQUFDO0FBQUQsQ0FBQyxBQUZELENBQStCLEtBQUssR0FFbkM7QUFGWSw4QkFBUztBQVV0QixTQUFnQixNQUFNLENBQUMsRUFBUyxFQUFFLEVBQVMsRUFBRSxFQUFTO0lBQ2xELE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRkQsd0JBRUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxDQUFRLEVBQUUsRUFBUyxFQUFFLEVBQVM7SUFDekMsT0FBTyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUVE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SSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFHckIsSUFBSSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsQ0FBQztJQUNwQyxJQUFJLEdBQVksRUFBRSxHQUFZLENBQUM7SUFJL0IsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsT0FBTyxDQUFDLENBQUM7SUFFYixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUNYLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixPQUFPLENBQUMsQ0FBQzs7Z0JBRVQsT0FBTyxDQUFDLENBQUM7UUFFakIsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsT0FBTyxDQUFDLENBQUM7UUFJYixHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar gridrouter_1 = require(\"./gridrouter\");\r\nfunction gridify(pgLayout, nudgeGap, margin, groupMargin) {\r\n    pgLayout.cola.start(0, 0, 0, 10, false);\r\n    var gridrouter = route(pgLayout.cola.nodes(), pgLayout.cola.groups(), margin, groupMargin);\r\n    return gridrouter.routeEdges(pgLayout.powerGraph.powerEdges, nudgeGap, function (e) { return e.source.routerNode.id; }, function (e) { return e.target.routerNode.id; });\r\n}\r\nexports.gridify = gridify;\r\nfunction route(nodes, groups, margin, groupMargin) {\r\n    nodes.forEach(function (d) {\r\n        d.routerNode = {\r\n            name: d.name,\r\n            bounds: d.bounds.inflate(-margin)\r\n        };\r\n    });\r\n    groups.forEach(function (d) {\r\n        d.routerNode = {\r\n            bounds: d.bounds.inflate(-groupMargin),\r\n            children: (typeof d.groups !== 'undefined' ? d.groups.map(function (c) { return nodes.length + c.id; }) : [])\r\n                .concat(typeof d.leaves !== 'undefined' ? d.leaves.map(function (c) { return c.index; }) : [])\r\n        };\r\n    });\r\n    var gridRouterNodes = nodes.concat(groups).map(function (d, i) {\r\n        d.routerNode.id = i;\r\n        return d.routerNode;\r\n    });\r\n    return new gridrouter_1.GridRouter(gridRouterNodes, {\r\n        getChildren: function (v) { return v.children; },\r\n        getBounds: function (v) { return v.bounds; }\r\n    }, margin - groupMargin);\r\n}\r\nfunction powerGraphGridLayout(graph, size, grouppadding) {\r\n    var powerGraph;\r\n    graph.nodes.forEach(function (v, i) { return v.index = i; });\r\n    new layout_1.Layout()\r\n        .avoidOverlaps(false)\r\n        .nodes(graph.nodes)\r\n        .links(graph.links)\r\n        .powerGraphGroups(function (d) {\r\n        powerGraph = d;\r\n        powerGraph.groups.forEach(function (v) { return v.padding = grouppadding; });\r\n    });\r\n    var n = graph.nodes.length;\r\n    var edges = [];\r\n    var vs = graph.nodes.slice(0);\r\n    vs.forEach(function (v, i) { return v.index = i; });\r\n    powerGraph.groups.forEach(function (g) {\r\n        var sourceInd = g.index = g.id + n;\r\n        vs.push(g);\r\n        if (typeof g.leaves !== 'undefined')\r\n            g.leaves.forEach(function (v) { return edges.push({ source: sourceInd, target: v.index }); });\r\n        if (typeof g.groups !== 'undefined')\r\n            g.groups.forEach(function (gg) { return edges.push({ source: sourceInd, target: gg.id + n }); });\r\n    });\r\n    powerGraph.powerEdges.forEach(function (e) {\r\n        edges.push({ source: e.source.index, target: e.target.index });\r\n    });\r\n    new layout_1.Layout()\r\n        .size(size)\r\n        .nodes(vs)\r\n        .links(edges)\r\n        .avoidOverlaps(false)\r\n        .linkDistance(30)\r\n        .symmetricDiffLinkLengths(5)\r\n        .convergenceThreshold(1e-4)\r\n        .start(100, 0, 0, 0, false);\r\n    return {\r\n        cola: new layout_1.Layout()\r\n            .convergenceThreshold(1e-3)\r\n            .size(size)\r\n            .avoidOverlaps(true)\r\n            .nodes(graph.nodes)\r\n            .links(graph.links)\r\n            .groupCompactness(1e-4)\r\n            .linkDistance(30)\r\n            .symmetricDiffLinkLengths(5)\r\n            .powerGraphGroups(function (d) {\r\n            powerGraph = d;\r\n            powerGraph.groups.forEach(function (v) {\r\n                v.padding = grouppadding;\r\n            });\r\n        }).start(50, 0, 100, 0, false),\r\n        powerGraph: powerGraph\r\n    };\r\n}\r\nexports.powerGraphGridLayout = powerGraphGridLayout;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmF0Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9iYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUEyQztBQUMzQywyQ0FBdUM7QUFRdkMsU0FBZ0IsT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFnQixFQUFFLE1BQWMsRUFBRSxXQUFtQjtJQUNuRixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDM0YsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFNLFFBQVEsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDO0FBQ3hJLENBQUM7QUFKRCwwQkFJQztBQUVELFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBYyxFQUFFLFdBQW1CO0lBQzdELEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1FBQ1gsQ0FBQyxDQUFDLFVBQVUsR0FBUTtZQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUk7WUFDWixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FDcEMsQ0FBQztJQUNOLENBQUMsQ0FBQyxDQUFDO0lBQ0gs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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar LayoutAdaptor = (function (_super) {\r\n    __extends(LayoutAdaptor, _super);\r\n    function LayoutAdaptor(options) {\r\n        var _this = _super.call(this) || this;\r\n        var self = _this;\r\n        var o = options;\r\n        if (o.trigger) {\r\n            _this.trigger = o.trigger;\r\n        }\r\n        if (o.kick) {\r\n            _this.kick = o.kick;\r\n        }\r\n        if (o.drag) {\r\n            _this.drag = o.drag;\r\n        }\r\n        if (o.on) {\r\n            _this.on = o.on;\r\n        }\r\n        _this.dragstart = _this.dragStart = layout_1.Layout.dragStart;\r\n        _this.dragend = _this.dragEnd = layout_1.Layout.dragEnd;\r\n        return _this;\r\n    }\r\n    LayoutAdaptor.prototype.trigger = function (e) { };\r\n    ;\r\n    LayoutAdaptor.prototype.kick = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.drag = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.on = function (eventType, listener) { return this; };\r\n    ;\r\n    return LayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.LayoutAdaptor = LayoutAdaptor;\r\nfunction adaptor(options) {\r\n    return new LayoutAdaptor(options);\r\n}\r\nexports.adaptor = adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2FkYXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWlEO0FBRTdDO0lBQW1DLGlDQUFNO0lBYXJDLHVCQUFhLE9BQU87UUFBcEIsWUFDSSxpQkFBTyxTQXlCVjtRQXJCRyxJQUFJLElBQUksR0FBRyxLQUFJLENBQUM7UUFDaEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBRWhCLElBQUssQ0FBQyxDQUFDLE9BQU8sRUFBRztZQUNiLEtBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztTQUM1QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNQLEtBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNsQjtRQUVELEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDLFNBQVMsR0FBRyxlQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSSxDQUFDLE9BQU8sR0FBRyxlQUFNLENBQUMsT0FBTyxDQUFDOztJQUNqRCxDQUFDO0lBcENELCtCQUFPLEdBQVAsVUFBUSxDQUFRLElBQUcsQ0FBQztJQUFBLENBQUM7SUFDckIsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsMEJBQUUsR0FBRixVQUFHLFNBQTZCLEVBQUUsUUFBb0IsSUFBVyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFBQSxDQUFDO0lBa0NwRixvQkFBQztBQUFELENBQUMsQUF4Q0QsQ0FBbUMsZUFBTSxHQXdDeEM7QUF4Q1ksc0NBQWE7QUE2QzFCLFNBQWdCLE9BQU8sQ0FBRSxPQUFPO0lBQzVCLE9BQU8sSUFBSSxhQUFhLENBQUUsT0FBTyxDQUFFLENBQUM7QUFDeEMsQ0FBQztBQUZELDBCQUVDIn0=","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./src/adaptor\"));\r\n__export(require(\"./src/d3adaptor\"));\r\n__export(require(\"./src/descent\"));\r\n__export(require(\"./src/geom\"));\r\n__export(require(\"./src/gridrouter\"));\r\n__export(require(\"./src/handledisconnected\"));\r\n__export(require(\"./src/layout\"));\r\n__export(require(\"./src/layout3d\"));\r\n__export(require(\"./src/linklengths\"));\r\n__export(require(\"./src/powergraph\"));\r\n__export(require(\"./src/pqueue\"));\r\n__export(require(\"./src/rbtree\"));\r\n__export(require(\"./src/rectangle\"));\r\n__export(require(\"./src/shortestpaths\"));\r\n__export(require(\"./src/vpsc\"));\r\n__export(require(\"./src/batch\"));\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9XZWJDb2xhL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUNBQTZCO0FBQzdCLHFDQUErQjtBQUMvQixtQ0FBNkI7QUFDN0IsZ0NBQTBCO0FBQzFCLHNDQUFnQztBQUNoQyw4Q0FBd0M7QUFDeEMsa0NBQTRCO0FBQzVCLG9DQUE4QjtBQUM5Qix1Q0FBaUM7QUFDakMsc0NBQWdDO0FBQ2hDLGtDQUE0QjtBQUM1QixrQ0FBNEI7QUFDNUIscUNBQStCO0FBQy9CLHlDQUFtQztBQUNuQyxnQ0FBMEI7QUFDMUIsaUNBQTJCIn0=","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor(d3Context) {\r\n        var _this = _super.call(this) || this;\r\n        _this.d3Context = d3Context;\r\n        _this.event = d3Context.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3Context.drag()\r\n                    .subject(layout_1.Layout.dragOrigin)\r\n                    .on(\"start.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3Context.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"end.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            arguments[0].call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event.call(d3event.type, d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        var t = this.d3Context.timer(function () { return _super.prototype.tick.call(_this) && t.stop(); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2NGFkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3Y0YWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFHQSxtQ0FBaUQ7QUFVakQ7SUFBMEMsd0NBQU07SUFpQjVDLDhCQUFvQixTQUFvQjtRQUF4QyxZQUNJLGlCQUFPLFNBeUJWO1FBMUJtQixlQUFTLEdBQVQsU0FBUyxDQUFXO1FBRXBDLEtBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBR2pILElBQUksUUFBUSxHQUFHLEtBQUksQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQztRQUNULEtBQUksQ0FBQyxJQUFJLEdBQUc7WUFDUixJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUU7cUJBQ3RCLE9BQU8sQ0FBQyxlQUFNLENBQUMsVUFBVSxDQUFDO3FCQUMxQixFQUFFLENBQUMsaUJBQWlCLEVBQUUsZUFBTSxDQUFDLFNBQVMsQ0FBQztxQkFDdkMsRUFBRSxDQUFDLGdCQUFnQixFQUFFLFVBQUEsQ0FBQztvQkFDbkIsZUFBTSxDQUFDLElBQUksQ0FBTSxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RCLENBQUMsQ0FBQztxQkFDRCxFQUFFLENBQUMsZUFBZSxFQUFFLGVBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUM1QztZQUVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtnQkFBRSxPQUFPLElBQUksQ0FBQztZQUtuQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQTs7SUFDTCxDQUFDO0lBekNELHNDQUFPLEdBQVAsVUFBUSxDQUFRO1FBQ1osSUFBSSxPQUFPLEdBQUcsRUFBRSxJQUFJLEVBQUUsa0JBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUc1RSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFPLE9BQU8sQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxjQUFNLE9BQUEsaUJBQU0sSUFBSSxZQUFFLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUF4QixDQUF3QixDQUFDLENBQUM7SUFDakUsQ0FBQztJQWtDRCxpQ0FBRSxHQUFGLFVBQUcsU0FBNkIsRUFBRSxRQUFvQjtRQUNsRCxJQUFJLE9BQU8sU0FBUyxLQUFLLFFBQVEsRUFBRTtZQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLGtCQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDakQ7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsMkJBQUM7QUFBRCxDQUFDLEFBdERELENBQTBDLGVBQU0sR0FzRC9DO0FBdERZLG9EQUFvQiJ9"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","layout_1","D3StyleLayoutAdaptor","_super","_this","call","event","d3","dispatch","EventType","start","tick","end","d3layout","drag","behavior","origin","Layout","dragOrigin","on","dragStart","resume","dragEnd","arguments","length","trigger","e","d3event","type","alpha","stress","kick","timer","eventType","listener","d3adaptor","Locks","locks","add","id","x","clear","isEmpty","l","apply","f","Number","Descent","D","G","threshold","numGridSnapNodes","snapGridSize","snapStrength","scaleSnapByMaxH","random","PseudoRandom","project","k","n","H","g","Hd","a","c","ia","ib","xtmp","minD","MAX_VALUE","j","i","createSquareMatrix","M","offsetDir","u","getNextBetween","Math","sqrt","map","computeDerivatives","d2","Huu","maxH","v","maxDisplaces","sd2","dx","rd","weight","isFinite","D2","gs","l3","hs","console","log","max","r","numNodes","xiu","m","q","abs","dotProd","rightMultiply","computeStepSize","numerator","denominator","reduceStress","takeDescentStep","computeStress","copy","stepAndProject","x0","stepSize","mApply","matrixApply","computeNextPosition","beta","min","run","iterations","converged","s","rungeKutta","mid","disp","nMinus1","rl","zeroDistance","seed","range","getNext","d3v3","d3v4","d3Context","version","match","isD3V3","rectangle_1","Point","LineSegment","x1","y1","x2","y2","PolyPoint","isLeft","P0","P1","P2","y","above","vi","vj","below","Rtangent_PointPolyC","P","V","dnC","floor","Ltangent_PointPolyC","tangent_PolyPolyC","W","t1","t2","cmp1","cmp2","ix1","ix2","done","RLtangent_PolyPolyC","ConvexHull","S","slice","sort","xmin","minmax","push","maxmin","maxmax","xmax","bot","clockwiseRadialSweep","atan2","forEach","LRtangent_PolyPolyC","LLtangent_PolyPolyC","RRtangent_PolyPolyC","BiTangent","BiTangents","TVGPoint","VisibilityVertex","polyid","polyvertid","vv","VisibilityEdge","source","target","dy","TangentVisibilityGraph","g0","E","pj","Pi","Pj","t","tangents","addEdgeIfVisible","i1","i2","intersectsPolys","addPoint","Vclosed","poly","rtan","ltan","intersects","ints","int","Rectangle","lineIntersection","bt","v1","v2","v3","w1","w2","w3","v1v2w2","v2w1w2","v2w2w3","w1w2v2","w2v1v2","w2v2v3","ll","rr","lr","isAnyPInQ","every","isPointInsidePoly","polysOverlap","gridrouter_1","gridify","pgLayout","nudgeGap","margin","groupMargin","cola","nodes","groups","routerNode","name","bounds","inflate","children","concat","leaves","index","gridRouterNodes","GridRouter","getChildren","getBounds","route","routeEdges","powerGraph","powerEdges","powerGraphGridLayout","graph","size","grouppadding","avoidOverlaps","links","powerGraphGroups","padding","edges","vs","sourceInd","gg","linkDistance","symmetricDiffLinkLengths","convergenceThreshold","groupCompactness","LayoutAdaptor","options","o","dragstart","dragend","adaptor","__export","subject","stop"],"sourceRoot":""}