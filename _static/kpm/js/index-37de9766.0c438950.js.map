{"version":3,"file":"js/index-37de9766.0c438950.js","mappings":"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","sources":["webpack://pipeline-manager/./src/custom/nodepalette/PaletteEntry.vue","webpack://pipeline-manager/./src/custom/nodepalette/PaletteEntry.vue?1d4f","webpack://pipeline-manager/./src/custom/RectangleSelection.vue","webpack://pipeline-manager/./src/custom/RectangleSelection.vue?35f7","webpack://pipeline-manager/./src/custom/connection/TemporaryConnection.vue","webpack://pipeline-manager/./src/custom/connection/TemporaryConnection.vue?175b","webpack://pipeline-manager/./src/custom/connection/ConnectionView.vue","webpack://pipeline-manager/./src/custom/connection/ConnectionView.vue?a952","webpack://pipeline-manager/./src/custom/directives.js","webpack://pipeline-manager/./src/custom/connection/domResolver.js","webpack://pipeline-manager/./src/custom/connection/PipelineManagerConnection.vue","webpack://pipeline-manager/./src/custom/connection/PipelineManagerConnection.vue?3555","webpack://pipeline-manager/./src/custom/nodepalette/NodePalette.vue","webpack://pipeline-manager/./src/custom/nodepalette/PaletteCategory.vue","webpack://pipeline-manager/./src/custom/nodepalette/nodeTree.ts","webpack://pipeline-manager/./src/custom/nodepalette/PaletteCategory.vue?9e7c","webpack://pipeline-manager/./src/custom/nodepalette/NodePalette.vue?2aed","webpack://pipeline-manager/./src/custom/rectangleSelection.js","webpack://pipeline-manager/./src/custom/panZoom.js"],"sourcesContent":["<!--\nCopyright (c) 2022-2023 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<!--\nA single entry representing available node type in the sidebar.\n-->\n<template>\n    <div\n        v-show=\"mask === undefined || mask\"\n        class=\"__entry __node-entry\"\n        :class=\"{ __category: isCategory, __dragged: isDragged }\"\n        :style=\"padding\"\n    >\n        <img class=\"__title-icon\" v-if=\"nodeIcon !== undefined\" :src=\"nodeIcon\" draggable=\"false\" />\n        <div class=\"__title-label\" v-html=\"titleSanitized\"></div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue';\nimport { useViewModel } from '@baklavajs/renderer-vue';\nimport DOMPurify from 'dompurify';\n\nexport default defineComponent({\n    props: {\n        title: {\n            type: String,\n            required: true,\n        },\n        iconPath: {\n            type: String,\n            required: false,\n        },\n        depth: {\n            type: Number,\n            required: true,\n        },\n        isCategory: {\n            type: Boolean,\n            required: false,\n        },\n        isDragged: {\n            type: Boolean,\n            required: false,\n        },\n        hitSubstring: {\n            type: String,\n            required: false,\n        },\n        mask: {\n            // Optional boolean\n            required: false,\n        },\n    },\n    setup(props) {\n        const { viewModel } = useViewModel();\n        const getIconPath = (name) => viewModel.value.cache[`./${name}`] ?? name;\n        const nodeIcon = computed(() => getIconPath(props.iconPath));\n        const paddingDepth = 20;\n        const minPadding = 10;\n        const padding = computed(\n            () => `padding-left: ${minPadding + props.depth * paddingDepth}px`,\n        );\n        const titleSanitized =\n            computed(() => DOMPurify.sanitize(props.hitSubstring ?? props.title));\n\n        return {\n            nodeIcon,\n            padding,\n            getIconPath,\n            titleSanitized,\n        };\n    },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.__dragged {\n    border-radius: var(--baklava-node-border-radius);\n    border-width: 0px;\n}\n</style>\n","import { render } from \"./PaletteEntry.vue?vue&type=template&id=6fa34012&scoped=true\"\nimport script from \"./PaletteEntry.vue?vue&type=script&lang=js\"\nexport * from \"./PaletteEntry.vue?vue&type=script&lang=js\"\n\nimport \"./PaletteEntry.vue?vue&type=style&index=0&id=6fa34012&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6fa34012\"]])\n\nexport default __exports__","<!--\nCopyright (c) 2022-2023 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<template>\n    <div class=\"rectangle-selection-border\" :style=\"styles\">\n        <div class=\"rectangle-selection\">\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport { computed, defineComponent, ref } from 'vue'; // eslint-disable-line object-curly-newline\n\nexport default defineComponent({\n    setup() {\n        const selecting = ref(false);\n        const selectionBegin = ref({ x: 0, y: 0 });\n        const selectionEnd = ref({ x: 0, y: 0 });\n        const boundingRect = computed(() => ({\n            xBegin: selectionBegin?.value.x < selectionEnd?.value.x ?\n                selectionBegin?.value.x : selectionEnd?.value.x,\n\n            yBegin: selectionBegin?.value.y < selectionEnd?.value.y ?\n                selectionBegin?.value.y : selectionEnd?.value.y,\n\n            xEnd: selectionBegin?.value.x >= selectionEnd?.value.x ?\n                selectionBegin?.value.x : selectionEnd?.value.x,\n\n            yEnd: selectionBegin?.value.y >= selectionEnd?.value.y ?\n                selectionBegin?.value.y : selectionEnd?.value.y,\n        }));\n\n        const styles = computed(() => ({\n            position: 'absolute',\n            visibility: `${selecting.value ? 'visible' : 'hidden'}`,\n            top: `${boundingRect.value.yBegin}px`,\n            left: `${boundingRect.value.xBegin}px`,\n            width: `${Math.abs(boundingRect.value.xEnd - boundingRect.value.xBegin) ?? 0}px`,\n            height: `${Math.abs(boundingRect.value.yEnd - boundingRect.value.yBegin) ?? 0}px`,\n        }));\n\n        const onPointerDown = (ev) => {\n            selecting.value = true;\n            selectionBegin.value = { x: ev.pageX, y: ev.pageY };\n            selectionEnd.value = { x: ev.pageX, y: ev.pageY };\n        };\n\n        const onPointerMove = (ev) => {\n            if (selecting.value) {\n                selectionEnd.value = { x: ev.pageX, y: ev.pageY };\n            }\n        };\n\n        const onPointerUp = () => {\n            selecting.value = false;\n\n            selectionBegin.value = { x: 0, y: 0 };\n            selectionEnd.value = { x: 0, y: 0 };\n        };\n\n        return {\n            styles,\n            onPointerDown,\n            onPointerMove,\n            onPointerUp,\n            selecting,\n            boundingRect,\n        };\n    },\n});\n\n</script>\n","import { render } from \"./RectangleSelection.vue?vue&type=template&id=176c206a\"\nimport script from \"./RectangleSelection.vue?vue&type=script&lang=js\"\nexport * from \"./RectangleSelection.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\nCopyright (c) 2022-2023 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<template>\n    <ConnectionView\n        :x1=\"swappedD.input[0]\"\n        :y1=\"swappedD.input[1]\"\n        :x2=\"swappedD.output[0]\"\n        :y2=\"swappedD.output[1]\"\n        :state=\"status\"\n        :connection=\"connection\"\n        is-temporary\n    />\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport { Components } from '@baklavajs/renderer-vue';\nimport ConnectionView from './ConnectionView.vue';\n\nexport default {\n    extends: Components.TemporaryConnection,\n    components: {\n        ConnectionView,\n    },\n    setup(props) {\n        const { d, status } = Components.TemporaryConnection.setup(props);\n\n        const swappedD = computed(() => {\n            let { input, output } = d.value;\n\n            // Currently, baklavajs swaps the input/output if this condition holds\n            // We want to have no discrepancy between the input output coordinates\n            // and connection from/to values.\n            if (props.connection.from.isInput) {\n                [input, output] = [output, input];\n            }\n\n            return { input, output };\n        });\n\n        return { d, swappedD, status };\n    },\n};\n</script>\n","import { render } from \"./TemporaryConnection.vue?vue&type=template&id=00fe0537\"\nimport script from \"./TemporaryConnection.vue?vue&type=script&lang=js\"\nexport * from \"./TemporaryConnection.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\nCopyright (c) 2022-2024 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<!--\nComponent defining connection between two different nodes\nInherits from baklavajs/renderer-vue/src/connection/ConnectionView.vue\n-->\n\n<template>\n    <g v-if=\"hasAnchors\">\n        <path :d=\"parsedNewD\" class=\"connection-wrapper baklava-connection\"></path>\n        <!-- The connection wrapper is rendered twice, once for\n            easy highlight detection, and once for creating anchor points -->\n\n        <!-- eslint-disable vue/valid-v-for -->\n        <template v-if=\"hasAnchors\">\n            <g\n                v-for=\"(d, index) in parsedNewD\"\n                @pointerdown.left.exact=\"onMouseDown\"\n                @pointerdown=\"(ev) => { if(ev.pointerType === 'touch') onMouseDown(ev) }\"\n                @pointerdown.left.ctrl.exact=\"(ev) => onMouseCtrlDown(ev, index)\"\n            >\n            <path :d=\"d\" class=\"connection-wrapper baklava-connection\"></path>\n            <path :d=\"d\" class=\"baklava-connection\" :class=\"cssClasses\" :style=\"style\"></path>\n            </g>\n            <template v-if=\"hover || !editorManager.baklavaView.settings.hideAnchors\">\n                <Anchor\n                    v-for=\"(anchor, index) in connection.anchors\"\n                    :key=\"anchor.id\"\n                    :position=\"anchor\"\n                    :rightclickCallback=\"() => removeAnchor(index)\"\n                />\n            </template>\n        </template>\n    </g>\n    <g\n        v-else\n        @pointerdown.left.exact=\"onMouseDown\"\n        @pointerdown=\"(ev) => { if(ev.pointerType === 'touch') onMouseDown(ev) }\"\n        @pointerdown.left.ctrl.exact=\"(ev) => onMouseCtrlDown(ev, 0)\"\n    >\n        <path :d=\"parsedNewD\" class=\"connection-wrapper baklava-connection\"></path>\n        <path :d=\"parsedNewD\" class=\"baklava-connection\" :class=\"cssClasses\" :style=\"style\"></path>\n    </g>\n</template>\n\n<script>\nimport {\n    defineComponent, computed, toRef,\n} from 'vue';\nimport { Components, useGraph, useViewModel } from '@baklavajs/renderer-vue';\nimport doubleClick from '../../core/doubleClick';\nimport Anchor from '../../components/Anchor.vue';\nimport EditorManager from '../../core/EditorManager';\n\n/* eslint-disable vue/no-mutating-props,no-param-reassign */\nexport default defineComponent({\n    extends: Components.Connection,\n    props: {\n        isHighlighted: { default: false },\n        connection: { required: true },\n        hover: { default: false },\n    },\n    components: { Anchor },\n    setup(props) {\n        const { classes } = Components.Connection.setup(props);\n        const { graph } = useGraph();\n        const { viewModel } = useViewModel();\n        const { interfaceTypes } = viewModel.value;\n        const editorManager = EditorManager.getEditorManagerInstance();\n        const hover = toRef(props, 'hover');\n\n        const connectionStyle = interfaceTypes.getConnectionStyle(\n            props.connection.from,\n            props.connection.to,\n        );\n\n        const cssClasses = computed(() => ({\n            ...classes.value,\n            '--hover': props.isHighlighted || hover.value,\n            '--dashed': connectionStyle.interfaceConnectionPattern === 'dashed',\n            '--dotted': connectionStyle.interfaceConnectionPattern === 'dotted',\n        }));\n\n        const style = computed(() => ({\n            '--color': connectionStyle.interfaceConnectionColor,\n        }));\n\n        const onMouseDown = doubleClick(700, (ev) => {\n            if (!viewModel.value.editor.readonly) {\n                ev.preventDefault();\n                graph.value.removeConnection(props.connection);\n            }\n        });\n\n        const removeAnchor = (idx) => {\n            if (viewModel.value.editor.readonly) return;\n            graph.value.events.removeAnchor.emit([props.connection, idx]);\n            props.connection.anchors.splice(idx, 1);\n        };\n\n        const onMouseCtrlDown = (ev, index) => {\n            if (\n                viewModel.value.editor.readonly ||\n                !viewModel.value.connectionRenderer.supportsAnchors()\n            ) return;\n            ev.preventDefault();\n\n            const newAnchor = {\n                x: (ev.offsetX / graph.value.scaling) - graph.value.panning.x,\n                y: (ev.offsetY / graph.value.scaling) - graph.value.panning.y,\n                id: Date.now(),\n            };\n                // The index shows the connection section that was pressed -\n                // since we have an extra one at the beginning, we need a -1 and a\n                // division by 3 with no decimal to determine what anchor position\n                // corresponds\n            graph.value.addAnchor(newAnchor, props.connection, Math.trunc((index - 1) / 3));\n        };\n\n        const transform = (x, y) => {\n            const tx = (x + graph.value.panning.x) * graph.value.scaling;\n            const ty = (y + graph.value.panning.y) * graph.value.scaling;\n            return [tx, ty];\n        };\n\n        const newD = computed(() => {\n            const [tx1, ty1] = transform(props.x1, props.y1);\n            const [tx2, ty2] = transform(props.x2, props.y2);\n            return viewModel.value.connectionRenderer.render(tx1, ty1, tx2, ty2, props.connection);\n        });\n\n        const parsedNewD = computed(() => {\n            const d = newD.value;\n\n            if (Array.isArray(d) && d.length) {\n                const parsedArray = [];\n                for (let i = 0; i < d.length - 1; i += 1) {\n                    parsedArray.push(`M ${d[i].x} ${d[i].y} L ${d[i + 1].x} ${d[i + 1].y}`);\n                }\n                return parsedArray;\n            }\n            return d;\n        });\n\n        const hasAnchors = computed(() =>\n            props.connection.anchors !== undefined &&\n            props.connection.anchors.length &&\n            viewModel.value.connectionRenderer.supportsAnchors(),\n        );\n\n        return {\n            cssClasses,\n            parsedNewD,\n            onMouseDown,\n            onMouseCtrlDown,\n            style,\n            hasAnchors,\n            removeAnchor,\n            editorManager,\n        };\n    },\n});\n</script>\n","import { render } from \"./ConnectionView.vue?vue&type=template&id=592b3e6a\"\nimport script from \"./ConnectionView.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectionView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\n * Copyright (c) 2022-2023 Antmicro <www.antmicro.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst elListeners = {};\n\nconst longPressFactory = (pointerDownAction, pointerUpAction) => ({\n    beforeMount: (el, binding) => {\n        const data = {\n            timeout: null,\n            newEvent: null,\n            longPress: false,\n            moveEvents: 0,\n        };\n        elListeners[el] = {\n            pointerdown: (ev) => {\n                if (ev.pointerType === 'touch' && data.timeout === null) {\n                    data.moveEvents = 0;\n                    data.longPress = false;\n                    pointerDownAction(el, binding, ev, data);\n                    data.timeout = setTimeout(() => { data.longPress = true; }, binding.arg ?? 500);\n                }\n            },\n            pointermove: () => { data.moveEvents += 1; },\n            pointerup: (ev) => {\n                if (ev.pointerType !== 'touch') return;\n                // If long press is valid send right click to element\n                if (data.longPress && data.moveEvents < 10) {\n                    pointerUpAction(el, binding, ev, data);\n                }\n                if (data.timeout) {\n                    clearTimeout(data.timeout);\n                    data.timeout = null;\n                }\n            },\n        };\n        el.addEventListener('pointerdown', elListeners[el].pointerdown);\n        el.addEventListener('pointermove', elListeners[el].pointermove);\n        el.addEventListener('pointerup', elListeners[el].pointerup);\n    },\n    unmounted: (el) => {\n        el.removeEventListener('pointerdown', elListeners[el].pointerdown);\n        el.removeEventListener('pointermove', elListeners[el].pointermove);\n        el.removeEventListener('pointerup', elListeners[el].pointerup);\n    },\n});\n\nexport const longPress = longPressFactory(\n    // eslint-disable-next-line no-param-reassign\n    (_el, _binding, ev, data) => { data.newEvent = ev; },\n    (_el, binding, _ev, data) => { setTimeout(() => binding.value(data.newEvent), 50); },\n);\n\nexport const longPressToRight = longPressFactory(\n    (_el, _binding, ev, data) => {\n        // eslint-disable-next-line no-param-reassign\n        data.newEvent = new PointerEvent('pointerdown', {\n            button: 2, // Right click\n            clientX: ev.clientX,\n            clientY: ev.clientY,\n            screenX: ev.screenX,\n            screenY: ev.screenY,\n            pointerType: 'mouse',\n            relatedTarget: ev.relatedTarget,\n        });\n    },\n    (el, _binding, _ev, data) => { setTimeout(() => { el.dispatchEvent(data.newEvent); }, 50); },\n);\n","/*\n * Copyright (c) 2022-2023 Antmicro <www.antmicro.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Baklava file that is not exported so it has to be copy-pasted here locally into the project\n\nexport default function getDomElements(ni) {\n    const interfaceDOM = document.getElementById(ni.id);\n    const portDOM = interfaceDOM?.getElementsByClassName('__port');\n\n    return {\n        node: interfaceDOM?.closest('.baklava-node') ?? null,\n        interface: interfaceDOM,\n        port: portDOM && portDOM.length > 0 ? portDOM[0] : null,\n    };\n}\n","<!--\nCopyright (c) 2022-2023 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<!--\nWraps the connection, defines it's type and parameters.\nInherits from baklavajs/renderer-vue/src/connection/ConnectionView.vue\n-->\n\n<template>\n    <ConnectionView\n        ref=\"conn\"\n        :x1=\"d.x1\"\n        :y1=\"d.y1\"\n        :x2=\"d.x2\"\n        :y2=\"d.y2\"\n        :state=\"state\"\n        :connection=\"connection\"\n        :isHighlighted=\"isHighlighted\"\n        :hover=\"hover\"\n        @mouseover=\"hover = true\"\n        @mouseleave=\"hover = false\"\n    ></ConnectionView>\n</template>\n\n<script>\nimport { defineComponent, ref, computed, watch, nextTick, onMounted, onBeforeUnmount } from 'vue'; // eslint-disable-line object-curly-newline\nimport { Components, useGraph } from '@baklavajs/renderer-vue';\nimport ConnectionView from './ConnectionView.vue';\nimport getDomElements from './domResolver';\nimport { TemporaryConnectionState } from '../temporaryConnection.js';\n\nexport default defineComponent({\n    extends: Components.ConnectionWrapper,\n    props: { connection: { required: true }, isHighlighted: { default: false } },\n    components: { ConnectionView },\n    setup(props) {\n        const conn = ref(null);\n        const { graph } = useGraph();\n\n        let resizeObserver;\n        const d = ref({\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n        });\n\n        // eslint-disable-next-line no-confusing-arrow\n        const state = computed(() =>\n            props.connection.isInDanger\n                ? TemporaryConnectionState.FORBIDDEN\n                : TemporaryConnectionState.NONE,\n        );\n\n        const hover = ref(false);\n\n        /**\n         * Check whether the connection path contains the x, y point\n         *\n         * @param elements result of `document.elementsFromPoint()` for a given x, y point.\n         */\n        const containsPoint = (elements) =>\n            elements.includes(conn.value.$el.firstChild);\n\n        const fromNodePosition = computed(\n            () => graph.value.findNodeById(props.connection.from.nodeId)?.position,\n        );\n        const toNodePosition = computed(\n            () => graph.value.findNodeById(props.connection.to.nodeId)?.position,\n        );\n\n        const fromNode = computed(() => graph.value.findNodeById(props.connection.from.nodeId));\n        const toNode = computed(() => graph.value.findNodeById(props.connection.to.nodeId));\n\n        const fromNodeInterfacesSide = computed(() =>\n            [\n                ...Object.values(fromNode.value?.inputs ?? {}),\n                ...Object.values(fromNode.value?.outputs ?? {}),\n            ].map((io) => [io.side, io.sidePosition]),\n        );\n        const toNodeInterfacesSide = computed(() =>\n            [\n                ...Object.values(toNode.value?.inputs ?? {}),\n                ...Object.values(toNode.value?.outputs ?? {}),\n            ].map((io) => [io.side, io.sidePosition]),\n        );\n\n        const getPortCoordinates = (resolved) => {\n            if (resolved.node && resolved.interface && resolved.port) {\n                return [\n                    resolved.node.offsetLeft +\n                        resolved.interface.offsetLeft +\n                        resolved.port.offsetLeft +\n                        resolved.port.clientWidth / 2,\n                    resolved.node.offsetTop +\n                        resolved.interface.offsetTop +\n                        resolved.port.offsetTop +\n                        resolved.port.clientHeight / 2,\n                ];\n            }\n            return [0, 0];\n        };\n\n        const updateCoords = () => {\n            const from = getDomElements(props.connection.from);\n            const to = getDomElements(props.connection.to);\n            if (from.node && to.node) {\n                if (!resizeObserver) {\n                    resizeObserver = new ResizeObserver(() => {\n                        updateCoords();\n                    });\n                    resizeObserver.observe(from.node);\n                    resizeObserver.observe(to.node);\n                }\n            }\n\n            const [x1, y1] = getPortCoordinates(from);\n            const [x2, y2] = getPortCoordinates(to);\n            d.value = {\n                x1,\n                y1,\n                x2,\n                y2,\n            };\n        };\n\n        // If any side of any interface in from or to node changes we may need to\n        // Rerender connections\n        watch([fromNodeInterfacesSide, toNodeInterfacesSide], async () => {\n            await nextTick();\n            updateCoords();\n        });\n\n        watch(\n            [fromNodePosition, toNodePosition],\n            async () => {\n                await nextTick();\n                updateCoords();\n            },\n            { deep: true },\n        );\n\n        onMounted(async () => {\n            await nextTick();\n            updateCoords();\n        });\n\n        onBeforeUnmount(() => {\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n\n        return {\n            d,\n            state,\n            containsPoint,\n            conn,\n            hover,\n        };\n    },\n});\n</script>\n","import { render } from \"./PipelineManagerConnection.vue?vue&type=template&id=55783f60\"\nimport script from \"./PipelineManagerConnection.vue?vue&type=script&lang=js\"\nexport * from \"./PipelineManagerConnection.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\nCopyright (c) 2022-2023 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<!--\nCustom node palette - Implements a sidebar containing available nodes.\n\nInherits from baklavajs/packages/renderer-vue/src/nodepalette/NodePalette.vue\n-->\n\n<template>\n    <div class=\"nodes entries\">\n        <PaletteCategory\n            :nodeTree=\"nodeTree\"\n            :onDragStart=\"onDragStart\"\n            :defaultCollapse=\"collapse\"\n            :tooltip=\"tooltip\"\n            :nodeSearch=\"nodeSearch\"\n        />\n        <transition name=\"fade\">\n            <div v-if=\"draggedNode\" class=\"baklava-dragged-node\" :style=\"draggedNodeStyles\">\n                <PaletteEntry\n                    :title=\"draggedNode.nodeInformation.title\"\n                    :iconPath=\"draggedNode.iconPath\"\n                    :isDragged=\"true\"\n                    :depth=\"0\"\n                />\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\nimport { computed, defineComponent, provide, inject, ref, onMounted, watch } from 'vue'; // eslint-disable-line object-curly-newline\nimport { useViewModel, useTransform } from '@baklavajs/renderer-vue';\nimport { usePointer } from '@vueuse/core';\nimport PaletteCategory from './PaletteCategory.vue';\nimport getNodeTree from './nodeTree';\nimport PaletteEntry from './PaletteEntry.vue';\nimport { DEFAULT_CUSTOM_NODE_TYPE } from '../../core/EditorManager';\nimport { menuState, configurationState } from '../../core/nodeCreation/ConfigurationState';\n\nexport default defineComponent({\n    components: {\n        PaletteCategory,\n        PaletteEntry,\n    },\n    props: {\n        paletteRef: {\n            required: true,\n        },\n        paletteSearch: {\n            required: true,\n        },\n    },\n    setup(props) {\n        const { viewModel } = useViewModel();\n        const { editor } = viewModel.value;\n\n        const { x: mouseX, y: mouseY } = usePointer();\n        const { transform } = useTransform();\n\n        const nodeSearch = computed(() => props.paletteSearch);\n        const editorEl = inject('editorEl');\n\n        const draggedNode = ref(null);\n        const tooltip = ref(null);\n\n        const x = ref(null);\n        const y = ref(null);\n\n        tooltip.value = {\n            top: 0,\n            left: 0,\n            visible: false,\n            text: '',\n        };\n\n        const draggedNodeStyles = computed(() => {\n            if (!draggedNode.value || !editorEl?.value) {\n                return {};\n            }\n            const { left, top } = editorEl.value.getBoundingClientRect();\n            return {\n                top: `${mouseY.value - top}px`,\n                left: `${mouseX.value - left}px`,\n            };\n        });\n\n        function placeNode(instance) {\n            viewModel.value.displayedGraph.addNode(instance);\n            instance.position.x = x.value; // eslint-disable-line no-param-reassign\n            instance.position.y = y.value; // eslint-disable-line no-param-reassign\n        }\n\n        // Add new node when configuration menu is closed\n        watch(() => menuState.configurationMenu.visible, async (newValue, oldValue) => {\n            if (oldValue === true && newValue === false && menuState.configurationMenu.placeNode) {\n                const newType = configurationState.nodeData.name;\n                const nodeInformation = editor.nodeTypes.get(newType);\n                const instance = new nodeInformation.type(); // eslint-disable-line new-cap\n                if (menuState.configurationMenu.addNode && configurationState.success) {\n                    placeNode(instance);\n                }\n            }\n        });\n\n        const dragEndPlaceNode = (ev) => {\n            const elements = document.elementsFromPoint(ev.clientX, ev.clientY);\n\n            if (!elements.includes(props.paletteRef)) {\n                const rect = editorEl.value.getBoundingClientRect();\n                [x.value, y.value] = transform(mouseX.value - rect.left, mouseY.value - rect.top);\n\n                if (draggedNode.value.type === DEFAULT_CUSTOM_NODE_TYPE) {\n                    menuState.configurationMenu.visible = !menuState.configurationMenu.visible;\n                    menuState.configurationMenu.addNode = true;\n                    menuState.configurationMenu.placeNode = true;\n                } else {\n                    const instance = new draggedNode.value.nodeInformation.type(); // eslint-disable-line new-cap,max-len\n                    placeNode(instance);\n                }\n\n                draggedNode.value = null;\n                document.removeEventListener('pointerup', dragEndPlaceNode);\n                document.removeEventListener('keydown', dragEndDeselectNode); // eslint-disable-line no-use-before-define\n            }\n        };\n\n        const dragEndDeselectNode = (ev) => {\n            if (ev.key === 'Escape') {\n                draggedNode.value = null;\n\n                document.removeEventListener('pointerup', dragEndPlaceNode);\n                document.removeEventListener('keydown', dragEndDeselectNode);\n            }\n        };\n\n        const onDragStart = (type, nodeInformation, iconPath) => {\n            draggedNode.value = {\n                type,\n                nodeInformation,\n                iconPath,\n            };\n\n            document.addEventListener('pointerup', dragEndPlaceNode);\n            document.addEventListener('keydown', dragEndDeselectNode);\n        };\n        const scroll = ref(0);\n        const showMenu = ref(false);\n        provide('menu', showMenu);\n\n        const nodeTree = computed(() => getNodeTree(nodeSearch));\n        const collapse = computed(() => viewModel.value.collapseSidebar);\n\n        onMounted(() => {\n            const nodesContainer = computed(() => document.querySelector('.nodes'));\n            nodesContainer.value.addEventListener('scroll', (event) => {\n                scroll.value = event.target.scrollTop;\n                const iconMenus = document.getElementsByClassName('__icondiv');\n                for (let i = 0; i < iconMenus.length; i += 1) {\n                    iconMenus[i].style.translate = `0px -${scroll.value.toString()}px`;\n                }\n            });\n        });\n\n        return {\n            draggedNodeStyles,\n            draggedNode,\n            onDragStart,\n            nodeTree,\n            collapse,\n            tooltip,\n            nodeSearch,\n            scroll,\n        };\n    },\n});\n</script>\n","<!--\nCopyright (c) 2022-2024 Antmicro <www.antmicro.com>\n\nSPDX-License-Identifier: Apache-2.0\n-->\n\n<!--\nComponent representing single node's type category/subcategory.\nIt groups the nodes of the same subcategory in the block that can be collapsed.\n-->\n\n<template v-if=\"specificationLoaded\">\n    <!-- eslint-disable vue/no-multiple-template-root -->\n    <div v-show=\"nodeTree.mask\">\n        <div v-if=\"nodeTree.nodes.nodeTypes\">\n            <div\n                v-for=\"[nt, node] in sortedEntries(nodeTree.nodes.nodeTypes)\"\n                style=\"width: 100%;\"\n                v-show=\"node.mask\"\n                :style=\"padding(depth)\"\n                :class=\"nodeEntryClasses(nt)\"\n                :key=\"nt\"\n            >\n                <div\n                    @pointerdown.left=\"onDragStart(nt, node, node.iconPath)\"\n                    @pointerdown.right=\"openContextMenu(nt)\"\n                    :class=\"nodeEntryClasses(nt)\"\n                >\n                    <template v-if=\"!isTopLevelNode(nt)\">\n                        <img\n                            class=\"__title-icon\"\n                            v-if=\"node.iconPath !== undefined\"\n                            :src=\"getIconPath(node.iconPath)\"\n                            draggable=\"false\"\n                        />\n                    </template>\n                    <Cross v-else color=\"white\" :rotate=\"45\" class=\"__title-icon\"></Cross>\n                    <div\n                        class=\"__title-label\"\n                        v-html=\"DOMPurify.sanitize(prettyTitle(node.hitSubstring))\"\n                        :ref=\"el => labelRefs[nt] = el\"\n                    />\n                </div>\n                <div\n                    class=\"__vertical_ellipsis\"\n                    ref=\"settings\"\n                    role=\"button\"\n                    @pointerdown.stop=\"\"\n                    @click.stop=\"() => showMenuClick(node)\"\n                    v-if=\"node.URLs.length !== 0\"\n                >\n                    <VerticalEllipsis class=\"smaller_svg\" />\n                </div>\n                <div class='__icondiv'>\n                    <LinkMenu\n                        :node='showMenu'\n                        style='width: 18em'\n                        v-if=\"showMenu !== false &&\n                                showMenu.hitSubstring === node.hitSubstring\"\n                        v-click-outside=\"closeMenu\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <CustomContextMenu\n        v-if=\"showContextMenu\"\n        v-model=\"showContextMenu\"\n        :x=\"contextMenuX\"\n        :y=\"contextMenuY\"\n        :items=\"contextMenuItems\"\n        :style=\"contextMenuStyle\"\n        @click=\"onContextMenuClick\"\n        @pointerover=\"onPointerOver\"\n        @pointerleave=\"onPointerLeave\"\n    />\n\n    <div\n        v-for=\"([name, category], i) in sortedEntries(nodeTree.subcategories, true)\"\n        v-show=\"category.mask\"\n        :key=\"name\"\n    >\n        <template v-if=\"notEmptyCategory(category)\">\n            <div\n                class=\"__entry __category\"\n                @click=\"onMouseDown(i)\"\n                :style=\"padding(depth)\"\n            >\n                <Arrow :rotate=\"getRotation(i)\" scale=\"small\" />\n                <!-- There is only one category node -->\n                <template v-if=\"isCategoryNode(category)\">\n                    <div\n                        class=\"__entry __node-entry\"\n                        v-show=\"category.mask\"\n                        :key=\"category.title\"\n                        @click=\"onMouseDown(i)\"\n                        @pointerdown.left=\"onDragStart(\n                            category.title,\n                            category.categoryNode,\n                            category.iconPath\n                        )\"\n                        @pointerdown.right=\"openContextMenu(name)\"\n                    >\n                        <img\n                            class=\"__title-icon\"\n                            v-if=\"category.categoryNode.iconPath !== undefined\"\n                            :src=\"getIconPath(category.categoryNode.iconPath)\"\n                            draggable=\"false\"\n                        />\n                        <div\n                            class=\"__title-label\"\n                            v-html=\"DOMPurify.sanitize(prettyTitle(category.hitSubstring))\"\n                            :ref=\"el => labelRefs[name] = el\">\n                        </div>\n                        <div\n                            class=\"__vertical_ellipsis\"\n                            ref=\"settings\"\n                            role=\"button\"\n                            @pointerdown.stop=\"\"\n                            @click.stop=\"() => showMenuClick(category)\"\n                            v-if=\"category.categoryNode.URLs.length !== 0\"\n                        >\n                            <VerticalEllipsis class=\"smaller_svg\" />\n                        </div>\n                    </div>\n                    <div class='__icondiv'>\n                        <LinkMenu\n                            :node='showMenu.categoryNode'\n                            style='width: 18em'\n                            v-if=\"showMenu !== false &&\n                                  showMenu.hitSubstring === category.hitSubstring\"\n                            v-click-outside=\"closeMenu\"\n                        />\n                    </div>\n                </template>\n                <div\n                    v-else\n                    class=\"__title\"\n                    v-html=\"DOMPurify.sanitize(prettyTitle(category.hitSubstring))\"\n                ></div>\n            </div>\n            <div v-show=\"mask[i]\">\n                <PaletteCategory\n                    :nodeTree=\"category\"\n                    :onDragStart=\"onDragStart\"\n                    :depth=\"depth + 1\"\n                    :defaultCollapse=\"defaultCollapse\"\n                    :tooltip=\"tooltip\"\n                    :nodeSearch=\"nodeSearch\"\n                />\n            </div>\n        </template>\n        <template v-else>\n            <template v-if=\"isCategoryNode(category)\">\n                <div\n                    :class=\"nodeEntryClasses(category.title)\"\n                    :style=\"padding(depth)\"\n                    v-show=\"category.mask\"\n                    :key=\"category.title\"\n                    @pointerdown=\"onDragStart(\n                        category.title,\n                        category.categoryNode,\n                        category.iconPath\n                    )\"\n                >\n                    <img\n                        class=\"__title-icon\"\n                        v-if=\"category.categoryNode.iconPath !== undefined\"\n                        :src=\"getIconPath(category.categoryNode.iconPath)\"\n                        draggable=\"false\"\n                    />\n                    <div\n                        class=\"__title-label\"\n                        v-html=\"DOMPurify.sanitize(category.hitSubstring)\">\n                    </div>\n                    <div\n                        class=\"__vertical_ellipsis\"\n                        ref=\"settings\"\n                        role=\"button\"\n                        @pointerdown.stop=\"\"\n                        @click.stop=\"() => showMenuClick(category)\"\n                        v-if=\"category.categoryNode.URLs.length !== 0\"\n                    >\n                        <VerticalEllipsis class=\"smaller_svg\" />\n                    </div>\n                    <div class='__icondiv'>\n                        <LinkMenu\n                            :node='showMenu.categoryNode'\n                            style='width: 18em'\n                            v-if=\"showMenu !== false &&\n                                  showMenu.hitSubstring === category.hitSubstring\"\n                            v-click-outside=\"closeMenu\"\n                        />\n                    </div>\n                </div>\n            </template>\n            <div v-else class=\"__title\">{{ prettyTitle(category.hitSubstring) }}</div>\n        </template>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, watch, inject, reactive } from 'vue'; // eslint-disable-line object-curly-newline\nimport { useViewModel } from '@baklavajs/renderer-vue';\nimport DOMPurify from 'dompurify';\nimport Arrow from '../../icons/Arrow.vue';\nimport VerticalEllipsis from '../../icons/VerticalEllipsis.vue';\nimport LinkMenu from '../LinkMenu.vue';\nimport CustomContextMenu from '../ContextMenu.vue';\nimport EditorManager, { DEFAULT_CUSTOM_NODE_TYPE } from '../../core/EditorManager';\nimport Cross from '../../icons/Cross.vue';\nimport Bin from '../../icons/Bin.vue';\nimport { TOP_LEVEL_NODES_NAMES } from './nodeTree';\n\nexport default defineComponent({\n    components: {\n        Arrow, LinkMenu, VerticalEllipsis, Cross, CustomContextMenu,\n    },\n    props: {\n        nodeTree: {\n            required: true,\n        },\n        onDragStart: {\n            required: true,\n        },\n        depth: {\n            type: Number,\n            default: 0,\n        },\n        defaultCollapse: {\n            type: Boolean,\n            default: true,\n        },\n        tooltip: {\n            required: false,\n        },\n        nodeSearch: {\n            type: String,\n            required: true,\n        },\n    },\n    data: () => ({\n        DOMPurify,\n    }),\n    setup(props) {\n        const { viewModel } = useViewModel();\n        const getIconPath = (name) => viewModel.value.cache[`./${name}`] ?? name;\n        const isCategoryNode = (category) => category?.categoryNode !== undefined;\n\n        const notEmptyCategory = (category) =>\n            Object.keys(category.nodes.nodeTypes ?? {}).length !== 0\n            || Object.keys(category.subcategories).length !== 0;\n\n        const paddingDepth = 30;\n        const minPadding = 10;\n        const padding = (depth, forceZero = false) => {\n            if (forceZero) {\n                return 'padding-left: 0';\n            }\n            return `padding-left: ${minPadding + depth * paddingDepth}px`;\n        };\n\n        const mask = ref(Array(\n            Object.keys(props.nodeTree.subcategories ?? {}).length,\n        ).fill(!props.defaultCollapse));\n        let storedMask = mask.value;\n\n        // If the category tree changes the mask needs to get reinitialized\n        watch(\n            () => props.nodeTree,\n            () => {\n                mask.value = Array(Object.keys(\n                    props.nodeTree.subcategories ?? {},\n                ).length).fill(!props.defaultCollapse);\n            },\n        );\n\n        // If searching then the sidebar is expanded\n        watch(\n            () => props.nodeSearch,\n            (newValue, oldValue) => {\n                if (newValue !== '' && oldValue === '') {\n                    storedMask = mask.value;\n                    mask.value = Array(Object.keys(\n                        props.nodeTree.subcategories ?? {},\n                    ).length).fill(true);\n                } else if (newValue === '' && oldValue !== '') {\n                    mask.value = storedMask;\n                }\n            },\n        );\n\n        const getRotation = (index) => {\n            if (mask.value[index]) {\n                return 'left';\n            }\n            return 'right';\n        };\n\n        const onMouseDown = (index) => {\n            mask.value.splice(index, 1, !mask.value[index]);\n        };\n\n        const isTopLevelNode = (name) => TOP_LEVEL_NODES_NAMES.includes(name);\n\n        const sortedEntries = (obj, sortSubcategories = false) =>\n            Object.entries(obj).sort(([a, aNode], [b, bNode]) => {\n                if (a === DEFAULT_CUSTOM_NODE_TYPE) {\n                    return -1;\n                }\n                if (b === DEFAULT_CUSTOM_NODE_TYPE) {\n                    return 1;\n                }\n                if (!isTopLevelNode(a) && isTopLevelNode(b)) {\n                    return 1;\n                }\n                if (isTopLevelNode(a) && !isTopLevelNode(b)) {\n                    return -1;\n                }\n\n                if (sortSubcategories) {\n                    if (notEmptyCategory(aNode) && !notEmptyCategory(bNode)) {\n                        return 1;\n                    }\n                    if (!notEmptyCategory(aNode) && notEmptyCategory(bNode)) {\n                        return -1;\n                    }\n                }\n\n                return a.toLowerCase().localeCompare(b.toLowerCase());\n            });\n        const prettyTitle = (title) => title.replace('\\\\/', '/');\n\n        const showMenu = inject('menu');\n        const showMenuClick = (menu) => {\n            showMenu.value = (showMenu.value.hitSubstring === menu.hitSubstring) ? false : menu;\n        };\n        const closeMenu = () => {\n            if (showMenu.value) showMenu.value = false;\n        };\n\n        const editorManager = EditorManager.getEditorManagerInstance();\n        const specificationLoaded = computed(() => editorManager.specificationLoaded.value);\n\n        const nodeEntryClasses = (name) => ({\n            __entry: true,\n            '__node-entry': true,\n            '__top-level-node-entry': isTopLevelNode(name),\n        });\n\n        const labelRefs = reactive({});\n        const showContextMenu = ref(false);\n        const contextMenuX = ref(0);\n        const contextMenuY = ref(0);\n        const selectedNode = ref('');\n\n        const openContextMenu = (nodeType) => {\n            if (\n                showContextMenu.value === false &&\n                !isTopLevelNode(nodeType) &&\n                editorManager.baklavaView.settings.editableNodeTypes\n            ) {\n                selectedNode.value = nodeType;\n                showContextMenu.value = true;\n\n                const container = labelRefs[nodeType];\n                const range = document.createRange();\n                range.selectNodeContents(container);\n                const rect = range.getBoundingClientRect();\n\n                contextMenuX.value = rect.right + 20;\n                contextMenuY.value = rect.top - 5.15 * rect.height;\n            }\n        };\n\n        const contextMenuHoverInfo = reactive({\n            isHovered: false,\n            hoveredItemValue: undefined,\n        });\n\n        const onPointerOver = (value) => {\n            contextMenuHoverInfo.hoveredItemValue = value;\n            contextMenuHoverInfo.isHovered = true;\n        };\n\n        const onPointerLeave = (value) => {\n            if (contextMenuHoverInfo.hoveredItemValue === value) {\n                contextMenuHoverInfo.hoveredItemValue = undefined;\n                contextMenuHoverInfo.isHovered = false;\n            }\n        };\n\n        const contextMenuItems = computed(() => {\n            const itemToDisable = () => !editorManager.editor.additionalNodeTypes.has(selectedNode.value); // eslint-disable-line max-len\n\n            const items = [];\n            items.push(\n                {\n                    value: 'delete',\n                    label: 'Delete',\n                    icon: Bin,\n                    disabled: itemToDisable(),\n                    onPointerEmit: itemToDisable(),\n                    tooltipMsg: itemToDisable() && 'Node type can\\'t be deleted',\n                });\n            return items;\n        });\n\n        const onContextMenuClick = () => {\n            editorManager.removeNodeType(selectedNode.value);\n        };\n\n        return {\n            padding,\n            mask,\n            onMouseDown,\n            getRotation,\n            sortedEntries,\n            prettyTitle,\n            getIconPath,\n            isCategoryNode,\n            notEmptyCategory,\n            showMenu,\n            showMenuClick,\n            closeMenu,\n            specificationLoaded,\n            nodeEntryClasses,\n            isTopLevelNode,\n            openContextMenu,\n            showContextMenu,\n            contextMenuX,\n            contextMenuY,\n            contextMenuItems,\n            onContextMenuClick,\n            onPointerOver,\n            onPointerLeave,\n            labelRefs,\n        };\n    },\n});\n</script>\n","/*\n * Copyright (c) 2022-2024 Antmicro <www.antmicro.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { useViewModel } from '@baklavajs/renderer-vue';\nimport { watch } from 'vue';\nimport fuzzysort from 'fuzzysort';\nimport EditorManager, { DEFAULT_GRAPH_NODE_TYPE, DEFAULT_CUSTOM_NODE_TYPE } from '../../core/EditorManager';\n/**\n * Creates a tree of categories based on the passed names of categories.\n *\n * @param Set of categories names of the nodes\n * @returns Tree of parsed categories that represents categories and their subcategories structure\n */\nconst parseCategories = (categoriesNames) => {\n    const categoryTree = {};\n    const toParse = {};\n    categoriesNames.forEach((c) => {\n        const [newLabel, ...rest] = c.split(/(?<!\\\\)\\//);\n        const label = newLabel.trim();\n        if (!Object.keys(toParse).includes(label)) {\n            toParse[label] = [];\n        }\n        if (rest.length > 0) {\n            toParse[label].push(rest.join('/'));\n        }\n    });\n    Object.entries(toParse).forEach(([label, rest]) => {\n        categoryTree[label] = parseCategories(new Set(rest));\n    });\n    return categoryTree;\n};\n/* eslint-disable no-param-reassign */\n/**\n * Sets `hitSubstring` value of all nodes of a given category to default names.\n * @param category Single category entry\n */\nconst setDefaultNames = (category) => {\n    const [name, node] = category;\n    node.hitSubstring = name;\n    if (node.categoryNode !== undefined) {\n        node.categoryNode.hitSubstring = node.categoryNode.title;\n    }\n    if (node.nodes.nodeTypes !== undefined) {\n        Object.entries(node.nodes.nodeTypes).forEach(([, nodeType]) => {\n            nodeType.hitSubstring = nodeType.title;\n        });\n    }\n    Object.entries(node.subcategories).forEach((subTree) => setDefaultNames(subTree));\n};\n/* eslint-disable no-param-reassign */\n/**\n * Sets in place all masks inside nodes and subcategories to true\n * @param category Single category object\n */\nconst setMasksToTrue = (category) => {\n    category.mask = true;\n    if (category.categoryNode !== undefined) {\n        category.categoryNode.mask = true;\n    }\n    if (category.nodes.nodeTypes !== undefined) {\n        Object.values(category.nodes.nodeTypes).forEach((nodeType) => {\n            nodeType.mask = true;\n        });\n    }\n    Object.values(category.subcategories).forEach((subTree) => setMasksToTrue(subTree));\n};\n/**\n * Uses parsed categories structure to create a full tree of nodes based on their categories\n * which can be used to render then in a node palette.\n *\n * @param categoryTree Parsed tree returned by `parseCategories` function. It is used to divide\n * nodes into subcategories.\n * @param nodes list of nodes that has information about their types and icons created\n * in `getNodeTree` function.\n * @param prefix represents category path of a node.\n * @returns Parsed structure where every node has two keys: `nodes`, which represents nodes of\n * a given category and `subcategories` which represent subcategories. Subcategories are\n * also of this type.\n */\nconst categorizeNodes = (categoryTree, nodes, prefix = '') => {\n    const nodeTree = {};\n    Object.entries(categoryTree).forEach(([category, subcategories]) => {\n        var _a;\n        let name = '';\n        if (prefix === '') {\n            name = category;\n        }\n        else {\n            name = `${prefix}/${category}`;\n        }\n        const hitNodes = (_a = nodes.find((n) => n.categoryName === name)) !== null && _a !== void 0 ? _a : {};\n        if (Object.keys(hitNodes).length !== 0) {\n            const categoryNames = [];\n            Object.entries(hitNodes.nodeTypes).forEach(([nameNodeType, nodeType]) => {\n                if (nodeType.isCategory) {\n                    categoryNames.push(nameNodeType);\n                }\n            });\n            const allNames = Object.keys(hitNodes.nodeTypes);\n            const nonCategoryNodes = {\n                categoryName: hitNodes.categoryName,\n                nodeTypes: {},\n            };\n            let categoryNode;\n            allNames.forEach((nodeName) => {\n                if (categoryNames.includes(nodeName)) {\n                    categoryNode = hitNodes.nodeTypes[nodeName];\n                }\n                else {\n                    nonCategoryNodes.nodeTypes[nodeName] = hitNodes.nodeTypes[nodeName];\n                }\n            });\n            nodeTree[category] = {\n                subcategories: categorizeNodes(subcategories, nodes, name),\n                nodes: nonCategoryNodes,\n                categoryNode,\n                hitSubstring: category,\n                mask: true,\n            };\n        }\n        else {\n            nodeTree[category] = {\n                subcategories: categorizeNodes(subcategories, nodes, name),\n                nodes: {},\n                categoryNode: undefined,\n                hitSubstring: category,\n                mask: true,\n            };\n        }\n    });\n    return nodeTree;\n};\n/**\n *\n * Updates masks of all nodes and subcategories based on filter value.\n * The node is shown if filter is a substring of the name.\n * Category is shown if it contains at least one node in the subtree which is\n * shown or if filter is a substring of the category name\n *\n * @param treeNode NodeSubcategories instance.\n * @param filter String which is used for filtering\n * @param forceMask whether the whole substree should be expanded\n * @returns Boolean value whether at least one of the categories in the tree has\n * mask set to true.\n */\nconst updateMasks = (treeNode, filter, forceMask) => Object.entries(treeNode).map(([categoryName, node]) => {\n    var _a;\n    const threshold = -50;\n    let categoryMatches = false;\n    const categoryResult = fuzzysort.single(filter, categoryName);\n    if (categoryResult !== null && categoryResult.score > threshold) {\n        node.hitSubstring = (_a = fuzzysort.highlight(categoryResult, '<span>', '</span>')) !== null && _a !== void 0 ? _a : '';\n        categoryMatches = true;\n    }\n    else {\n        node.hitSubstring = categoryName;\n    }\n    let entryMatches = false;\n    if (node.nodes.nodeTypes !== undefined && Object.keys(node.nodes.nodeTypes).length !== 0) {\n        entryMatches = Object.values(node.nodes.nodeTypes)\n            .map((nt) => {\n            var _a;\n            const entryResult = fuzzysort.single(filter, nt.title);\n            nt.mask = (entryResult !== null && entryResult.score > threshold) ||\n                categoryMatches ||\n                forceMask;\n            if (entryResult !== null) {\n                nt.hitSubstring = (_a = fuzzysort.highlight(entryResult, '<span>', '</span>')) !== null && _a !== void 0 ? _a : '';\n            }\n            else {\n                nt.hitSubstring = nt.title;\n            }\n            return nt.mask;\n        })\n            .includes(true);\n    }\n    // The node is expanded if any entry in its subtree is highlighted,\n    // or a node that is part of this category is highlighted,\n    // or the category is highlighted or forceMask is true.\n    node.mask = updateMasks(node.subcategories, filter, categoryMatches || forceMask) ||\n        categoryMatches ||\n        entryMatches ||\n        forceMask;\n    return node.mask;\n}).includes(true);\n/* eslint-enable no-param-reassign */\nlet unWatch;\nconst TOP_LEVEL_CATEGORY = 'TopLevel';\nexport const TOP_LEVEL_NODES_NAMES = [\n    DEFAULT_CUSTOM_NODE_TYPE,\n    DEFAULT_GRAPH_NODE_TYPE,\n];\nexport default function getNodeTree(nameFilterRef) {\n    const { viewModel } = useViewModel();\n    const { editor } = viewModel.value;\n    const editorManager = EditorManager.getEditorManagerInstance();\n    const nodeTypeEntries = Array.from(editor.nodeTypes.entries());\n    const categoryNames = new Set(nodeTypeEntries.map(([, ni]) => ni.category));\n    const topLevelCategories = {\n        categoryName: 'TopLevel',\n        nodeTypes: {},\n    };\n    const nodes = [];\n    categoryNames.forEach((c) => {\n        // Add nodes with an empty category to the top level.\n        if (c === '') {\n            nodeTypeEntries\n                .filter(([, ni]) => ni.category === '')\n                .forEach(([nodeName, node]) => {\n                topLevelCategories.nodeTypes[nodeName] = Object.assign(Object.assign({}, node), { isCategory: node.isCategory, mask: true, hitSubstring: node.title, iconPath: editor.getNodeIconPath(nodeName), URLs: editor.getNodeURLs(nodeName) });\n            });\n            return;\n        }\n        let nodeTypesInCategory = nodeTypeEntries.filter(([, ni]) => ni.category === c);\n        const nodesURLs = Object.fromEntries(nodeTypesInCategory.map((n) => {\n            const [nodeType] = n; // @ts-ignore Editor has an incorrect type. Ignoring for now\n            const URLs = editor.getNodeURLs(nodeType);\n            return [nodeType, URLs];\n        }));\n        const nodesIconPath = Object.fromEntries(nodeTypesInCategory.map((n) => {\n            const [nodeType] = n; // @ts-ignore Editor has an incorrect type. Ignoring for now\n            const iconPath = editor.getNodeIconPath(nodeType);\n            return [nodeType, iconPath];\n        }));\n        let topLevelNodes = nodeTypesInCategory.filter(([name, _]) => TOP_LEVEL_NODES_NAMES.includes(name));\n        nodeTypesInCategory = nodeTypesInCategory.filter(([name, _]) => !TOP_LEVEL_NODES_NAMES.includes(name));\n        if (!editorManager.baklavaView.settings.editableNodeTypes) {\n            topLevelNodes = topLevelNodes.filter(([name, _]) => name !== DEFAULT_CUSTOM_NODE_TYPE);\n        }\n        if (!editorManager.baklavaView.settings.newGraphNode) {\n            topLevelNodes = topLevelNodes.filter(([name, _]) => name !== DEFAULT_GRAPH_NODE_TYPE);\n        }\n        if (nodeTypesInCategory.length > 0) {\n            const nodeTypes = nodeTypesInCategory.map(([nodeName, node]) => [nodeName, Object.assign(Object.assign({}, node), { isCategory: node.isCategory, mask: true, hitSubstring: node.title, iconPath: nodesIconPath[nodeName], URLs: nodesURLs[nodeName] })]);\n            nodes.push({\n                categoryName: c,\n                nodeTypes: Object.fromEntries(nodeTypes),\n            });\n        }\n        topLevelNodes.forEach(([nodeName, node]) => {\n            topLevelCategories.nodeTypes[nodeName] = Object.assign(Object.assign({}, node), { isCategory: node.isCategory, mask: true, hitSubstring: node.title, iconPath: nodesIconPath[nodeName], URLs: nodesURLs[nodeName] });\n        });\n    });\n    const nodeCategories = new Set(nodes.map((c) => c.categoryName));\n    const categoryTree = parseCategories(nodeCategories);\n    const parsedTree = categorizeNodes(categoryTree, nodes);\n    // If specification changes we no longer want to watch it\n    if (unWatch) {\n        unWatch();\n    }\n    const topCategory = {\n        subcategories: parsedTree,\n        nodes: topLevelCategories,\n        categoryNode: undefined,\n        hitSubstring: TOP_LEVEL_CATEGORY,\n        mask: true,\n    };\n    const topSubcategory = {\n        All: topCategory,\n    };\n    unWatch = watch(nameFilterRef, (newNameFilter) => {\n        if (newNameFilter === '') {\n            Object.entries(topSubcategory).forEach((subTree) => setDefaultNames(subTree));\n            Object.values(topSubcategory).forEach((subTree) => setMasksToTrue(subTree));\n        }\n        else {\n            updateMasks(topSubcategory, newNameFilter.toLowerCase(), false);\n        }\n    });\n    return topCategory;\n}\n","import { render } from \"./PaletteCategory.vue?vue&type=template&id=4e91450b\"\nimport script from \"./PaletteCategory.vue?vue&type=script&lang=js\"\nexport * from \"./PaletteCategory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./NodePalette.vue?vue&type=template&id=70409f99\"\nimport script from \"./NodePalette.vue?vue&type=script&lang=js\"\nexport * from \"./NodePalette.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\n * Copyright (c) 2022-2023 Antmicro <www.antmicro.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Checks if node is present inside selection rectangle\n * @returns\n */\nexport default function nodeInsideSelection(graph, node, boundingRect) {\n    const nodeHTMLelement = document.getElementById(node.id);\n    const selectionBoundingRect = boundingRect;\n\n    const navBarHeight = 60;\n    const panningX = graph.panning.x;\n    const panningY = graph.panning.y;\n    const { scaling } = graph;\n\n    const nodeX = scaling * (panningX + node.position.x);\n    const nodeY = scaling * (panningY + node.position.y + navBarHeight);\n    const nodeWidth = nodeHTMLelement.offsetWidth;\n    const nodeHeight = nodeHTMLelement.offsetHeight;\n\n    // reduce node dimensions by this coeff so that they are easier to select\n    const nodeDimCoefficient = 0.9;\n\n    if (nodeX + nodeX * (1 - nodeDimCoefficient) > selectionBoundingRect.xBegin\n    && nodeX + nodeWidth * scaling - nodeX * (1 - nodeDimCoefficient) < selectionBoundingRect.xEnd\n    && nodeY + nodeY * (1 - nodeDimCoefficient) > selectionBoundingRect.yBegin\n    && nodeY + nodeHeight * scaling\n        - nodeY * (1 - nodeDimCoefficient) < selectionBoundingRect.yEnd) {\n        return true;\n    }\n    return false;\n}\n","/*\n * Copyright (c) 2022-2024 Antmicro <www.antmicro.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { computed } from 'vue';\nimport { useGraph } from '@baklavajs/renderer-vue';\nimport useDragMove from './useDragMove';\n\nexport default function usePanZoom() {\n    const { graph } = useGraph();\n\n    // State needed for pinch-zoom\n    let pointerCache = [];\n    let prevDiff = -1;\n    let midpoint = { x: 0, y: 0 };\n\n    const isGraphSmall = () => graph.value.size().graphWidth <= 500 ||\n            graph.value.size().graphHeight <= 500;\n\n    // The limit for zooming that does not allow for zooming if\n    // `zoomLimit` number of graphs would fit into the editor\n    // vertically or horizontally.\n    let zoomLimit = 4;\n\n    const panningRef = computed(() => graph.value.panning);\n    const dragMove = useDragMove(panningRef);\n\n    const applyZoom = (centerX, centerY, newScale) => {\n        if (newScale <= 0) {\n            return;\n        }\n\n        if (isGraphSmall()) {\n            zoomLimit = 8;\n        }\n\n        const currentPoint = [\n            centerX / graph.value.scaling - graph.value.panning.x,\n            centerY / graph.value.scaling - graph.value.panning.y,\n        ];\n        const newPoint = [\n            centerX / newScale - graph.value.panning.x,\n            centerY / newScale - graph.value.panning.y,\n        ];\n        const diff = [newPoint[0] - currentPoint[0], newPoint[1] - currentPoint[1]];\n\n        const editorHeight = window.innerHeight;\n        const editorWidth = window.innerWidth;\n\n        const allowZoomOut =\n            zoomLimit * graph.value.size().graphWidth > editorWidth / newScale ||\n            zoomLimit * graph.value.size().graphHeight > editorHeight / newScale ||\n            (\n                newScale > graph.value.scaling &&\n                graph.value.size().graphHeight !== -Infinity\n            );\n\n        if (allowZoomOut) {\n            graph.value.scaling = newScale;\n            graph.value.panning.x += diff[0];\n            graph.value.panning.y += diff[1];\n        }\n    };\n\n    const calculateScale = (scrollDelta) => {\n        // For smaller graphs, allow the larger scale than for larger graphs.\n        const upperLimitOfScale = isGraphSmall() ? 2 : 1.5;\n\n        const newScale = graph.value.scaling * (1 - scrollDelta / 3000);\n        return Math.min(newScale, upperLimitOfScale);\n    };\n\n    const onMouseWheel = (ev) => {\n        if (ev.target.type === 'textarea' && ev.target.className === 'baklava-input') {\n            return;\n        }\n\n        ev.preventDefault();\n        let scrollAmount = ev.deltaY;\n        if (ev.deltaMode === 1) {\n            scrollAmount *= 32; // Firefox fix, multiplier is trial & error\n        }\n\n        // Limit the zooming.\n        const newScale = calculateScale(scrollAmount);\n\n        applyZoom(ev.clientX, ev.clientY, newScale);\n    };\n\n    const getCoordsFromCache = () => ({\n        ax: pointerCache[0].clientX,\n        ay: pointerCache[0].clientY,\n        bx: pointerCache[1].clientX,\n        by: pointerCache[1].clientY,\n    });\n\n    const onPointerDown = (ev) => {\n        dragMove.onPointerDown(ev);\n\n        if (pointerCache.length <= 1) {\n            pointerCache.push(ev);\n        }\n\n        if (pointerCache.length === 2) {\n            const { ax, ay, bx, by } = getCoordsFromCache(); // eslint-disable-line object-curly-newline,max-len\n            const dx = ax - bx;\n            const dy = ay - by;\n            prevDiff = Math.sqrt(dx * dx + dy * dy);\n\n            midpoint = {\n                x: ax + (bx - ax) / 2,\n                y: ay + (by - ay) / 2,\n            };\n        }\n    };\n\n    const onPointerMove = (ev) => {\n        if (pointerCache.length === 2) {\n            for (let i = 0; i < pointerCache.length; i += 1) {\n                if (ev.pointerId === pointerCache[i].pointerId) {\n                    pointerCache[i] = ev;\n                    break;\n                }\n            }\n\n            const { ax, ay, bx, by } = getCoordsFromCache(); // eslint-disable-line object-curly-newline,max-len\n            const dx = ax - bx;\n            const dy = ay - by;\n            const curDiff = Math.sqrt(dx * dx + dy * dy);\n\n            if (prevDiff > 0) {\n                const newScale = graph.value.scaling * (1 + (curDiff - prevDiff) / 500);\n                applyZoom(midpoint.x, midpoint.y, newScale);\n            }\n\n            // Cache the distance for the next move event\n            prevDiff = curDiff;\n        } else {\n            dragMove.onPointerMove(ev);\n        }\n    };\n\n    const onPointerUp = (ev) => {\n        dragMove.onPointerUp();\n\n        pointerCache = pointerCache.filter((p) => p.pointerId !== ev.pointerId);\n        prevDiff = -1;\n    };\n\n    const onZoomIn = () => {\n        // Limit the zooming to 1.5x of the original size\n        const newScale = Math.min(graph.value.scaling * 1.2, 1.5);\n        applyZoom(window.innerWidth / 2, window.innerHeight / 2, newScale);\n    };\n\n    const onZoomOut = () => {\n        applyZoom(window.innerWidth / 2, window.innerHeight / 2, graph.value.scaling * 0.8);\n    };\n\n    return {\n        ...dragMove,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        onMouseWheel,\n        onZoomIn,\n        onZoomOut,\n    };\n}\n"],"names":["props","title","type","String","required","iconPath","depth","Number","isCategory","Boolean","isDragged","hitSubstring","mask","setup","viewModel","getIconPath","name","value","cache","nodeIcon","padding","titleSanitized","class","__dragged","style","undefined","src","draggable","selecting","selectionBegin","x","y","selectionEnd","boundingRect","xBegin","yBegin","xEnd","yEnd","styles","position","visibility","top","left","width","Math","abs","height","onPointerDown","ev","pageX","pageY","onPointerMove","onPointerUp","extends","TemporaryConnection","components","ConnectionView","d","status","swappedD","input","output","connection","from","isInput","x1","y1","x2","y2","state","Connection","isHighlighted","default","hover","Anchor","classes","graph","interfaceTypes","editorManager","EditorManager","getEditorManagerInstance","connectionStyle","getConnectionStyle","to","cssClasses","interfaceConnectionPattern","interfaceConnectionColor","onMouseDown","doubleClick","editor","readonly","preventDefault","removeConnection","transform","panning","scaling","newD","tx1","ty1","tx2","ty2","connectionRenderer","render","parsedNewD","Array","isArray","length","parsedArray","i","push","onMouseCtrlDown","index","supportsAnchors","newAnchor","offsetX","offsetY","id","Date","now","addAnchor","trunc","hasAnchors","anchors","removeAnchor","idx","events","emit","splice","pointerType","baklavaView","settings","hideAnchors","anchor","key","rightclickCallback","elListeners","longPressFactory","pointerDownAction","pointerUpAction","beforeMount","el","binding","data","timeout","newEvent","longPress","moveEvents","pointerdown","setTimeout","arg","pointermove","pointerup","clearTimeout","addEventListener","unmounted","removeEventListener","_el","_binding","_ev","longPressToRight","PointerEvent","button","clientX","clientY","screenX","screenY","relatedTarget","dispatchEvent","getDomElements","ni","interfaceDOM","document","getElementById","portDOM","getElementsByClassName","node","closest","interface","port","ConnectionWrapper","conn","resizeObserver","isInDanger","FORBIDDEN","NONE","fromNodePosition","findNodeById","nodeId","toNodePosition","fromNode","toNode","fromNodeInterfacesSide","Object","values","inputs","outputs","map","io","side","sidePosition","toNodeInterfacesSide","getPortCoordinates","resolved","offsetLeft","clientWidth","offsetTop","clientHeight","updateCoords","ResizeObserver","observe","async","deep","disconnect","containsPoint","elements","includes","$el","firstChild","ref","parseCategories","categoriesNames","categoryTree","toParse","forEach","c","newLabel","rest","split","label","trim","keys","join","entries","Set","setDefaultNames","category","categoryNode","nodes","nodeTypes","nodeType","subcategories","subTree","setMasksToTrue","categorizeNodes","prefix","nodeTree","_a","hitNodes","find","n","categoryName","categoryNames","nameNodeType","allNames","nonCategoryNodes","nodeName","updateMasks","treeNode","filter","forceMask","categoryMatches","categoryResult","score","entryMatches","nt","entryResult","unWatch","TOP_LEVEL_NODES_NAMES","Arrow","LinkMenu","VerticalEllipsis","Cross","CustomContextMenu","onDragStart","defaultCollapse","tooltip","nodeSearch","DOMPurify","notEmptyCategory","fill","storedMask","newValue","oldValue","isTopLevelNode","showMenu","specificationLoaded","labelRefs","showContextMenu","contextMenuX","contextMenuY","selectedNode","contextMenuHoverInfo","isHovered","hoveredItemValue","contextMenuItems","itemToDisable","additionalNodeTypes","has","items","icon","Bin","disabled","onPointerEmit","tooltipMsg","forceZero","getRotation","sortedEntries","obj","sortSubcategories","sort","a","aNode","b","bNode","toLowerCase","localeCompare","prettyTitle","replace","isCategoryNode","showMenuClick","menu","closeMenu","nodeEntryClasses","__entry","openContextMenu","editableNodeTypes","container","range","createRange","selectNodeContents","rect","getBoundingClientRect","right","onContextMenuClick","removeNodeType","onPointerOver","onPointerLeave","color","rotate","sanitize","URLs","role","contextMenuStyle","scale","PaletteCategory","PaletteEntry","paletteRef","paletteSearch","mouseX","mouseY","editorEl","draggedNode","visible","text","draggedNodeStyles","placeNode","instance","displayedGraph","addNode","configurationMenu","newType","nodeData","get","success","dragEndPlaceNode","elementsFromPoint","nodeInformation","dragEndDeselectNode","scroll","nameFilterRef","nodeTypeEntries","topLevelCategories","assign","getNodeIconPath","getNodeURLs","nodeTypesInCategory","nodesURLs","fromEntries","nodesIconPath","topLevelNodes","_","newGraphNode","nodeCategories","parsedTree","topCategory","topSubcategory","All","newNameFilter","getNodeTree","collapse","collapseSidebar","querySelector","event","target","scrollTop","iconMenus","translate","toString","nodeInsideSelection","nodeHTMLelement","selectionBoundingRect","panningX","panningY","nodeX","nodeY","nodeWidth","offsetWidth","nodeHeight","offsetHeight","usePanZoom","pointerCache","prevDiff","midpoint","isGraphSmall","size","graphWidth","graphHeight","zoomLimit","panningRef","dragMove","applyZoom","centerX","centerY","newScale","currentPoint","newPoint","diff","editorHeight","window","innerHeight","editorWidth","innerWidth","getCoordsFromCache","ax","ay","bx","by","dx","dy","sqrt","pointerId","curDiff","p","onMouseWheel","className","scrollAmount","deltaY","deltaMode","scrollDelta","upperLimitOfScale","min","calculateScale","onZoomIn","onZoomOut"],"sourceRoot":""}