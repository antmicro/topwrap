

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>IP-XACT format - Topwrap</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.c5589c0bd87d933a4.min.css?v=eeeb54bc" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Topwrap" class="md-header__button md-logo" aria-label="Topwrap" data-md-component="logo">
      <img src="../_static/white.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Topwrap
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IP-XACT format
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <div class="md-header__button">
        <a href="../topwrap.pdf" title="PDF - topwrap.pdf">
          <div class="md-icon">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zm192 0v128h128L256 0zM64 224h24c30.9 0 56 25.1 56 56s-25.1 56-56 56h-8v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-24c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16z"/></svg>
          </div>
        </a>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/antmicro/topwrap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    antmicro/topwrap
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Topwrap" class="md-nav__button md-logo" aria-label="Topwrap" data-md-component="logo">
      <img src="../_static/white.svg" alt="logo">
    </a>
    Topwrap
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/antmicro/topwrap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    antmicro/topwrap
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1">
          <span class="md-ellipsis">Documentation</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Documentation</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction.html" class="md-nav__link">
        <span class="md-ellipsis">Introduction to Topwrap</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        <span class="md-ellipsis">Installing Topwrap</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started.html" class="md-nav__link">
        <span class="md-ellipsis">Getting started</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced_options.html" class="md-nav__link">
        <span class="md-ellipsis">Advanced options</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples.html" class="md-nav__link">
        <span class="md-ellipsis">Sample projects</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../description_files.html" class="md-nav__link">
        <span class="md-ellipsis">Creating a design</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference.html" class="md-nav__link">
        <span class="md-ellipsis">Interface mapping and inference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../config.html" class="md-nav__link">
        <span class="md-ellipsis">Configuration</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_repositories.html" class="md-nav__link">
        <span class="md-ellipsis">Constructing, configuring and loading repositories</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../interconnect_gen.html" class="md-nav__link">
        <span class="md-ellipsis">Interconnect generation</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../fusesoc.html" class="md-nav__link">
        <span class="md-ellipsis">Using Fuse<wbr>So<wbr>C for automation</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2">
          <span class="md-ellipsis">Developer&#39;s Guide</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer&#39;s Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Developer&#39;s Guide</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="setup.html" class="md-nav__link">
        <span class="md-ellipsis">Setup</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="style.html" class="md-nav__link">
        <span class="md-ellipsis">Code style</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="tests.html" class="md-nav__link">
        <span class="md-ellipsis">Tests</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="internal_representation.html" class="md-nav__link">
        <span class="md-ellipsis">Internal Representation</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="fusesocbuilder.html" class="md-nav__link">
        <span class="md-ellipsis">Fuse<wbr>Soc<wbr>Builder</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="interface.html" class="md-nav__link">
        <span class="md-ellipsis">Interface Definition</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="config.html" class="md-nav__link">
        <span class="md-ellipsis">Config</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="checks.html" class="md-nav__link">
        <span class="md-ellipsis">Validation of design</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="future_enhancements.html" class="md-nav__link">
        <span class="md-ellipsis">Future planned enhancements in Topwrap</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="future_enhancements.html#other-possible-improvements" class="md-nav__link">
        <span class="md-ellipsis">Other possible improvements</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="inline_kpm_howto.html" class="md-nav__link">
        <span class="md-ellipsis">Using KPM iframes inside docs</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="ir-examples.html" class="md-nav__link">
        <span class="md-ellipsis">Examples for Internal Representation</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">IP-<wbr>XACT format</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">IP-<wbr>XACT format</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-observations" class="md-nav__link">
    <span class="md-ellipsis">General observations</span>
  </a>
  
    <nav class="md-nav" aria-label="General observations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vlnv" class="md-nav__link">
    <span class="md-ellipsis">VLNV</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-versions" class="md-nav__link">
    <span class="md-ellipsis">Multiple versions</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-structure" class="md-nav__link">
    <span class="md-ellipsis">Design structure</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-passing" class="md-nav__link">
    <span class="md-ellipsis">Parameter passing</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-sets" class="md-nav__link">
    <span class="md-ellipsis">File sets</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vendor-extensions" class="md-nav__link">
    <span class="md-ellipsis">Vendor extensions</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#catalogs" class="md-nav__link">
    <span class="md-ellipsis">Catalogs</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-example" class="md-nav__link">
    <span class="md-ellipsis">Simple example</span>
  </a>
  
    <nav class="md-nav" aria-label="Simple example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instance-names" class="md-nav__link">
    <span class="md-ellipsis">Instance names</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">Parameters</span>
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-widths" class="md-nav__link">
    <span class="md-ellipsis">Variable widths</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duality-of-the-design-description" class="md-nav__link">
    <span class="md-ellipsis">Duality of the design description</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connections" class="md-nav__link">
    <span class="md-ellipsis">Connections</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-example" class="md-nav__link">
    <span class="md-ellipsis">Interface example</span>
  </a>
  
    <nav class="md-nav" aria-label="Interface example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bus-definitions" class="md-nav__link">
    <span class="md-ellipsis">Bus definitions</span>
  </a>
  
    <nav class="md-nav" aria-label="Bus definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format" class="md-nav__link">
    <span class="md-ellipsis">Format</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-deduction" class="md-nav__link">
    <span class="md-ellipsis">Interface deduction</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-instantiation" class="md-nav__link">
    <span class="md-ellipsis">Bus instantiation</span>
  </a>
  
    <nav class="md-nav" aria-label="Bus instantiation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-portmap-format" class="md-nav__link">
    <span class="md-ellipsis">The port<wbr>Map format</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inout-ports" class="md-nav__link">
    <span class="md-ellipsis">Inout ports</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-assignments" class="md-nav__link">
    <span class="md-ellipsis">Constant assignments</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hierarchical-example" class="md-nav__link">
    <span class="md-ellipsis">Hierarchical example</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interconnect-example" class="md-nav__link">
    <span class="md-ellipsis">Interconnect example</span>
  </a>
  
    <nav class="md-nav" aria-label="Interconnect example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-interconnect-component" class="md-nav__link">
    <span class="md-ellipsis">The interconnect component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-interface" class="md-nav__link">
    <span class="md-ellipsis">External interface</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-features" class="md-nav__link">
    <span class="md-ellipsis">Other features</span>
  </a>
  
    <nav class="md-nav" aria-label="Other features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dynamic-number-of-ports-interfaces-based-on-a-parameter" class="md-nav__link">
    <span class="md-ellipsis">Dynamic number of ports/interfaces based on a parameter</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">Conclusion</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="generator.html" class="md-nav__link">
        <span class="md-ellipsis">Generator</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="interconnect.html" class="md-nav__link">
        <span class="md-ellipsis">Interconnect</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="repo.html" class="md-nav__link">
        <span class="md-ellipsis">Repository</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


  <a href="https://github.com/antmicro/topwrap/blob/main/docs/source/developers_guide/ipxact-design.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>

<h1 id="ip-xact-format">IP-XACT format<a class="headerlink" href="#ip-xact-format" title="Link to this heading">¶</a></h1>
<p>This document is an exploration of the <a class="reference external" href="https://www.accellera.org/images/downloads/standards/ip-xact/IPXACT-2022_user_guide.pdf">IP-XACT format</a>.</p>
<p>All IP-XACT elements generated for the IR examples are located under <code class="docutils literal notranslate"><span class="pre">examples/ir_examples/[example]/ipxact/antmicro.com/[example]</span></code> where <code class="docutils literal notranslate"><span class="pre">antmicro.com/[example]</span></code> represents the <a class="reference internal" href="#vlnv"><code class="docutils literal notranslate"><span class="pre">vendor/library</span></code></a>.
They all conform to the 2022 version.</p>
<h2 id="general-observations">General observations<a class="headerlink" href="#general-observations" title="Link to this heading">¶</a></h2>
<h3 id="vlnv">VLNV<a class="headerlink" href="#vlnv" title="Link to this heading">¶</a></h3>
<p>The IP-XACT format enforces the usage of VLNV (vendor, library, name, version) for every single design and component.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:vendor&gt;</span>antmicro.com<span class="nt">&lt;/ipxact:vendor&gt;</span>
<span class="nt">&lt;ipxact:library&gt;</span>simple<span class="nt">&lt;/ipxact:library&gt;</span>
<span class="nt">&lt;ipxact:name&gt;</span>lfsr_gen<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="nt">&lt;ipxact:version&gt;</span>1.2<span class="nt">&lt;/ipxact:version&gt;</span>
</code></pre></div>
</div>
<p>For now, Topwrap can only reliably handle the <code class="docutils literal notranslate"><span class="pre">name</span></code> value, while <code class="docutils literal notranslate"><span class="pre">vendor</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> are not used anywhere and their concept is unrecognised in the codebase.
Arguably, <code class="docutils literal notranslate"><span class="pre">library</span></code> could be represented by the name of a user repository.</p>
<p>Special consideration needs to be taken for these values, as the XML schema defines specific allowed characters for some fields, while Topwrap doesn’t sanity-check any fields that accept custom names.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Later in this document this group of four tags will be represented by <code class="docutils literal notranslate"><span class="pre">&lt;VLNV...</span> <span class="pre">/&gt;</span></code> to avoid repetition.</p>
</div>
<h3 id="multiple-versions">Multiple versions<a class="headerlink" href="#multiple-versions" title="Link to this heading">¶</a></h3>
<p>There are many versions of the IP-XACT schema, as <a class="reference external" href="http://www.accellera.org/XMLSchema/">visible here</a>, on the official page of Accellera - developers of the format.</p>
<p>Version before 2014 and after 2014 use two different XML namespaces for the tags, respectively: <code class="docutils literal notranslate"><span class="pre">spirit:</span></code> and <code class="docutils literal notranslate"><span class="pre">ipxact:</span></code>.</p>
<p>Vivado seemingly only supports the 2009(!) specification version.</p>
<p>This means the discrepancies between different versions and incompatibilities between tools must be taken into account.</p>
<p>There are <a class="reference external" href="https://www.accellera.org/downloads/standards/ip-xact">official XSLT templates</a> (bottom of the page) available that can convert any IP-XACT .xml file one version up, using an xslt tool like <a class="reference external" href="https://linux.die.net/man/1/xsltproc"><code class="docutils literal notranslate"><span class="pre">xsltproc</span></code></a>.</p>
<h3 id="design-structure">Design structure<a class="headerlink" href="#design-structure" title="Link to this heading">¶</a></h3>
<p>The IP-XACT format revolves mainly around “components”.
This is something that is closest to our <code class="docutils literal notranslate"><span class="pre">IPCoreDescription</span></code> class and its respective YAML schema:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;ipxact:component&gt;</span>
<span class="w">    </span><span class="nt">&lt;VLNV...</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:model&gt;</span>
<span class="w">		</span><span class="nt">&lt;ipxact:instantiations&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:componentInstantiation&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:moduleParameters&gt;</span>
<span class="w">					</span>...
<span class="w">				</span><span class="nt">&lt;/ipxact:moduleParameters&gt;</span>
<span class="w">			</span><span class="nt">&lt;/ipxact:componentInstantiation&gt;</span>
<span class="w">		</span><span class="nt">&lt;/ipxact:instantiations&gt;</span>
<span class="w">		</span><span class="nt">&lt;ipxact:ports&gt;</span>
<span class="w">            </span>...
<span class="w">		</span><span class="nt">&lt;/ipxact:ports&gt;</span>
<span class="w">	</span><span class="nt">&lt;/ipxact:model&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:parameters&gt;</span>
<span class="w">		</span>...
<span class="w">	</span><span class="nt">&lt;/ipxact:parameters&gt;</span>
<span class="nt">&lt;/ipxact:component&gt;</span>
</code></pre></div>
</div>
<p>A singular component represents a black-box, with the outside world seeing only its ports, buses and parameters.
In order to represent its inner design there needs to be a separate design XML file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;ipxact:design&gt;</span>
<span class="w">	</span><span class="nt">&lt;VLNV...</span><span class="w">  </span><span class="nt">/&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:componentInstances&gt;</span>
<span class="w">        </span>...
<span class="w">	</span><span class="nt">&lt;/ipxact:componentInstances&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:adHocConnections&gt;</span>
<span class="w">		</span><span class="nt">&lt;ipxact:adHocConnection&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:name&gt;</span>gen2_gen_out_to_two_mux_gen2<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:portReferences&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:internalPortReference</span><span class="w"> </span><span class="na">componentInstanceRef=</span><span class="s">&quot;ip1&quot;</span><span class="w"> </span><span class="na">portRef=</span><span class="s">&quot;port1&quot;</span><span class="nt">/&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:internalPortReference</span><span class="w"> </span><span class="na">componentInstanceRef=</span><span class="s">&quot;ip2&quot;</span><span class="w"> </span><span class="na">portRef=</span><span class="s">&quot;port1&quot;</span><span class="nt">/&gt;</span>
<span class="w">			</span><span class="nt">&lt;/ipxact:portReferences&gt;</span>
<span class="w">		</span><span class="nt">&lt;/ipxact:adHocConnection&gt;</span>
<span class="w">		</span>...
<span class="w">	</span><span class="nt">&lt;/ipxact:adHocConnections&gt;</span>
<span class="nt">&lt;/ipxact:design&gt;</span>
</code></pre></div>
</div>
<p>which later <em>is attached</em> to the component description under the instantiations section, thus making the design an optional property of a module/component.</p>
<p>To describe a top-level wrapper you need both its description as a component, where the external IO is defined, and its design file that describes what other IPs are incorporated by this wrapper.</p>
<h3 id="parameter-passing">Parameter passing<a class="headerlink" href="#parameter-passing" title="Link to this heading">¶</a></h3>
<p>IP-XACT introduces a distinction between parameters of a component, and module parameters of the component’s instantiation.</p>
<p>This allows most IP-XACT objects to accept parameters that are only internal to them and are unrelated to the potentially generated RTL.
In order to define RTL module parameters, you need to specify them under two separate sections.</p>
<p>Below is an example of defining a <code class="docutils literal notranslate"><span class="pre">paramWIDTH</span></code> parameter with default value of 64 in a component that gets realised in Verilog as <code class="docutils literal notranslate"><span class="pre">parameter</span> <span class="pre">WIDTH</span> <span class="pre">=</span> <span class="pre">64;</span></code>:</p>
<p>Take note of the top-level <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:parameters&gt;</span></code> tag and the <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:moduleParameters&gt;</span></code> tag of the component instantiation.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:instantiations&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:componentInstantiation&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:name&gt;</span>rtl<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:displayName&gt;</span>rtl<span class="nt">&lt;/ipxact:displayName&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:language&gt;</span>Verilog<span class="nt">&lt;/ipxact:language&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:moduleParameters&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:moduleParameter&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:name&gt;</span>WIDTH<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:displayName&gt;</span>WIDTH<span class="nt">&lt;/ipxact:displayName&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:value&gt;</span>paramWIDTH<span class="nt">&lt;/ipxact:value&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ipxact:moduleParameter&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:moduleParameters&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:componentInstantiation&gt;</span>
<span class="nt">&lt;/ipxact:instantiations&gt;</span>
<span class="nt">&lt;ipxact:parameters&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:parameter</span><span class="w"> </span><span class="na">parameterId=</span><span class="s">&quot;paramWIDTH&quot;</span><span class="w"> </span><span class="na">resolve=</span><span class="s">&quot;user&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;longint&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:name&gt;</span>paramWIDTH<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:displayName&gt;</span>paramWIDTH<span class="nt">&lt;/ipxact:displayName&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:value&gt;</span>64<span class="nt">&lt;/ipxact:value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:parameter&gt;</span>
<span class="nt">&lt;/ipxact:parameters&gt;</span>
</code></pre></div>
</div>
<p>In Topwrap, all IP parameters do get realised in the generated Verilog and there is no notion of internal parameters.</p>
<h3 id="file-sets">File sets<a class="headerlink" href="#file-sets" title="Link to this heading">¶</a></h3>
<p>Each component in IP-XACT can contain an <a class="reference external" href="ipxact:fileSets">ipxact:fileSets</a> section.
This is a very exhaustive section about one or more groups of <em>files</em> that this component depends on.
The type and purpose of every such file is marked, e.g: <code class="docutils literal notranslate"><span class="pre">verilogSource</span></code>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:fileSets&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:fileSet&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:name&gt;</span>fs-rtl<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:file&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:name&gt;</span>../RTL/transmitter.v<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:fileType&gt;</span>verilogSource<span class="nt">&lt;/ipxact:fileType&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:logicalName&gt;</span>transmitter_lib<span class="nt">&lt;/ipxact:logicalName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:file&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:fileSet&gt;</span>
<span class="nt">&lt;/ipxact:fileSets&gt;</span>
</code></pre></div>
</div>
<p>This concept currently only exists as a <code class="docutils literal notranslate"><span class="pre">--sources</span></code> CLI flag for <code class="docutils literal notranslate"><span class="pre">topwrap</span> <span class="pre">build</span></code> where all HDL sources are plainly forwarded to the FuseSoC .core.
There is no notion of other file dependencies inside IP Core description YAMLs.</p>
<h3 id="vendor-extensions">Vendor extensions<a class="headerlink" href="#vendor-extensions" title="Link to this heading">¶</a></h3>
<p>The IP-XACT format allows storing completely custom data inside most of the tags using the <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:vendorExtensions&gt;</span></code> group. Topwrap could use them to store additional data about the IPs or designs.</p>
<p>Example theoretical vendor extensions:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:vendorExtensions&gt;</span>
<span class="w">    </span><span class="nt">&lt;topwrap:interconnectType&gt;</span>wishbone<span class="nt">&lt;/topwrap:interconnectType&gt;</span>
<span class="w">    </span><span class="nt">&lt;topwrap:kpm_position</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;600&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;180&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;topwrap:repo&gt;</span>builtin<span class="nt">&lt;/topwrap:repo&gt;</span>
<span class="nt">&lt;/ipxact:vendorExtensions&gt;</span>
</code></pre></div>
</div>
<h3 id="catalogs">Catalogs<a class="headerlink" href="#catalogs" title="Link to this heading">¶</a></h3>
<p>Catalogs describe the location and the VLNV identifier of other IP-XACT elements such as components, designs, buses etc. in order to manage and allow access to collections of IP-XACT files.
In most cases defining a catalog is not required as all necessary files are automatically located by the used tool.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:catalog&gt;</span>
<span class="w">    </span><span class="nt">&lt;VLNV...</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:components&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:ipxactFile&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:vlnv</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;antmicro.com&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;simple&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;lfsr&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:name&gt;</span>./antmicro.com/simple/lfsr/lfsr.1.0.xml<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:ipxactFile&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:components&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:busDefinitions&gt;</span>
<span class="w">        </span>...
<span class="w">    </span><span class="nt">&lt;/ipxact:busDefinitions&gt;</span>
<span class="w">    </span>...
<span class="nt">&lt;/ipxact:catalog&gt;</span>
</code></pre></div>
</div>
<h2 id="simple-example"><a class="reference internal" href="ir-examples.html#simple"><span class="std std-ref">Simple example</span></a><a class="headerlink" href="#simple-example" title="Link to this heading">¶</a></h2>
<p>This is the simplest IP-XACT example as it contains only plain IP cores with standalone ports, and parameters.</p>
<h3 id="instance-names">Instance names<a class="headerlink" href="#instance-names" title="Link to this heading">¶</a></h3>
<p>Since Topwrap doesn’t verify any user-defined names, an accidental creation of a <code class="docutils literal notranslate"><span class="pre">2mux.yaml</span></code> IP Core named <code class="docutils literal notranslate"><span class="pre">2mux_compressor</span></code> instantiated with a <code class="docutils literal notranslate"><span class="pre">2mux</span></code> name, was possible in the YAML format.
Many environments, IP-XACT included, don’t actually allow users to start custom names with a number.
The instance name of <code class="docutils literal notranslate"><span class="pre">2mux</span></code> had to be changed to <code class="docutils literal notranslate"><span class="pre">two_mux</span></code> for this purpose.</p>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<p>The special syntax of IP-XACT parameters is mostly explained in the <a class="reference internal" href="#parameter-passing"><span class="std std-ref">Parameter passing</span></a> section.</p>
<h4 id="variable-widths">Variable widths<a class="headerlink" href="#variable-widths" title="Link to this heading">¶</a></h4>
<p>If you look at either <code class="docutils literal notranslate"><span class="pre">ips/2mux.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">ips/lfsr_gen.yaml</span></code> you’ll see that there are ports with widths defined by the parameters inside an arithmetic expression:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># ips/2mux.yaml</span>
<span class="nt">out</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">out</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">OUT_WIDTH-1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">]</span>
</code></pre></div>
</div>
<p>This is easily realisable in IP-XACT because just like our port widths, they also accept arbitrary arithmetic expressions that can reference other parameters inside them:</p>
<div class="highlight-xml notranslate" id="port-def"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:port&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>out<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:wire&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:direction&gt;</span>out<span class="nt">&lt;/ipxact:direction&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:vectors&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:vector&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:left&gt;</span>paramOUT_WIDTH<span class="w"> </span>-<span class="w"> </span>1<span class="nt">&lt;/ipxact:left&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:right&gt;</span>0<span class="nt">&lt;/ipxact:right&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ipxact:vector&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:vectors&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:wire&gt;</span>
<span class="nt">&lt;/ipxact:port&gt;</span>
</code></pre></div>
</div>
<h3 id="duality-of-the-design-description">Duality of the design description<a class="headerlink" href="#duality-of-the-design-description" title="Link to this heading">¶</a></h3>
<p>The design of the <a class="reference internal" href="ir-examples.html#simple"><span class="std std-ref">Simple</span></a> example is defined (from the Topwrap’s perspective) purely in the <code class="docutils literal notranslate"><span class="pre">design.yaml</span></code> file. This is not so simple in IP-XACT, see <a class="reference internal" href="#design-structure"><span class="std std-ref">Design structure</span></a>.</p>
<p>Mostly this means that the “external” section of our design YAML lands in its own component/IP file and the connections and module instances in a separate one that is attached to the component file as a “design instantiation”.</p>
<p>The generated top-level component for this example and its design (<code class="docutils literal notranslate"><span class="pre">top.design.1.0.xml</span></code>) are located inside the <code class="docutils literal notranslate"><span class="pre">top</span></code> directory in the IP-XACT library.</p>
<p>Additionally a “design configuration” file is generated that contains additional configuration information for the main design file. Not much is specified there for this example though.</p>
<p>So finally the original <code class="docutils literal notranslate"><span class="pre">design.yaml</span></code> ends up becoming 3 interconnected .xml files in IP-XACT.</p>
<h3 id="connections">Connections<a class="headerlink" href="#connections" title="Link to this heading">¶</a></h3>
<p>Port connections between IP cores, and IP cores and externals are all specified in the XML design file.
There isn’t much special about them, they are represented very similarly to our design description yaml connections:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:adHocConnection&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>gen2_gen_out_to_two_mux_gen2<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:portReferences&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:internalPortReference</span><span class="w"> </span><span class="na">componentInstanceRef=</span><span class="s">&quot;gen2&quot;</span><span class="w"> </span><span class="na">portRef=</span><span class="s">&quot;gen_out&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:internalPortReference</span><span class="w"> </span><span class="na">componentInstanceRef=</span><span class="s">&quot;two_mux&quot;</span><span class="w"> </span><span class="na">portRef=</span><span class="s">&quot;gen2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:portReferences&gt;</span>
<span class="nt">&lt;/ipxact:adHocConnection&gt;</span>
</code></pre></div>
</div>
<h2 id="interface-example"><a class="reference internal" href="ir-examples.html#interface"><span class="std std-ref">Interface example</span></a><a class="headerlink" href="#interface-example" title="Link to this heading">¶</a></h2>
<p>The key thing about this example is that it uses an interface connection (AXI 4 Stream) between two IPs, an inout port, a constant value supplied to a port and <a class="reference internal" href="../description_files.html#port-slicing"><span class="std std-ref">Port slicing</span></a>.</p>
<div class="info admonition">
<p class="admonition-title">Info</p>
<p>An interface is a named, predefined collection of logical signals used to transfer information between different IPs or other building blocks.
Common interface types include: Wishbone, AXI, AHB, and more.</p>
<p>Topwrap, like SystemVerilog, refers to this concept as an “interface”.</p>
<p>IP-XACT refers to the same concept as a “bus”.</p>
</div>
<h3 id="bus-definitions">Bus definitions<a class="headerlink" href="#bus-definitions" title="Link to this heading">¶</a></h3>
<p>Custom interfaces in Topwrap are defined using <a class="reference internal" href="../description_files.html#interface-description-files"><span class="std std-ref">Interface description files</span></a>.</p>
<p>Custom interfaces are well recognized and supported in IP-XACT.
They are represented by two files, a “bus definition” that defines the existence of the interface/bus itself, its name and configurable parameters; and an “abstraction definition” that defines the logical signals of the interface.</p>
<p>It’s possible to have more than one abstraction definition for a given bus definition.</p>
<p>Often times the necessary definitions for a given interface are already publicly available.
For example, the IP-XACT bus definitions of all ARM AMBA interfaces are available <a class="reference external" href="https://developer.arm.com/Architectures/AMBA#Downloads">here</a> in the 2009 version of IP-XACT.
For this document, they were up-converted to the 2022 version with the help of <a class="reference internal" href="#multiple-versions">XSLT templates</a>.</p>
<h4 id="format">Format<a class="headerlink" href="#format" title="Link to this heading">¶</a></h4>
<p>If not, a custom definition has to be created.
Starting with the bus definition:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:busDefinition&gt;</span>
<span class="w">  </span><span class="nt">&lt;VLNV...</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;ipxact:description&gt;</span>This<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>AXI4Stream<span class="w"> </span>stream<span class="w"> </span>bus<span class="w"> </span>definition.<span class="nt">&lt;/ipxact:description&gt;</span>
<span class="w">  </span><span class="nt">&lt;ipxact:directConnection&gt;</span>true<span class="nt">&lt;/ipxact:directConnection&gt;</span>
<span class="w">  </span><span class="nt">&lt;ipxact:isAddressable&gt;</span>false<span class="nt">&lt;/ipxact:isAddressable&gt;</span>
<span class="nt">&lt;/ipxact:busDefinition&gt;</span>
</code></pre></div>
</div>
<p>VLNV entries and description are both present at the start, like in all other IP-XACT definitions. Then there are two configuration bools:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;ipxact:directConnection&gt;</span></code> decides if this bus allows direct connection between a manager/initiator and subordinate/targets. Important for “asymmetric buses such as AHB”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;ipxact:isAddressable&gt;</span></code> decides if this bus is addressable using the address space of the manager side of the bus. e.g. <code class="docutils literal notranslate"><span class="pre">true</span></code> for AXI4, <code class="docutils literal notranslate"><span class="pre">false</span></code> for AXI4Stream.</p></li>
</ul>
<p>Then to specify the logical signals of the interface, an abstraction definition has to be created:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:abstractionDefinition&gt;</span>
<span class="w">	</span><span class="nt">&lt;VLNV...</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:description&gt;</span>This<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span>RTL<span class="w"> </span>Abstraction<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>AMBA4/AXI4Stream<span class="nt">&lt;/ipxact:description&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:busType</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;amba.com&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;AMBA4&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;AXI4Stream&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;r0p0_1&quot;</span><span class="nt">/&gt;</span>
<span class="w">	</span><span class="nt">&lt;ipxact:ports&gt;</span>
<span class="w">		</span><span class="nt">&lt;ipxact:port&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:logicalName&gt;</span>TREADY<span class="nt">&lt;/ipxact:logicalName&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:description&gt;</span>indicates<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>Receiver<span class="w"> </span>can<span class="w"> </span>accept<span class="w"> </span>a<span class="w"> </span>transfer<span class="w"> </span>in<span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>cycle.<span class="nt">&lt;/ipxact:description&gt;</span>
<span class="w">			</span><span class="nt">&lt;ipxact:wire&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:onInitiator&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:presence&gt;</span>optional<span class="nt">&lt;/ipxact:presence&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:width&gt;</span>1<span class="nt">&lt;/ipxact:width&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:direction&gt;</span>in<span class="nt">&lt;/ipxact:direction&gt;</span>
<span class="w">				</span><span class="nt">&lt;/ipxact:onInitiator&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:onTarget&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:presence&gt;</span>optional<span class="nt">&lt;/ipxact:presence&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:width&gt;</span>1<span class="nt">&lt;/ipxact:width&gt;</span>
<span class="w">					</span><span class="nt">&lt;ipxact:direction&gt;</span>out<span class="nt">&lt;/ipxact:direction&gt;</span>
<span class="w">				</span><span class="nt">&lt;/ipxact:onTarget&gt;</span>
<span class="w">				</span><span class="nt">&lt;ipxact:defaultValue&gt;</span>1<span class="nt">&lt;/ipxact:defaultValue&gt;</span>
<span class="w">			</span><span class="nt">&lt;/ipxact:wire&gt;</span>
<span class="w">		</span><span class="nt">&lt;/ipxact:port&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:ports&gt;</span>
<span class="nt">&lt;/ipxact:abstractionDefinition&gt;</span>
</code></pre></div>
</div>
<p>This is a fragment of the <code class="docutils literal notranslate"><span class="pre">TREADY</span></code> signal definition of the AXI 4 Stream interface.</p>
<p>There’s the classic VLNV + Description combo at the start, then the associated bus definition is referenced and lastly the signals of the interface are defined.</p>
<p>In IP-XACT, unlike in Topwrap, you can specify different options for signals on both the manager and the subordinate separately, importantly a signal can be required on one side of the bus while being optional on the other. This is currently impossible to represent in Topwrap. The width specification and the default value are not supported either by Topwrap.</p>
<p>Moreover, unlike in Topwrap, in IP-XACT the clock and reset signals are also specified in the definition alongside other signals. They are however marked with special qualifiers that distinguish their roles and enforce certain behaviours.</p>
<p>Example qualifiers:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:wire&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:qualifier&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:isClock&gt;</span>true<span class="nt">&lt;/ipxact:isClock&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:isReset&gt;</span>true<span class="nt">&lt;/ipxact:isReset&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:qualifier&gt;</span>
<span class="nt">&lt;/ipxact:wire&gt;</span>
</code></pre></div>
</div>
<div class="info admonition">
<p class="admonition-title">Info</p>
<p>While Topwrap uses the <code class="docutils literal notranslate"><span class="pre">manager</span></code> and <code class="docutils literal notranslate"><span class="pre">subordinate</span></code> terms to refer to the roles an IP can assume in the bus connection, IP-XACT pre-2022 uses <code class="docutils literal notranslate"><span class="pre">master</span></code>, <code class="docutils literal notranslate"><span class="pre">slave</span></code> and IP-XACT 2022-onwards uses <code class="docutils literal notranslate"><span class="pre">initiator</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> respectively.</p>
</div>
<h4 id="interface-deduction">Interface deduction<a class="headerlink" href="#interface-deduction" title="Link to this heading">¶</a></h4>
<p>Topwrap supports specifying both a regex for each signal and the port prefix for the entire interface in order to <a class="reference internal" href="../inference.html"><span class="std std-doc">automatically group raw ports</span></a> from HDL sources into interfaces. None of that is possible to represent in IP-XACT, though this information can be stored anyways using <a class="reference internal" href="#vendor-extensions"><span class="std std-ref">Vendor extensions</span></a>.</p>
<h3 id="bus-instantiation">Bus instantiation<a class="headerlink" href="#bus-instantiation" title="Link to this heading">¶</a></h3>
<p>To use the bus inside a component definition you have to:</p>
<ul class="simple">
<li><p>Add all the physical ports that will get used as the bus signals just like regular <a class="reference internal" href="#port-def">ad-hoc ports</a></p></li>
<li><p>Map these physical ports to logical ports of the interface</p></li>
</ul>
<h4 id="the-portmap-format">The portMap format<a class="headerlink" href="#the-portmap-format" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">interfaces</span><span class="p">:</span>
<span class="w">    </span><span class="nt">io</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AXI4Stream</span>
<span class="w">        </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">subordinate</span>
<span class="w">        </span><span class="nt">signals</span><span class="p">:</span>
<span class="w">            </span><span class="nt">in</span><span class="p">:</span>
<span class="w">                </span><span class="nt">TDATA</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">dat_i</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">31</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">]</span>
</code></pre></div>
</div>
<p>This fragment of <a class="reference internal" href="../description_files.html#design-description"><span class="std std-ref">Design description</span></a> would translate to the below IP-XACT description, assuming the <code class="docutils literal notranslate"><span class="pre">dat_i</span></code> signal was previously defined in the ad-hoc ports section.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:busInterfaces&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:busInterface&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:name&gt;</span>io<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:busType</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;amba.com&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;AMBA4&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;AXI4Stream&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;r0p0_1&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:abstractionTypes&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:abstractionType&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:abstractionRef</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;amba.com&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;AMBA4&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;AXI4Stream_rtl&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;r0p0_1&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:portMaps&gt;</span>
<span class="w">                    </span><span class="nt">&lt;ipxact:portMap&gt;</span>
<span class="w">                        </span><span class="nt">&lt;ipxact:logicalPort&gt;</span>
<span class="w">                            </span><span class="nt">&lt;ipxact:name&gt;</span>TDATA<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/ipxact:logicalPort&gt;</span>
<span class="w">                        </span><span class="nt">&lt;ipxact:physicalPort&gt;</span>
<span class="w">                            </span><span class="nt">&lt;ipxact:name&gt;</span>dat_i<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/ipxact:physicalPort&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/ipxact:portMap&gt;</span>
<span class="w">                </span><span class="nt">&lt;/ipxact:portMaps&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ipxact:abstractionType&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:abstractionTypes&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:target/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:busInterface&gt;</span>
<span class="nt">&lt;/ipxact:busInterfaces&gt;</span>
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:busInterfaces&gt;</span></code> tag is a direct child of the top-level <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:component&gt;</span></code> tag.</p>
<p><a class="reference internal" href="../description_files.html#port-slicing"><span class="std std-ref">Port slicing</span></a> is supported as well:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:physicalPort&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>ctrl_i<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:partSelect&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:range&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:left&gt;</span>4<span class="nt">&lt;/ipxact:left&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:right&gt;</span>4<span class="nt">&lt;/ipxact:right&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:range&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:partSelect&gt;</span>
<span class="nt">&lt;/ipxact:physicalPort&gt;</span>
</code></pre></div>
</div>
<h3 id="inout-ports">Inout ports<a class="headerlink" href="#inout-ports" title="Link to this heading">¶</a></h3>
<p>This example contains an external inout port raised from one of the IPs.
While the <a class="reference internal" href="../description_files.html#design-description"><span class="std std-ref">Topwrap syntax</span></a> for specifying inout ports in a design is a bit awkward, in IP-XACT inout ports are represented just like ports with other directions.</p>
<h3 id="constant-assignments">Constant assignments<a class="headerlink" href="#constant-assignments" title="Link to this heading">¶</a></h3>
<p>This example also features a constant value (2888) assigned to the <code class="docutils literal notranslate"><span class="pre">noise</span></code> port of the <code class="docutils literal notranslate"><span class="pre">receiver</span></code> IP instead of any wire. In IP-XACT this is done similarly to <a class="reference internal" href="#connections"><span class="std std-ref">Connections</span></a>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:adHocConnection&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>receiver_0_noise_to_tiedValue<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:tiedValue&gt;</span>2888<span class="nt">&lt;/ipxact:tiedValue&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:portReferences&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:internalPortReference</span><span class="w"> </span><span class="na">componentInstanceRef=</span><span class="s">&quot;receiver_0&quot;</span><span class="w"> </span><span class="na">portRef=</span><span class="s">&quot;noise&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:portReferences&gt;</span>
<span class="nt">&lt;/ipxact:adHocConnection&gt;</span>
</code></pre></div>
</div>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">tiedValue</span></code> can be given by an arithmetic expression that resolves to a constant value.</p>
<h2 id="hierarchical-example"><a class="reference internal" href="ir-examples.html#hierarchical"><span class="std std-ref">Hierarchical example</span></a><a class="headerlink" href="#hierarchical-example" title="Link to this heading">¶</a></h2>
<p>The hierarchical example features deeply nested hierarchies.
The purpose of a hierarchical design is to group together into separate levels/modules, connections that could just as well be realised flatly in the top-level.</p>
<p>In Topwrap, all hierarchies are specified in the respective <a class="reference internal" href="../description_files.html#hierarchies"><span class="std std-ref">design description file</span></a> YAML using a special syntax that allows multiple design descriptions to be nested together in a single file.</p>
<p>IP-XACT has no notion of any special syntax for hierarchies, because it doesn’t need to. Due to the <a class="reference internal" href="#design-structure">architecture of design XMLs</a> being extensions to component XMLs, it’s possible to just generate a component+design pair for every hierarchy and connect them just as if they were regular IPs that happen to have a design available alongside them. This is exactly what was done to represent this example.</p>
<h2 id="interconnect-example"><a class="reference internal" href="ir-examples.html#interconnect"><span class="std std-ref">Interconnect example</span></a><a class="headerlink" href="#interconnect-example" title="Link to this heading">¶</a></h2>
<p>This example features the <a class="reference internal" href="../interconnect_gen.html"><span class="std std-doc">Interconnect generation</span></a> functionality of Topwrap.</p>
<p>Specifying interconnects in the Topwrap design description implies dynamic generation of necessary arbiters and bus components during build-time using parameters defined under the interconnect instance key.</p>
<p>IP-XACT doesn’t support such functionality because it’s just a file format and it doesn’t necessarily have any dynamic code associated with it.</p>
<p>Conversion from Topwrap -&gt; IP-XACT should probably just generate the interconnect bus component with the required amount of manager and subordinate ports and package it alongside the generated RTL implementation of routers and arbiters.</p>
<p>Reverse conversion (from the concrete generated IP-XACT interconnect to Topwrap’s interconnect entry) is probably impossible, we can’t know the interconnect specifics to know which type to pick after it’s already generated.
However, all this necessary information could be stored in a vendor extension.</p>
<h3 id="the-interconnect-component">The interconnect component<a class="headerlink" href="#the-interconnect-component" title="Link to this heading">¶</a></h3>
<p>The generated interconnect is located in <code class="docutils literal notranslate"><span class="pre">./antmicro.com/interconnect/interconnect/wishbone_interconnect1.xml</span></code>.
As mentioned, it has just enough interface ports to connect the two specified managers and two subordinates.</p>
<p>The Wishbone interface definition from <code class="docutils literal notranslate"><span class="pre">opencores.org</span></code> was used.</p>
<p>The main difference that differentiates the interconnect component from raw interface connections like in the <a class="reference internal" href="#interface-example"><span class="std std-ref">Interface example</span></a> is the explicit definition and mapping of the address space with the <code class="docutils literal notranslate"><span class="pre">&lt;ipxact:addressSpaces&gt;</span></code> tag and assignment of each manager port to one or more subordinates.</p>
<p>The extensions used in the bus instance element in the component definition.
Focus on the <code class="docutils literal notranslate"><span class="pre">ipxact:addressSpaceRef</span></code> tag where the base address of this subordinate is specified:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:busInterface&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>target_1<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:busType</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;opencores.org&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;interface&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wishbone&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;b4&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:abstractionTypes&gt;</span>
<span class="w">        </span>...
<span class="w">    </span><span class="nt">&lt;/ipxact:abstractionTypes&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:initiator&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:addressSpaceRef</span><span class="w"> </span><span class="na">addressSpaceRef=</span><span class="s">&quot;address&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:baseAddress&gt;</span>&#39;h10000<span class="nt">&lt;/ipxact:baseAddress&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:addressSpaceRef&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:initiator&gt;</span>
<span class="nt">&lt;/ipxact:busInterface&gt;</span>
</code></pre></div>
</div>
<p>The extension used at the top-level in the component definition to map the address space:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:addressSpaces&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:addressSpace&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:name&gt;</span>address<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:range&gt;</span>2**32/8-1<span class="nt">&lt;/ipxact:range&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:width&gt;</span>8<span class="nt">&lt;/ipxact:width&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:segments&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:segment&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:name&gt;</span>mem<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:addressOffset&gt;</span>&#39;h0<span class="nt">&lt;/ipxact:addressOffset&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:range&gt;</span>&#39;hFFFF+1<span class="nt">&lt;/ipxact:range&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ipxact:segment&gt;</span>
<span class="w">            </span><span class="nt">&lt;ipxact:segment&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:name&gt;</span>dsp<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:addressOffset&gt;</span>&#39;h10000<span class="nt">&lt;/ipxact:addressOffset&gt;</span>
<span class="w">                </span><span class="nt">&lt;ipxact:range&gt;</span>&#39;hFF+1<span class="nt">&lt;/ipxact:range&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ipxact:segment&gt;</span>
<span class="w">        </span><span class="nt">&lt;/ipxact:segments&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:addressUnitBits&gt;</span>8<span class="nt">&lt;/ipxact:addressUnitBits&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:addressSpace&gt;</span>
<span class="nt">&lt;/ipxact:addressSpaces&gt;</span>
</code></pre></div>
</div>
<p>The assignment of a manager port to specified subordinates(targets):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">&lt;ipxact:busInterface&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:name&gt;</span>manager0<span class="nt">&lt;/ipxact:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ipxact:busType</span><span class="w"> </span><span class="na">vendor=</span><span class="s">&quot;opencores.org&quot;</span><span class="w"> </span><span class="na">library=</span><span class="s">&quot;interface&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;wishbone&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;b4&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;ipxact:target&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:transparentBridge</span><span class="w"> </span><span class="na">initiatorRef=</span><span class="s">&quot;target_0&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;ipxact:transparentBridge</span><span class="w"> </span><span class="na">initiatorRef=</span><span class="s">&quot;target_1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ipxact:target&gt;</span>
<span class="nt">&lt;/ipxact:busInterface&gt;</span>
</code></pre></div>
</div>
<h3 id="external-interface">External interface<a class="headerlink" href="#external-interface" title="Link to this heading">¶</a></h3>
<p>In the Topwrap definition of this example, a <code class="docutils literal notranslate"><span class="pre">wishbone_passthrough</span></code> IP core is used in order to allow the external interface to be connected as a manager to the interconnect. This is due to limitations of the schema and the fact that under the <code class="docutils literal notranslate"><span class="pre">managers</span></code> key Topwrap expects the IP instance name with the specified manager port, completely disregarding the possibility of it being external.</p>
<h2 id="other-features"><a class="reference internal" href="ir-examples.html#other"><span class="std std-ref">Other features</span></a><a class="headerlink" href="#other-features" title="Link to this heading">¶</a></h2>
<h3 id="dynamic-number-of-ports-interfaces-based-on-a-parameter">Dynamic number of ports/interfaces based on a parameter<a class="headerlink" href="#dynamic-number-of-ports-interfaces-based-on-a-parameter" title="Link to this heading">¶</a></h3>
<p>This is not possible in IP-XACT.
All ports/interfaces and connections need to be explicitly defined.
While the amount of bits in a port can vary based on a parameter value, as was presented in <a class="reference internal" href="#variable-widths"><span class="std std-ref">Variable widths</span></a>, higher level concepts such as the number of ports cannot.</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">¶</a></h2>
<p>In most aspects IP-XACT is a superset of what’s possible to describe in Topwrap, making the Topwrap -&gt; IP-XACT conversion pretty trivial.</p>
<p>Syntax impossible to represent natively in IP-XACT such as:</p>
<ul class="simple">
<li><p>Abstract interconnects without concrete implementation</p></li>
<li><p>Interface signal name regexes and port prefixes (see <a class="reference internal" href="../inference.html"><span class="std std-doc">Interface mapping and inference</span></a>)</p></li>
</ul>
<p>can even if not implemented, be at least preserved using <a class="reference internal" href="#vendor-extensions"><span class="std std-ref">Vendor extensions</span></a>.</p>
<p>Other visible issue for this conversion are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#vlnv"><span class="std std-ref">VLNV</span></a> being mandatory for IP-XACT files, but Topwrap containing only the name information</p></li>
<li><p>Lack of input sanitization of string fields on Topwrap’s side</p></li>
</ul>
<p>On the other hand, the conversion from a generic IP-XACT file to Topwrap’s internal representation may prove more tricky and definitely suffer from information loss as the IP-XACT format is packed with more features and elements that are not exactly useful for our purposes and were not even mentioned in this document at all.</p>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2025-12-16
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="ir-examples.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Examples for Internal Representation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Examples for Internal Representation
            </div>
          </div>
        </a>
      
      
        
        <a href="generator.html" class="md-footer__link md-footer__link--next" aria-label="Next: Generator" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Generator
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        Copyright &#169; Antmicro, 2025.
        
    </div>
  
      <a href="https://github.com/antmicro/topwrap/tree/7e45701a98f2cb00a6151bbc2489f590bc4036c1">7e45701a</a>
        @ <a href="https://github.com/antmicro/topwrap/tree/main">main</a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/antmicro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/antmicro" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.integrate"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script type="module">
const load = async () => {{
    await mermaid.run();
    const all_mermaids = document.querySelectorAll(".mermaid");
    const mermaids_to_add_zoom = typeof d3 === 'undefined' ? 0 : all_mermaids.length;
    const mermaids_processed = document.querySelectorAll(".mermaid[data-processed='true']");
    if(mermaids_to_add_zoom > 0) {{
        var svgs = d3.selectAll(".mermaid svg");
        if(all_mermaids.length !== mermaids_processed.length) {{
            // try again in a sec, wait for mermaids to load
            setTimeout(load, 200);
            return;
        }} else if(svgs.size() !== mermaids_to_add_zoom) {{
            // try again in a sec, wait for mermaids to load
            setTimeout(load, 200);
            return;
        }} else {{
            svgs.each(function() {{
                var svg = d3.select(this);
                svg.html("<g class='wrapper'>" + svg.html() + "</g>");
                var inner = svg.select("g");
                var zoom = d3.zoom().on("zoom", function(event) {{
                    inner.attr("transform", event.transform);
                }});
                svg.call(zoom);
            }});
        }}
    }}
}};

import elkLayouts from 'https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs';
if (typeof mermaid !== 'undefined') {
    mermaid.registerLayoutLoaders(elkLayouts);
    mermaid.initialize({startOnLoad:false});
    window.addEventListener("load", load);
}
</script>
    
  </body>
</html>